(()=>{var Li=Object.defineProperty;var o=(k,m)=>Li(k,"name",{value:m,configurable:!0});(window.webpackJsonp=window.webpackJsonp||[]).push([["gantry-v2-async-client-channel-view"],{"+ZQ6":function(k,m,e){"use strict";e.d(m,"a",function(){return t});const n=/^@?V[A-Z0-9]{8,}$/;function t(u){return u?n.test(u):!1}o(t,"looksLikeViewId")},"+l1W":function(k,m,e){k.exports=e.p+"nfx-welcome-modal-ko-KR-36126cb.gif"},"0AcQ":function(k,m,e){"use strict";e.d(m,"a",function(){return p}),e.d(m,"c",function(){return l}),e.d(m,"d",function(){return C}),e.d(m,"b",function(){return R});var n=e("Lgge"),t=e("n3tL"),u=e("2XU3"),f=e("WCk1"),i=e("zFGr"),c=e("417x"),b=e("6Rx/"),M=e("s4P+"),d=e("RVJP");const g=1e4,_=15e3,p={internalError:"internal_error",validationFailed:"validation_failed"},l=Object(f.a)("get the contents of an app view",(L,A,ee)=>{if(!ee)return n.a.reject();const x=L(Object(u.apiCall)({method:"views.get",reason:"fetchView",args:{view_id:ee}})).then(U=>{let{view:G}=U;return Object(c.b)(G)});return Object(b.b)(x,g)});l.meta={name:"createFetcher",key:"createFetcherfetchView",description:"get the contents of an app view"},l.propTypes=t.default.string;const C=Object(f.a)("submit an app view dialog",function(L,A){let{viewId:ee,state:x}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!ee||!x)return n.a.reject();const U=i.a.generateAndEnqueue(A()),re=Object(d.d)(A(),"views_submit_increased_timeout")==="on"?_:g;let z={};try{z={client_token:U,view_id:ee,state:JSON.stringify(x)}}catch(j){Object(M.b)().error(`Unable to stringify state for views submit payload. ${j}`)}const v=L(Object(u.apiCall)({method:"views.submit",reason:"submit-view",args:z})).then(j=>{let{view:I,response_action:B}=j;return{updatedView:Object(c.b)(I),responseAction:B}});return Object(b.b)(v,re)});C.meta={name:"createFetcher",key:"createFetchersubmitView",description:"submit an app view dialog"},C.propTypes={viewId:t.default.string.isRequired,state:t.default.object.isRequired};const R=Object(f.a)("delete an app view",(L,A,ee)=>{let{viewId:x,rootViewId:U}=ee;if(!x)return n.a.reject();const re={client_token:i.a.generateAndEnqueue(A()),view_id:x,root_view_id:U},z=L(Object(u.apiCall)({method:"views.close",reason:"close-view",args:re}));return Object(b.b)(z,g)});R.meta={name:"createFetcher",key:"createFetcherdeleteView",description:"delete an app view"},R.propTypes={viewId:t.default.string.isRequired,rootViewId:t.default.string}},"17wV":function(k,m,e){k.exports=e.p+"nfx-welcome-modal-ja-JP-fe83200.gif"},"1ILc":function(k,m,e){"use strict";var n=e("q1tI"),t=e.n(n),u=e("Cfcg"),f=e("BHdc"),i=e("WIr4"),c=e("vSIF"),b=e("ktUG"),M=e("gq0b"),d=e("2vQQ"),g=e("fLNI"),_=e("TUDT"),p=e("RVJP"),l=e("uZL6"),C=e("E3dU"),R=e("ISSR"),L=e("IXzp"),A=e("FVdo"),ee=e("Yv4i"),x=e("9MPI"),U=e("Yauy"),G=e("XXd4"),re=e("QcWC"),v=Object(l.a)(O=>Object(p.d)(O,"adoption_instant_slack")==="treatment",O=>Object(p.d)(O,"adoption_instant_slack_move_session")==="on",O=>Object(re.a)(O),(O,T)=>{const y=Object(x.a)(O,T==null?void 0:T.id,ee.a);return y==null?void 0:y.enabled},(O,T)=>!Object(G.a)(O,T),(O,T)=>Object(U.db)(T),(O,T,y,Q,le,Ne)=>({experimentAdoptionInstantSlackGroupTreatment:O,experimentAdoptionInstantSlackMoveSessionGroupOn:T,isInstantSlackInviteeSession:y,isInstantSlackChannel:Q,isHostTeam:le,isChannelMember:Ne})),j=e("3vtZ"),I=e("PX9a"),B=e("AxFX"),F=e("EAKl"),S;(function(O){O.AvatarStack="avatar_stack",O.ShareQuip="share_quip",O.QuipDivider="quip_divider",O.CloseQuip="close_quip",O.CloseTile="close_tile",O.Call="call",O.RefreshAllUnreads="refresh_all_unreads",O.DetachedWindow="detached_window",O.ChannelSpace="channel_space",O.InstantSlackEndConversation="instant_slack_end_conversation",O.InstantSlackSaveConversation="instant_slack_save_conversation",O.Huddle="huddle",O.RecordChannel="record_channel",O.SummarizeChannel="summarize_channel"})(S||(S={}));var se=Object(l.a)((O,T)=>{let{id:y}=T;return Object(A.b)(O,y)},(O,T)=>{let{id:y}=T;return Object(R.a)(Object(C.d)(O,y))},(O,T)=>{let{id:y}=T;return Object(L.h)(O,Object(C.d)(O,y))},(O,T)=>{let{id:y}=T;return v(O,Object(C.d)(O,y)||void 0)},(O,T)=>{let{id:y}=T;return Object(j.e)(O,Object(C.d)(O,y))},O=>Object(L.f)(O),(O,T)=>{let{id:y}=T;return Object(I.b)(O)&&Object(B.a)(y)},O=>Object(F.d)(O),(O,T,y,Q,le,Ne,be,ie)=>{const Ce=[],et=[A.a.Channel,A.a.MPDM,A.a.DM].includes(O);if(O===A.a.Unknown)return[];const{isChannelMember:Et,isHostTeam:ut,experimentAdoptionInstantSlackGroupTreatment:tt,experimentAdoptionInstantSlackMoveSessionGroupOn:_t,isInstantSlackChannel:It,isInstantSlackInviteeSession:Jt}=Q;(O===A.a.Channel||O===A.a.MPDM)&&!T&&!Jt&&Ce.push(S.AvatarStack),le&&Ce.push(S.Huddle);const wt=y&&Ne&&!le;!et&&wt&&Ce.push(S.Call),O===A.a.Channel&&tt&&Et&&ut&&It&&Ce.push(S.InstantSlackEndConversation);const ja=O===A.a.Channel&&Jt&&It;return _t&&ja&&Ce.push(S.InstantSlackSaveConversation),ie&&(O===A.a.Channel||O===A.a.MPDM||O===A.a.DM)&&Ce.push(S.SummarizeChannel),et&&(wt&&Ce.push(S.Call),Ce.push(S.ChannelSpace)),O===A.a.Channel&&be&&Ce.push(S.RecordChannel),Ce[Ce.length-1]===S.QuipDivider&&Ce.pop(),Ce}),W=e("orxu"),Y=e("HKlo"),ve=e("Trx9"),de=e("nNoG"),_e=e("6OGp"),Pe=e("HkGY"),ne=e("nFQW"),Z=e("nWdO"),te=e("CnKg"),$=e("6Ng/"),ye=e("iLjr"),ge=e("c+5m"),je=e("4KfL"),pe=e("zxER"),Ve=e("/MKj"),Fe=e("tYiI"),Le=e("t0jf"),He=e("gVOt"),Re=e("x6tY"),ht=e("gWIG"),yt=e("Bz4R"),gt=e("lpXb"),pt=e("NK7x"),mt=e("dmdh"),Dt=e("oEDn"),Pt=e("ZobM"),Ot=e("6R8Z"),Kt=e("Tsh7"),ea=e("AwEi"),Nt=e("/qcS"),na=e("9WTs"),sa=e("yz5U"),ma=e("ItXa"),ua=e("1DMY"),ra=e("sgFo"),bt=e("LRQ2"),Ct=e("W7ht"),Ga=e("5BbJ"),oa=e("wY8X"),ia=e("rnop"),dt=e("ZlCs"),vt=e("RcBX"),kt=e("pFNT"),ta=e("g/kD"),Je=e("rYD8");function ft(O){let{id:T}=O;const y=Object(pe.c)(Ne=>Object(C.d)(Ne,T)),Q=Object(He.a)(y),le=Object(vt.a)(y);return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-view_header__avatar"},t.a.createElement(kt.c,{userId:Q,size:kt.a.small,showBadge:!1,isInteractive:!1,showPresence:!0})),t.a.createElement("span",{className:"p-view_header__truncated_text"},t.a.createElement(Je.a,{className:"p-view_header__member_name",id:Q,showMemberNameIfHidden:!0})),le&&t.a.createElement(Dt.a,{inline:!0,type:"hourglass","data-qa":"view_header_pending_icon"}),t.a.createElement(ta.a,{memberId:Q,className:"p-view_header__custom_status",noText:!0,tooltip:!1}))}o(ft,"DMTitle"),ft.displayName="DMTitle";var nt=ft,jt=e("KuM7"),Bt=e("cd9r"),Ee=e("vJtL"),Ge=e("fujP");const Oe=new de.b("classic_nav"),X=o(()=>t.a.createElement("div",{className:"p-ia__view_header__title","data-qa":"ia_view_header_threads"},Oe.t("Threads")),"AllThreadsHeader");X.displayName="AllThreadsHeader";var V=X;function w(O){let{id:T}=O;const y=Object(M.b)(T),Q=Object(pe.c)(le=>Object(Ee.a)(y==null?void 0:y.label)?y==null?void 0:y.label(le):void 0);return T==="Vall_threads"?t.a.createElement(V,null):Object(Ge.a)(y)?null:y.header?t.a.createElement(t.a.Fragment,null,y.header({className:"p-ia__view_header__page_header"})):t.a.createElement("span",{className:"p-view_header__truncated_text"},Q)}o(w,"PageTitle"),w.displayName="PageTitle";var ue=w,xe=e("qDEp"),Ke=e("c+dP"),Ye=e("oHyA"),it=e("G0eX"),Rt=e("Skui"),Wt=e("Atq3");const Ae=new de.b("menu"),$e=o(O=>{let{item:T,dispatch:y,externalWorkspace:Q,canCurrentUserOpenCommunityAdminDashboard:le,canUserCreateSlackConnectWorkspaceInvites:Ne,communityAdminDashboardUrl:be,window:ie,dataQa:Ce}=O;const st=Object(de.k)(Object(it.h)(Q));switch(T){case"manage_external_workspace":return le?be?[{label:Ae.t("{workspaceName} settings",{workspaceName:st,fallbackHash:"9c220124d82344bb7bf9174a734cea9ed4c874c8",fallbackHashNs:"channel_browser_coachmark"}),click:()=>ie.open(be,"_blank"),dataQa:Ce}]:[]:[];case"invite_to_slack_connect_workspace":return Ne?[{label:Ae.t("Invite to {workspaceName}",{workspaceName:st,fallbackHash:"043411a603bd482314a747b007288b6f05b02133"}),click:()=>y(Object(Ye.a)({id:Q.id})),dataQa:Ce}]:[];case"leave_slack_connect_workspace":return[{label:Ae.t("Leave {workspaceName}",{workspaceName:st,fallbackHash:"e2e431541ff5e3b1cc21bc4723ae1c7ebf65e2e5"}),click:()=>y(Object(Rt.a)({id:Q.id})),danger:!0,dataQa:Ce}];default:return Object(Wt.a)(T)}},"getExternalWorkspaceActionMenuItems");var K=e("i2Y+"),rt=e("3S9f"),la=e("beVI"),zt=e("WSQ4");function lt(){return lt=Object.assign||function(O){for(var T=1;T<arguments.length;T++){var y=arguments[T];for(var Q in y)Object.prototype.hasOwnProperty.call(y,Q)&&(O[Q]=y[Q])}return O},lt.apply(this,arguments)}o(lt,"_extends");const Ue=["manage_external_workspace","invite_to_slack_connect_workspace","leave_slack_connect_workspace"],Sa=o(O=>{let{workspaceId:T,...y}=O;const Q=Object(Ve.useDispatch)(),le=Object(pe.c)(et=>Object(K.a)(et,T)),Ne=Object(pe.c)(et=>Object(rt.a)(et,T)),be=Object(pe.c)(et=>Object(la.e)(et,T)),ie=Object(pe.c)(et=>Object(la.s)(et,T)),{window:Ce}=Object(n.useContext)(zt.a);if(!ie)return null;const st=Ue.map(et=>$e({item:et,dispatch:Q,externalWorkspace:ie,canCurrentUserOpenCommunityAdminDashboard:le,canUserCreateSlackConnectWorkspaceInvites:Ne,communityAdminDashboardUrl:be,window:Ce})).flat();return t.a.createElement(Ke.a,lt({},y,{template:st}))},"ExternalWorkspaceActionsMenu");Sa.displayName="ExternalWorkspaceActionsMenu";var $a={actionsIcon:"actionsIcon__GwRx7"};function wa(){return wa=Object.assign||function(O){for(var T=1;T<arguments.length;T++){var y=arguments[T];for(var Q in y)Object.prototype.hasOwnProperty.call(y,Q)&&(O[Q]=y[Q])}return O},wa.apply(this,arguments)}o(wa,"workspace_title_extends");const Ma=new de.b("view-header"),Ia=o(O=>{let{id:T}=O;const y=Object(n.useCallback)(Q=>t.a.createElement(Sa,wa({workspaceId:T},Q)),[T]);return t.a.createElement(t.a.Fragment,null,Ma.rt("Welcome",{fallbackHash:"ca4f9dcf204e2037bfe5884867bead98bd9cbaf8",fallbackHashNs:"enterprise_dashboard"}),t.a.createElement("div",{className:"p-ia__view_header__spacer"}),t.a.createElement(Ke.e,{renderMenu:y,position:"bottom-left"},t.a.createElement(xe.d,{className:$a.actionsIcon},t.a.createElement(Pt.a,{name:"ellipsis-vertical",size:"20",variation:"filled"}))))},"WorkspaceTitle");Ia.displayName="WorkspaceTitle";var dn=e("+gmx");const nn={CHANNEL_NAME_BUTTON:"channel_name_button",CHANNEL_NAME:"channel_name"},ya=new de.b("channel_details"),za={uiStep:b.UiStep.VIEW_HEADER_BIG_BUTTON_CLICK,onClick:{enableClogAction:!0}};function Na(O){let{id:T,displayName:y,teamName:Q,topic:le,customStatusText:Ne,customStatusEmoji:be,huddleChannelId:ie,viewType:Ce,isMuted:st,memberIdFromIm:et,file:Et,isTemplate:ut,shoutyWorkspaceNameIsEnabled:tt,experimentShoutyWorkspaceNamePrefGroupOn:_t}=O;const It=Object(pe.c)(ra.U),Jt=Object(Ve.useDispatch)(),wt=Object(n.useCallback)(()=>{Jt(Object(na.a)({id:T}))},[Jt,T]),[hn,ja]=Object(n.useState)(!1),Ba=Object(n.useCallback)(Aa=>{ja(Aa)},[ja]),rn=Object(pe.c)(Aa=>Object(F.m)(Aa)?Object(dn.I)(Aa,{channelId:T}):!1);let Ja=null;rn?Ja=t.a.createElement("span",{className:"p-view_header__digest_icon"},t.a.createElement(Pt.a,{size:"inherit",inline:!0,name:"slack-ai"})):st&&(Ja=t.a.createElement(Dt.a,{className:"p-view_header__bell",type:"bell-slash",size:"inherit"}));let Ea,Za=y;switch(Ce){case A.a.Channel:Ea=t.a.createElement(dt.a,{id:T,onTruncate:Ba,hideTitleSuffix:!0,inViewHeader:!0});break;case A.a.DM:Ea=t.a.createElement(nt,{id:T,statusEmoji:be}),Ne&&(Za=`${y} ${be} ${Ne}`);break;case A.a.MPDM:Ea=t.a.createElement(jt.a,{id:T,shouldTruncate:!0,showTooltip:!0});break;case A.a.App:Ea=t.a.createElement(Bt.a,{id:T});break;case A.a.Page:Ea=t.a.createElement(ue,{id:T});break;case A.a.Doc:Ea=t.a.createElement(ia.a,{id:T,showFallbackView:!0});break;case A.a.AboutWorkspace:Ea=t.a.createElement(Ia,{id:T});break;case A.a.Unknown:default:Ea=t.a.createElement("span",{className:"p-view_header__unknown"});break}const Zt=Ce===A.a.Channel||Ce===A.a.DM||Ce===A.a.MPDM||Ce===A.a.App&&!Object(Fe.a)(T),Wa=Object(n.useCallback)(Aa=>{let{children:Xa}=Aa;return Zt?t.a.createElement(ua.a,{header:!0,id:T},Xa):Xa},[Zt,T]);if(Ce===A.a.Doc&&!Object(Re.ac)(Et,{includeTempQuipDocs:!0}))return null;if(Zt){const Aa=t.a.createElement(Ot.a,{"aria-label":Za,onClick:wt,className:Object(f.default)("p-view_header__big_button",`p-view_header__big_button--${Ce}`),autoClogProps:za,"data-qa":nn.CHANNEL_NAME_BUTTON},t.a.createElement("div",{className:"p-view_header__title","data-qa":nn.CHANNEL_NAME},Ea,Ja,t.a.createElement("div",{className:"align_self_center margin_right_25_negative"},t.a.createElement(Pt.a,{name:"caret-down"}))));if(Ne||be||ie){let Ha;return(Ne||be)&&(Ha=t.a.createElement(t.a.Fragment,null,be&&et&&t.a.createElement(oa.a,{emoji:be,memberId:et,emojiSize:Nt.a.SMALL,showTooltips:!1}),Ne&&et&&t.a.createElement(sa.a,{memberId:et,className:"c-custom_status__tooltip margin_left_25",emojiSize:Nt.a.SMALL,text:Ne}),t.a.createElement(ma.a,{className:"c-custom_status__expiration",memberId:et}))),It&&ie&&(Ha=t.a.createElement(t.a.Fragment,null,t.a.createElement(Ct.a,{channelId:ie}),t.a.createElement(bt.a,{channelId:ie,className:"c-custom_status__tooltip margin_left_25"}))),t.a.createElement(Wa,null,t.a.createElement(Kt.d,{tip:Ha,position:"top",maxWidth:"large",delay:0},Aa))}let Xa=null;const On=_t&&tt;if(_t&&tt&&(Xa=ya.rt("{channelName} is in<br></br>{workspaceName}",{channelName:y,workspaceName:Q})),Ce===A.a.Channel&&y){const Ha=t.a.createElement("div",{className:Object(f.default)("p-view_header__big_button__tooltip",{"p-view_header__big_button__tooltip--centered":On})},t.a.createElement("div",{className:"p-view_header__big_button__tooltip_header"},ya.t("Get channel details",{fallbackHash:"c24b99e67159d5644446fa5eefb7b4f48c179889",fallbackHashNs:"menu"})),On&&t.a.createElement("span",{className:"p-view_header__big_button__tooltip_subheader"},Xa),hn&&!On&&t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-view_header__big_button__tooltip_name"},y),le&&t.a.createElement("div",{className:"p-view_header__big_button__tooltip_topic"},t.a.createElement(ea.a,{noSpecials:!0,noLinking:!0,text:le}))));return t.a.createElement(Wa,null,t.a.createElement(Kt.d,{tip:Ha,position:"bottom",maxWidth:"large",delay:Kt.a},Aa))}return t.a.createElement(Wa,null,Aa)}return t.a.createElement("div",{className:Object(f.default)("p-view_header__big_button--inactive",`p-view_header__big_button--${Ce}`,"p-view_header__big_button",{"p-view_header__big_button--template":ut})},t.a.createElement("div",{className:"p-view_header__title","data-qa":nn.CHANNEL_NAME},Ea))}o(Na,"ViewHeaderBigButton"),Na.displayName="ViewHeaderBigButton";const pn=o((O,T)=>{let{id:y}=T;var Q;const le=Object(C.d)(O,y),Ne=Object(A.b)(O,y),be=Ne===A.a.Channel||Ne===A.a.DM||Ne===A.a.MPDM;let ie,Ce,st,et;Ne===A.a.DM&&(ie=Object(He.a)(le),Ce=ie?Object(yt.a)(O,ie):void 0,st=ie?Object(ht.a)(O,ie):void 0,et=ie?Object(gt.a)(O,ie):void 0);let Et,ut;if(Ne===A.a.Doc){const Jt=Object(te.i)(y).fileIdOrQuipThreadId;Et=Jt?Object(mt.e)(O,Jt):void 0,ut=Object(Re.yb)(Et,O)}const tt=Object(Le.a)(O,{channel:le}),_t=Object(Ga.a)(O,{channel:le,xwsAlpha:!0});var It;return{displayName:be&&(It=Object(U.t)(O,le,{imIncludeAtSign:!1}))!==null&&It!==void 0?It:"",teamName:_t,topic:le==null||(Q=le.topic)===null||Q===void 0?void 0:Q.value,customStatusText:Ce,customStatusEmoji:st,huddleChannelId:et,viewType:Ne,isMuted:Object(pt.b)(O,y),memberIdFromIm:ie,file:Et,isTemplate:ut,shoutyWorkspaceNameIsEnabled:tt,experimentShoutyWorkspaceNamePrefGroupOn:Object(p.d)(O,"shouty_workspace_name_pref")==="on"}},"mapStateToProps");var Yt=Object(u.a)(pn)(Na),Ya=e("CMvH"),qa=e("pzLM"),Ht=e("5IZy"),Xt=e("9C2q"),Da=e("E97Y"),Ft=e("8Ioz");const ba=new de.b("classic_nav");let Ra=o(class extends n.Component{onClick(T){const y=T.target;y&&y.tagName==="A"||this.props.readOnly||this.containerRef.current&&y&&!this.containerRef.current.contains(y)||(this.props.openChannelTopicDialog({channelId:this.props.channelId}),this.props.clogger.track(b.EventId.CLASSIC_NAV,{contexts:{ui_context:{action:"CLICK",ui_component:"CHANNEL_HEADER",ui_element:"NAV_CHANNEL_TOPIC"}}}))}render(){const{topic:T,readOnly:y,hasKeyboardFocus:Q,hasKeyboardFocusWithin:le,isImOrMpim:Ne}=this.props;if(y&&!T)return null;const be=Ne?ba.t("Edit topic"):ba.t("Edit channel topic",{fallbackHash:"5301648dcf6b53cefc9ed52999aaa92d4603cae0"}),ie=T?t.a.createElement(ea.a,{text:T,className:"p-classic_nav__model__title__info__topic__content",emojiSize:Nt.a.SMALL,noJumbomoji:!0,noHighlights:!0}):t.a.createElement("div",{className:"p-classic_nav__model__title__info__topic__content"},ba.t("Add a topic")),Ce=Object(f.default)({"p-classic_nav__model__title__info__item":!0,"p-classic_nav__model__title__info__topic":!0,"p-classic_nav__model__title__info__topic--empty":!T,"p-classic_nav__model__title__info__topic--readonly":y,"p-classic_nav__model__title__info__topic--focus-within":le||Q},this.props.className),st=y?null:t.a.createElement(xe.d,{"aria-label":be,className:"p-classic_nav__model__title__info__topic__edit",onClick:this.onClick},ba.t("Edit"));return t.a.createElement(t.a.Fragment,null,t.a.createElement(xe.d,{className:Ce,onClick:this.onClick,onFocus:this.props.onFocus,onBlur:this.props.onBlur},t.a.createElement("div",{className:"p-classic_nav__model__title__info__topic__text",ref:this.props.textRef},ie)),st)}constructor(T){super(T),this.onClick=this.onClick.bind(this),this.containerRef=t.a.createRef()}},"ModelInfoTopic");Ra.displayName="ModelInfoTopic";const Ca=o((O,T)=>{let{channelId:y}=T;const Q=Object(C.d)(O,y);return{topic:Q&&Q.topic&&Q.topic.value,readOnly:!Object(qa.a)(O,y),clogger:Object(Ht.a)({state:O}),isImOrMpim:Object(Da.h)(Q)}},"model_info_topic_mapStateToProps"),At=o(O=>({openChannelTopicDialog:function(){for(var T=arguments.length,y=new Array(T),Q=0;Q<T;Q++)y[Q]=arguments[Q];return O(Object(Ft.a)(...y))}}),"mapDispatchToProps");var sn=Object(Xt.a)(Object(u.a)(Ca,At)(Ra));function ke(O){let{id:T}=O;const y=Object(pe.c)(ut=>Object(A.b)(ut,T)),Q=Object(pe.c)(ut=>{var tt;const _t=Object(C.d)(ut,T);return _t==null||(tt=_t.topic)===null||tt===void 0?void 0:tt.value}),[le,Ne]=Object(n.useState)(),[be,ie]=Object(n.useState)(),[Ce,st]=Object(n.useState)(!1),et=Object(n.useCallback)(ut=>{let{offset:tt}=ut;Ne({width:tt.width,height:tt.height})},[]),Et=Object(n.useCallback)(ut=>{let{scroll:tt}=ut;ie({width:tt.width,height:tt.height})},[]);return Object(n.useEffect)(()=>{!le||!be||st(be.width>le.width||be.height>le.height)},[le,be]),Q?t.a.createElement(Ya.a,{offset:!0,onResize:et},ut=>{let{measureRef:tt}=ut;return t.a.createElement("div",{className:Object(f.default)("p-view_header__topic_container",{"p-view_header__topic_container--truncated":Ce,"p-view_header__topic_container--dm_topic":y===A.a.DM||y===A.a.MPDM}),ref:tt},t.a.createElement(Ya.a,{scroll:!0,onResize:Et},_t=>{let{measureRef:It}=_t;return t.a.createElement(sn,{channelId:T,className:"p-view_header__topic",textRef:It})}))}):null}o(ke,"ViewHeaderTopic");var ae=e("fuYn"),Te=e("kFoU"),De=e("iUFw"),Qe=e("ZJyv"),Vt=e("SSy4");const ha=new de.b("app_home");function aa(O){let{channelId:T}=O;const y=Object(Ve.useDispatch)(),Q=Object(pe.c)(be=>Object(ae.a)(be,{channelId:T})),le=Object(pe.f)(be=>{const ie=Object(ae.b)(be,{channelId:T});return Object(la.u)(be,ie)}),Ne=Object(n.useCallback)(be=>{y(Object(Qe.a)({channelId:T,teamId:be}))},[y,T]);return!Q||!le||le.length<=1?null:t.a.createElement("div",{className:"p-view_header__app_home_context_container justify_content_end"},t.a.createElement(Vt.a,{teamsList:le,handleTeamSelected:Ne,selectedTeamId:Q,label:ha.t("Use app with settings from\u2026")},t.a.createElement(De.d,{type:"outline"},t.a.createElement(Te.a,{id:Q}),t.a.createElement(Pt.a,{name:"caret-down",inline:!0}))))}o(aa,"ViewHeaderAppHomeContextTeam"),aa.displayName="ViewHeaderAppHomeContextTeam";var en=aa,_n=e("RzYE"),Ka=e("vdkW"),ka=e("LaoO"),vn=e("kpbN"),ga=e("n7UZ"),on=e("7lBi"),qt=e("a5bm"),La=e("2IFS");function jn(){return t.a.createElement("div",{className:"p-quip_title__actions__divider"})}o(jn,"QuipDividerAction");var ct=e("38Q6"),pa=e("Icre");const Ta=new de.b("slack-docs"),Qa=o(O=>{let{onClose:T}=O;const y=Ta.t("Close");return t.a.createElement(Kt.d,{tip:y,position:"bottom"},t.a.createElement(ne.a,{icon:"times",onClick:T,"aria-label":y}))},"CloseQuipAction");Qa.displayName="CloseQuipAction";const fn={onClose:()=>Object(pa.a)({})};var mn=Object(u.a)(null,fn)(Qa),In=e("YxAP"),we=e("7+Lm"),Qt=e("uVZW"),_a=e("rq2v"),un=e("q6Tz"),yn=e("SQ0V"),_s=e("VUud");const Rn=Object(yn.c)("Mark the current in-product coachmark as seen",(O,T,y)=>{const Q=T();if(!Object(we.c)(Q,Qt.g.IN_PRODUCT_COACHMARK,y.channelId))return;const le={notification:y.notification,action:y.action,reason:"set-coachmark-as-seen"};y.step&&(le.step=y.step),y.channelId&&(le.channelId=y.channelId),O(Object(_s.a)(le))});Rn.meta={name:"createThunk",key:"createThunksetInProductCoachmarkAsSeen",description:"Mark the current in-product coachmark as seen"};var is=Rn,Pa=e("UXvI");const An=1e3,Kn=["keydown","pointerdown","pointermove","scroll"],Ln={passive:!0};function ls(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:An,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kn,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;const[Q,le]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{const Ne=o(()=>setTimeout(le,O,!0),"scheduleInactive");let be=Ne();const ie=Object(Pa.a)(()=>{be&&(le(!1),clearTimeout(be)),be=Ne()},O*.1);return T.forEach(Ce=>y.addEventListener(Ce,ie,Ln)),()=>{ie.cancel(),T.forEach(Ce=>y.removeEventListener(Ce,ie)),be&&clearTimeout(be)}},[O,y,T]),Q}o(ls,"useSetUserInactivity");var cs=e("ZKjC"),Zn=e("thso"),ds=e("xXk5");const{getObjectById:Is}=ds.c,Gt=Object(cs.b)(O=>Object(Zn.b)(O.recentlyJoinedChannels));Gt.meta={name:"createSelector",key:"createSelectorgetRecentlyJoinedChannels",description:O=>Object(Zn.b)(O.recentlyJoinedChannels)};var tn=e("stxl"),gn=e("1lBt"),ys=e("7LcW"),To=e("sjOx");function Sn(){return Sn=Object.assign||function(O){for(var T=1;T<arguments.length;T++){var y=arguments[T];for(var Q in y)Object.prototype.hasOwnProperty.call(y,Q)&&(O[Q]=y[Q])}return O},Sn.apply(this,arguments)}o(Sn,"channel_invite_suggestions_coachmark_container_extends");const{IN_PRODUCT_COACHMARK:Me}=Qt.g,_o={spaceName:Me,notifications:{[Qt.h.CHANNEL_INVITE_SUGGESTIONS_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"ElD4")))}}};var xa;(function(O){O[O.ValidateClientSide=0]="ValidateClientSide",O[O.Prerender=1]="Prerender",O[O.Ineligible=2]="Ineligible",O[O.Render=3]="Render",O[O.Dismiss=4]="Dismiss"})(xa||(xa={}));const{CHANNEL_INVITE_SUGGESTIONS_COACHMARK:Ua}=Qt.h,{CLICK:kn,DISMISS:ms}=Qt.f,Ps=36e5,eo=1728e5,Xn=new Map,js=o(O=>{const T=Xn.get(O);return!T||Date.now()-T>Ps},"isCacheInvalid");let En=0;const As=o(O=>{let{channelId:T,offsetY:y=15}=O;const Q=Object(Ve.useDispatch)(),le=Object(n.useRef)(T),[Ne,be]=Object(n.useState)(xa.ValidateClientSide);le.current!==T&&(le.current=T,be(xa.ValidateClientSide));const ie=ls(2e3),Ce=Object(pe.c)(tn.c),st=Object(pe.c)(gn.b),et=Object(pe.c)(wt=>Object(ys.b)(wt,To.x.OMNISWITCHER)),Et=Object(pe.c)(wt=>!!Is(wt,T)),ut=Object(pe.c)(wt=>Object(we.d)(wt,Me,T)),tt=Object(pe.c)(wt=>Object(we.c)(wt,Me,T)===Ua),_t=Object(n.useCallback)(()=>{be(xa.Dismiss),Q(Object(na.a)({id:T,defaultTab:In.a.Members})),Q(is({notification:Ua,action:kn,channelId:T}))},[Q,T]),It=Object(n.useCallback)(()=>{be(xa.Dismiss),Q(is({notification:Ua,action:ms,channelId:T}))},[Q,T]);Object(n.useEffect)(()=>{if(Ne===xa.ValidateClientSide){const wt=Date.now()-En>eo;!Et||!wt?be(xa.Ineligible):js(T)?(Xn.set(T,Date.now()),Q(Object(un.b)({event:{type:Qt.e.REQUEST_SPACES,spaces:[Me]},channelId:T})),be(xa.Prerender)):be(tt?xa.Prerender:xa.Ineligible)}else if(Ne===xa.Prerender){if(!ut)return;tt?ie&&!Ce&&!st&&!et&&(En=Date.now(),be(xa.Ineligible)):be(xa.Ineligible)}},[Q,T,Ne,Et,Ce,st,et,ie,tt,ut]);const Jt=Ne===xa.Render;return t.a.createElement(_a.c,Sn({},_o,{showCoachmark:Jt,offsetY:y,onPrimaryClick:_t,onClose:It,channelScopedId:T}))},"ChannelInviteSuggestionsCoachmarkContainer");As.displayName="ChannelInviteSuggestionsCoachmarkContainer",As.clearTimestamps=()=>{Xn.clear(),En=0};var to=t.a.memo(As),ao=e("hC3S"),wo=e("9oTK"),Io=e("zjLW"),no=e("ksz/");const Ss=Object(yn.c)("Ends an Instant Slack channel",function(){var O=Object(wo.coroutine)(function*(T,y,Q){let{channelId:le}=Q;const Ne=y(),be=ee.a,{invite_url:ie}=Object(x.a)(Ne,le,be);if(!(yield T(Object(Io.a)({channel:le,reason:"instant-slack"}))).ok)return!1;const st={enabled:!1,invite_url:ie};return T(Object(no.b)({channelId:le,pref:be,value:st})),!0});return function(T,y,Q){return O.apply(this,arguments)}}());Ss.meta={name:"createThunk",key:"createThunkendInstantSlack",description:"Ends an Instant Slack channel"};var yo=Ss,so=e("9Gfp"),Ms=e("ZvM9"),Ns=e("mpbA"),Ds=e("dz36"),oo=e("HFwV"),Po=e("ueJG"),jo=e("Ey9B"),$n=e("mQiU"),Rs=e("/Rv1"),ro=e("Pk/n"),Ls=e("2VFn"),io=e("uiBO");function Mn(O){var T;const{getSiblingView:y}=Object(n.useContext)($n.a),Q=Object(pe.c)(le=>y(le,{container:Ls.i.Secondary}));return!!(O&&(Q==null?void 0:Q.viewType)===io.b.Record&&(Q==null||(T=Q.params)===null||T===void 0?void 0:T.recordId)===O)}o(Mn,"useFlexpaneForRecordIsOpen");function us(O){const T=Object(Ve.useDispatch)(),y=Mn(O),Q=Object(n.useCallback)(()=>{O&&T(y?Object(Rs.a)():Object(ro.a)({recordId:O}))},[T,y,O]);return[y,Q]}o(us,"useToggleRecordFlexpane");var lo=e("zMr6"),Hn=e("2jZb"),Ao={record_channel_header_button:"record_channel_header_button__HKrIZ"};function xs(){return xs=Object.assign||function(O){for(var T=1;T<arguments.length;T++){var y=arguments[T];for(var Q in y)Object.prototype.hasOwnProperty.call(y,Q)&&(O[Q]=y[Q])}return O},xs.apply(this,arguments)}o(xs,"record_channel_header_button_extends");const So=new de.b("recordchannels"),qn=o(O=>{let{channelId:T}=O;const y=Object(pe.c)(ie=>Object(C.d)(ie,T)),Q=Object(pe.c)(I.b),[le,Ne]=us(Object(Hn.a)(y));if(!Q)return null;const be=Object(lo.d)(Object(Hn.d)(y));return t.a.createElement(xe.d,{"aria-label":So.t("Open record channel info"),onClick:Ne,className:Object(f.default)(Ao.record_channel_header_button,"p-toggle_channel_space_action_button",le&&"p-toggle_channel_space_action_button--active")},t.a.createElement(Pt.a,xs({},be,{size:"18",inline:!0,variation:void 0})))},"RecordChannelHeaderButton");qn.displayName="RecordChannelHeaderButton";var Mo=qn,Nn=e("cvlP"),hs=e("v5z3"),es=e("IaLB"),No=e("kBpe"),ps=e("3uxa"),co=e("aHgF");function Us(){return Us=Object.assign||function(O){for(var T=1;T<arguments.length;T++){var y=arguments[T];for(var Q in y)Object.prototype.hasOwnProperty.call(y,Q)&&(O[Q]=y[Q])}return O},Us.apply(this,arguments)}o(Us,"view_header_actions_extends");const vs=new de.b("classic_nav"),Do=10;function mo(O){let{id:T,viewActions:y,experimentAdoptionInstantSlackGroupTreatment:Q,experimentAdoptionInstantSlackInviteeGroupOn:le,instantSlackChannelPrefs:Ne,showFiveAvatarsInstack:be,showPresenceInAvatarStack:ie,shouldHideChannelCanvas:Ce,teamId:st,userId:et,experimentNativeAiGlobalEntrypointGroupOn:Et,showUsecaseOnboardingHuddleCoachmark:ut}=O;var tt;const _t=Object(n.useContext)(La.a);var It;const Jt=(It=Object(qt.a)(_t==null||(tt=_t.layout)===null||tt===void 0?void 0:tt.width,on.q))!==null&&It!==void 0?It:"",wt=Object(Ve.useDispatch)(),hn=Object(n.useCallback)(()=>{wt(yo({channelId:T}))},[wt,T]),ja=Object(n.useCallback)(()=>{if(!st)return;const Zt=new URL(Ne.invite_url).pathname.split("/")[2];wt(Object(Ns.a)({sig:Zt,context:"shared_invite_accept",reason:"instant-slack-move-session"})).then(Wa=>{Object(Ds.f)({userId:et,teamId:st,channelId:T}),Object(Ms.a)({inviteId:Wa.invite.id,inviteSig:Zt,isDm:!1,openInNewWindow:!1,redirectQueryParams:`${Ds.a}=1`})})},[wt,et,st,T,Ne]),Ba=Object(pe.c)(Zt=>Object(es.sb)(Zt,{tip:hs.f.Huddles})),rn=Object(pe.c)(es.m),Ja=[hs.f.Huddles],Ea=Object(No.i)()?b.UiComponentName.PROGRESSIVE_DISCLOSURE_HUDDLES_DESKTOP:b.UiComponentName.PROGRESSIVE_DISCLOSURE_HUDDLES_WEB;if(!y.length)return null;const Za=y.map(Zt=>{switch(Zt){case S.Call:return t.a.createElement(Ka.a,{key:S.Call,channelId:T});case S.AvatarStack:return t.a.createElement(ve.a,{clogImpression:!0,eventId:b.EventId.AVATAR_STACK,key:S.AvatarStack},t.a.createElement(_n.a,{key:S.AvatarStack,channelId:T,showFiveAvatars:be,showPresence:ie,showIconOnly:Et}),t.a.createElement(to,{channelId:T}));case S.RefreshAllUnreads:return t.a.createElement(vn.a,{key:S.RefreshAllUnreads,shouldIncludeLabel:!1});case S.CloseQuip:return t.a.createElement(mn,{key:S.CloseQuip});case S.QuipDivider:return t.a.createElement(jn,{key:S.QuipDivider});case S.DetachedWindow:return t.a.createElement(ka.a,{key:S.DetachedWindow,view:T,className:"p-ia__view_header__button p-ia__view_header__button--detach_window margin_left_50",containerOrigin:"secondary"});case S.ChannelSpace:return Ce?null:t.a.createElement(ct.b,{id:T,key:S.ChannelSpace});case S.InstantSlackEndConversation:return Q?t.a.createElement(Z.c,{tip:vs.t("Ending a conversation will remove all external people and archive the channel.",{fallbackHash:"df497a5fa1060b88488cee92045e7f70cddba9d6"}),key:S.InstantSlackEndConversation},t.a.createElement(De.d,{type:De.c.danger,size:De.b.small,onClick:hn,className:"margin_right_100"},vs.t("End Instant Conversation"))):null;case S.InstantSlackSaveConversation:return le?t.a.createElement(De.d,{type:De.c.primary,size:De.b.small,key:"save-conversation",onClick:ja},vs.t("Save Conversation")):null;case S.Huddle:{const Wa=t.a.createElement(oo.a,{key:S.Huddle,channelId:T,subtype:Po.a.ChannelHeader});return Ba?t.a.createElement(Nn.c,{tips:Ja,uiComponentVariant:rn?hs.e.SomeoneJoins:hs.e.NobodyJoins,uiComponentName:Ea},Wa):ut?t.a.createElement(_a.c,Us({},ps.d),Wa):Wa}case S.RecordChannel:return t.a.createElement(Mo,{key:S.RecordChannel,channelId:T});case S.SummarizeChannel:return t.a.createElement(ao.a,{channelId:T,key:S.SummarizeChannel});default:return null}});return t.a.createElement("div",{className:`p-view_header__actions ${Jt}`},Za)}o(mo,"view_header_actions_ViewHeaderBigButton"),mo.displayName="ViewHeaderBigButton";const Bs=o((O,T)=>{let{id:y}=T;var Q;const le=(Q=Object(C.d)(O,y))!==null&&Q!==void 0?Q:void 0,Ne=le?Object(ga.b)(O,le):!1,be=Object(la.g)(O),ie=Object(so.a)(O),Ce=Object(jo.a)(O),st=!!(Ce&&Ce<Do),et=Object(p.d)(O,"channel_header_avatar_online"),Et=Object(p.d)(O,"channel_header_avatar_online_rollout")==="on",ut=st&&(et==="treatment5"||et==="treatment"||Et),tt=st&&(et==="treatment5"||Et);return{channel:le,isUserExternalLimited:Ne,viewActions:se(O,{id:y}),experimentAdoptionInstantSlackGroupTreatment:Object(p.d)(O,"adoption_instant_slack")==="treatment",experimentAdoptionInstantSlackInviteeGroupOn:Object(p.d)(O,"adoption_instant_slack_invitee")==="on",instantSlackChannelPrefs:Object(x.a)(O,y,ee.a),teamId:(be==null?void 0:be.id)||null,userId:ie,showPresenceInAvatarStack:ut,showFiveAvatarsInstack:tt,experimentNativeAiGlobalEntrypointGroupOn:Object(F.d)(O),showUsecaseOnboardingHuddleCoachmark:Object(co.g)(O)}},"view_header_actions_mapStateToProps");var Dn=Object(u.a)(Bs)(mo),va=e("UmHn"),Ws=e("XWEI"),Pn=e("somW"),ts=e("BQ/v"),uo=e("l1I1"),me=e("tfcd"),N=e("uNaj"),fe=e("BfA7"),he=e("B/ED"),Be=e("6dQg"),ze=e("0E+F"),We=e("Zbwg");const qe=new de.b("view-header");let Tt=o(class extends t.a.Component{componentDidMount(){const{isSidebarOpen:T,isUserEligibleForA11yCoachmark:y}=this.props;y&&!T&&setTimeout(()=>this.setState(()=>({shouldRenderA11yPrefsSetupCoachmark:!0})),1e3)}componentDidUpdate(T){const{isSidebarOpen:y}=this.props;T.isSidebarOpen!==y&&this.state.shouldRenderA11yPrefsSetupCoachmark&&this.closeA11yPrefsSetupCoachmark()}closeA11yPrefsSetupCoachmark(){this.setState(()=>({shouldRenderA11yPrefsSetupCoachmark:!1}))}renderContent(){const{id:T,hideActions:y,hideTopic:Q,shouldShowSidebarToggle:le=!1,isInstantSlackInviteeSession:Ne=!1,viewType:be,showQuipActivityHistoryHeader:ie,shouldHideChannelCanvas:Ce,viewCanBeClosed:st,fileId:et,shouldShowSidebarToggleButton:Et}=this.props,ut=t.a.createElement(_.a,null);if(ie){const It=Object(N.a)().params.entityId,{versionId:Jt}=Object(te.i)(It);return t.a.createElement($.a,{versionId:Jt})}const tt=qe.t("Close",{fallbackHash:"bbfa773e5a63a5ea58c9b6207e608ca0120e592a",fallbackHashNs:"generic_dialog"});return t.a.createElement(t.a.Fragment,null,(Et||le)&&ut,t.a.createElement("div",{className:"p-view_header__text"},!Ne&&t.a.createElement(t.a.Fragment,null,t.a.createElement(Yt,{id:T}),t.a.createElement(he.a,{id:et})),!Ne&&!Q&&t.a.createElement(ke,{id:T}),be===A.a.App&&t.a.createElement(en,{channelId:T})),!y&&t.a.createElement(Dn,{id:T,shouldHideChannelCanvas:Ce}),st&&t.a.createElement(Z.c,{key:S.CloseTile,tip:tt,position:"bottom-right",delay:Z.a,hideFromScreenReader:!0},t.a.createElement(ne.a,{icon:"times",onClick:this.closeViewHeader,"aria-label":tt,className:"p-ia__view_header__button p-ia__view_header__button--close"})))}render(){const{bookmarksEnabled:T,hideHeader:y,id:Q,viewType:le,channelSpaceLayout:Ne,experimentInsetDesignGroupOn:be,isSecondaryShowing:ie,container:Ce,columnWidth:st,experimentViewHeaderOverflowBordersGroupOn:et,hideBorder:Et,view:ut}=this.props;if(y||Q===va.a.Empty)return null;const tt=!T,_t=st&&st<c.j*1.6,It=et&&(Et||Q===va.a.Drafts||Q===va.a.Sent||Q===va.a.ScheduledMessages||(ut==null?void 0:ut.viewType)===io.b.AppSpace),Jt=Object(f.default)("p-view_header","p-view_header--tiles",{"p-view_header--with-bookmarks-bar":T,"p-view_header--without-bookmarks-bar":tt,"p-view_header--solid":A.a.Doc===le||tt,"p-view_header--with-channel-canvas":Ne===ge.a.PRIMARY,"p-view_header--inset":be,"p-view_header--inset--secondary_showing":be&&ie,"p-view_header--narrow":_t,"p-view_header--without-bottom-border":It,"p-view_header--foreground_color":et&&!Object(We.a)(Q)}),hn=qe.t("Primary view actions"),ja=t.a.createElement(Pe.b,{key:Q,"aria-label":hn,ref:this.containerRef,className:Jt,"data-qa":"view_header"},this.renderContent());let Ba=t.a.createElement(ve.a,{eventId:b.EventId.VIEW_HEADER,clogImpression:!1,disableAutoReferringUiContext:!0},t.a.createElement(W.a,{listeners:this.focusTransitionListeners},ja));if(Object(Ws.a)(Q)){const rn=Object(uo.a)(Q)?"QuipHeaderView":void 0,Ja=Ce?Object(ts.a)({viewContainer:Ce}):Object(ts.a)({});rn&&(Ba=t.a.createElement(Pn.a,{id:rn,index:Ja},Ba))}return Ba}constructor(T){super(T),this.containerRef=t.a.createRef(),this.focus=y=>{var Q;return(y==null?void 0:y.container)===Ls.i.Sidebar?!1:((Q=this.containerRef.current)===null||Q===void 0||Q.focus(),!0)},this.closeViewHeader=()=>{var y,Q;(Q=(y=this.props).closeView)===null||Q===void 0||Q.call(y)},this.state={shouldRenderA11yPrefsSetupCoachmark:!1},Object(i.a)(this,["closeA11yPrefsSetupCoachmark","focus"]),this.focusTransitionListeners={[Y.c.VIEW_HEADER]:this.focus}}},"ViewHeader");Tt.displayName="ViewHeader";const ot=o((O,T)=>{let{id:y,container:Q,windowId:le,getSiblingView:Ne}=T;var be,ie;const Ce=y||((ie=(be=Ne(O,{container:Ls.i.Primary}))===null||be===void 0?void 0:be.id)!==null&&ie!==void 0?ie:""),st=Object(M.b)(Ce);let et=!1;st!=null&&st.isChannelHeaderHidden&&(et=st.isChannelHeaderHidden(O));const Et=Ce===d.a,tt=Object(N.a)().params.entityId,{fileIdOrQuipThreadId:_t}=Object(te.i)(y),It=Object(Be.a)(_t)?_t:void 0,Jt=Object(ze.a)(O,{container:Q,windowId:le});return{bookmarksEnabled:Object(g.c)(O,y),isAllUnreadsPage:Et,showQuipActivityHistoryHeader:!!Object(je.a)(O)&&Object(me.a)(tt),hideHeader:et,isUserEligibleForA11yCoachmark:Object(_e.a)(O),viewType:Object(A.b)(O,y),isInstantSlackInviteeSession:Object(re.a)(O),channelSpaceLayout:Object(ye.b)(O,y)||void 0,experimentInsetDesignGroupOn:Object(p.d)(O,"inset_design")==="on",viewCanBeClosed:Jt,fileId:It,experimentViewHeaderOverflowBordersGroupOn:Object(p.d)(O,"view_header_overflow_borders")==="on"}},"view_header_mapStateToProps");var Lt=m.a=Object(La.b)(Object(fe.a)(Object(u.a)(ot)(Tt)))},"1z69":function(k,m,e){"use strict";e.d(m,"b",function(){return t}),e.d(m,"c",function(){return u}),e.d(m,"a",function(){return f});var n=e("uVZW");const t={[n.h.USECASE_ONBOARDING_CHANNEL_COACHMARK]:1,[n.h.USECASE_ONBOARDING_APPS_COACHMARK]:2,[n.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK]:2,[n.h.USECASE_ONBOARDING_HUDDLE_COACHMARK]:2},u=2,f=400},"3K9K":function(k,m,e){"use strict";var n=e("q1tI"),t=e.n(n),u=e("tZQI"),f=e("ZIxB"),i=e("fcWg"),c=e("nNoG");function b(){return b=Object.assign||function(_){for(var p=1;p<arguments.length;p++){var l=arguments[p];for(var C in l)Object.prototype.hasOwnProperty.call(l,C)&&(_[C]=l[C])}return _},b.apply(this,arguments)}o(b,"_extends");const M=new c.b("shared_workspaces"),d=o(_=>{let{option:p,isActive:l}=_;var C,R;const L={id:p==null||(C=p.entity)===null||C===void 0?void 0:C.id,isActive:l,isDisabled:!!(p!=null&&p.inviteExceptionReason),secondaryContent:t.a.createElement("span",null,(p==null?void 0:p.inviteExceptionReason)||p.secondaryContent||"")};if(!(p==null||(R=p.entity)===null||R===void 0)&&R.isEmail){const A="label"in p?p.label:p.entity.id;return t.a.createElement(i.a,b({},L,{email:A}))}return t.a.createElement(f.a,b({},L,{showPresence:!0,showAvatar:!0}))},"UserMultiSelectRow");d.displayName="UserMultiSelectRow";const g=o(_=>{let{selectedEntities:p,onSelectedItemsChange:l}=_;const C=Object(n.useCallback)((L,A)=>t.a.createElement("div",{className:"display_flex full_width"},t.a.createElement(d,{option:L,isActive:A.isActive})),[]),R=Object(n.useMemo)(()=>({allowEmptyQuery:!0,allowEmptyQueryRemoteSearch:!0,tiered:!0,limit:12,returnMetadata:!1,entities:{members:{includeSlackbot:!1,includeSelf:!1,includeDeleted:!1,matchEmailField:!0,includeFromAnotherTeam:!0,onlyExternal:!1,includeExternal:!0,includeAllExternal:!0},emails:!0},sort:{frecency:!0,explain:!1,source:"user-multi-select"}}),[]);return t.a.createElement(u.e,{focusOnMount:!0,selectId:"user-select-invite-to-shared-workspace",selectedOptions:p,renderOption:C,onSelectedItemsChange:l,searcherOptions:R,size:"large",width:"100%",optionsRowHeight:32,placeholderText:M.t("Search for members"),emptyStateMessage:()=>M.t("No matches found"),ariaLabel:M.t("Members from external workspaces to invite")})},"UserMultiSelect");g.displayName="UserMultiSelect",m.a=g},"3uxa":function(k,m,e){"use strict";e.d(m,"b",function(){return f}),e.d(m,"a",function(){return i}),e.d(m,"c",function(){return c}),e.d(m,"d",function(){return b});var n=e("q1tI"),t=e.n(n),u=e("uVZW");const f={spaceName:u.g.WELCOME_SPACE,notifications:{[u.h.USECASE_ONBOARDING_CHANNEL_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"GUMB")))}}},i={spaceName:u.g.WELCOME_SPACE,notifications:{[u.h.USECASE_ONBOARDING_APPS_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"qISS")))}}},c={spaceName:u.g.WELCOME_SPACE,notifications:{[u.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"LR2U")))}}},b={spaceName:u.g.WELCOME_SPACE,notifications:{[u.h.USECASE_ONBOARDING_HUDDLE_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"FlVn")))}}}},"4Pyn":function(k,m,e){k.exports=e.p+"channels_static-2adb243.png"},"6I59":function(k,m,e){k.exports=e.p+"nfx-welcome-modal-9897cea.png"},"6Ng/":function(k,m,e){"use strict";var n=e("q1tI"),t=e.n(n),u=e("wd/R"),f=e.n(u),i=e("zxER"),c=e("4KfL"),b=e("UbkG"),M=e("Enx8"),d=e("Nng1"),g=e("mQiU"),_=e("BHdc"),p=e("nNoG"),l=e("qyo3");const C=new p.b("slack-docs"),R=o(L=>{let{versionId:A,className:ee}=L;const x=!!Object(i.c)(c.a),{windowId:U}=Object(n.useContext)(g.a),G=Object(i.c)(I=>Object(b.b)(I,U,A)),re=Object(i.c)(I=>G!=null&&G.author?Object(M.a)(I,G==null?void 0:G.author):void 0);if(!x||!A)return null;const z=f()(G==null?void 0:G.createdMs),v=C.rt("{author}, {date} at {time}",{author:re,date:Object(d.a)(z,x),time:z.format("h:mm A")}),j=Object(_.default)("p-activity_history_header",ee);return t.a.createElement("div",{className:j},t.a.createElement("div",{className:"p-activity_history_header__right"},G&&t.a.createElement("div",{className:"p-activity_history_header__info"},v)))},"QuipActivityHistoryHeader");R.displayName="QuipActivityHistoryHeader",m.a=R},"6OGp":function(k,m,e){"use strict";e.d(m,"a",function(){return f});var n=e("JoR1"),t=e("SpKr"),u=e("RVJP");function f(i){const c=Object(n.u)(i,"seen_a11y_pref_setup_coachmark"),b=Object(t.a)(i)>=30;return Object(u.d)(i,"exp_a11y_education_coachmark")==="on"&&!c&&b}o(f,"isUserEligibleForA11yPrefsSetupCoachmark")},"75t7":function(k,m,e){"use strict";var n=e("q1tI"),t=e.n(n),u=e("Cfcg"),f=e("bPB8"),i=e("nNoG"),c=e("Jahv"),b=e("RYr5"),M=e("kme9"),d=e("XZo2"),g=e("SQ0V"),_=e("Wn1n"),p=e("s4P+"),l=e("mLC8"),C=e("Aqju"),R=e("RV0M"),L=e("2VFn");const A=Object(g.c)("Resets a pending channel switch for tracing purposes",(ne,Z,te,$)=>{let{channelId:ye}=te;var ge;const je=Z(),{shouldUseNavigate:pe,getSiblingView:Ve}=$(R.a),Fe=pe?(ge=Ve(je,{container:L.i.Primary}))===null||ge===void 0?void 0:ge.id:Object(_.a)(je),Le=Object(p.a)({getState:Z,label:"SWITCH-TO-CHANNEL"});try{l.d.remove({label:l.a.ChannelSwitch}),Object(C.a)({state:je,channelId:ye})}catch(He){Le.warn(He,`Could not reset channel switch from ${Fe} to ${ye}`)}});A.meta={name:"createThunk",key:"createThunkresetPendingChannelSwitch",description:"Resets a pending channel switch for tracing purposes"};var ee=e("iodP"),x=e("YCgu"),U=e("IrZ5"),G=e("E3dU"),re=e("rwY5"),z=e("fuYn"),v=e("Yauy"),j=e("HKlo"),I=e("zNRp"),B=e("VkPA"),F=e("kBd7"),S=e("BfA7"),J=e("j0Mw"),se=e("tF1a"),W=e("rZ8V");const Y=new i.b("app_space");let ve=o(class extends n.PureComponent{componentDidMount(){this.maybeRedirectToNewTab()}componentDidUpdate(Z){if(!this.props.isAppHomeStateLoading&&Z.isAppHomeStateLoading||this.props.channelId!==Z.channelId)this.maybeRedirectToNewTab();else if(Z.tab!==this.props.tab){const te=this.currentTabIsValid()?this.props.tab:void 0;this.dispatchAppHomeOpenEvent(te)}else if(Z.appHomeContextTeamId&&this.props.appHomeContextTeamId&&Z.appHomeContextTeamId!==this.props.appHomeContextTeamId){const te=this.currentTabIsValid()?this.props.tab:void 0;this.dispatchAppHomeOpenEvent(te)}this.currentTabIsValid()&&Z.channelId!==this.props.channelId&&(this.props.tab===se.a.App?this.props.transitionFocusTo({focusKey:j.c.APP_HOME_TAB}):this.props.tab===se.a.About&&this.props.transitionFocusTo({focusKey:j.c.APP_ABOUT_TAB}))}getValidTabs(){const{badgeCount:Z}=this.props;return Object(f.a)([this.props.isHomeEnabled?{id:se.a.App,title:Y.t("Home"),content:t.a.createElement(t.a.Fragment,null),"data-qa":se.a.Home}:null,this.props.isMessagesEnabled?{id:se.a.Messages,title:t.a.createElement("span",null,Y.t("Messages"),Z?t.a.createElement(I.b,{className:"p-classic_nav__model__title__name__tabs__badge",count:Z,style:I.a.red}):null),content:t.a.createElement(t.a.Fragment,null),"data-qa":se.a.Messages,"aria-label":Y.t("Messages")}:null,{id:se.a.About,title:Y.t("About"),content:t.a.createElement(t.a.Fragment,null),"data-qa":se.a.About}])}setTabId(Z){let{shouldReplaceState:te}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{tab:$,channelId:ye,experimentIA4GroupOn:ge}=this.props;$!==Z&&(Z!==se.a.Messages?this.props.setTab({tabId:Z,channelId:ye,shouldReplaceState:te}):(this.props.resetPendingChannelSwitch({channelId:ye}),this.props.setTab({tabId:ge?Z:void 0,channelId:ye,shouldReplaceState:te})))}currentTabIsValid(){const{tab:Z}=this.props;return!!this.getValidTabs().find(te=>te.id===Z)}dispatchAppHomeOpenEvent(Z){const{channelId:te,appHomeContextTeamId:$}=this.props;let ye=Z||se.a.Messages;ye===se.a.App&&(ye=se.a.Home);const ge={channelId:te,appHomeSection:ye};return $&&(ge.serviceTeamId=$),this.props.callAppHomeOpenEventByChannelId(ge)}focus(){if(this.tabsRef){var Z;(Z=this.tabsRef.current)===null||Z===void 0||Z.focus()}}handleTabChange(Z){this.setTabId(Z)}maybeRedirectToNewTab(){const{channelId:Z,isEnabled:te,isAppHomeStateLoading:$}=this.props;if(!te||$)return;let ye=this.props.tab;this.currentTabIsValid()?this.dispatchAppHomeOpenEvent(ye):(ye=this.getValidTabs()[0].id,this.setTabId(ye,{shouldReplaceState:!0})),this.props.clogDMOpen({channelId:Z,tabId:ye})}render(){const{tab:Z,isEnabled:te,isAppHomeStateLoading:$,channelId:ye}=this.props;if(!te||$)return null;const ge=this.getValidTabs(),je=this.currentTabIsValid()?Z:void 0,pe=ge.map(Ve=>Ve.id).join(",");return t.a.createElement("div",{className:"p-classic_nav__model__title__name__tabs__workspace p-classic_nav__model__title__name__tabs__workspace_ia"},t.a.createElement(J.a,{remove:je!==se.a.Messages}),t.a.createElement(B.a,{key:pe,currentTabId:je,defaultTabId:ge[0].id,tabs:ge,onTabChange:this.handleTabChange,ref:this.tabsRef}),t.a.createElement(c.b,{channelId:ye,canAddBookmarks:!0}))}constructor(Z){super(Z),this.handleTabChange=this.handleTabChange.bind(this),this.focus=this.focus.bind(this),this.tabsRef=t.a.createRef()}},"ModelInfoAppImTabs");ve.displayName="ModelInfoAppImTabs";const de=o((ne,Z)=>{const te=Object(W.n)(ne),$=Z.channelId||Object(_.a)(ne),ye=Object(x.a)(ne,{windowId:Z.windowId,container:Z.container})||(te?se.a.App:se.a.Messages),ge=Object(v.Y)(ne,$),{isLoading:je,isHomeEnabled:pe,isMessagesEnabled:Ve}=Object(re.b)(ne,$),Fe=Object(G.d)(ne,$),Le=Ve||Object(d.l)(ne)&&ye===se.a.Messages||Fe&&Object(v.R)(Fe)||Object(v.v)(ne,$),He=Fe?Object(G.c)(ne,Fe):0,Re=Object(z.a)(ne,{channelId:$});var ht;const yt=(ht=Object(v.L)(Fe))!==null&&ht!==void 0?ht:0;return{channelId:$,tab:ye,badgeCount:He,isEnabled:ge,isAppHomeStateLoading:je,isHomeEnabled:pe,isMessagesEnabled:Le,pinnedItemsCount:yt,appHomeContextTeamId:Re,experimentIA4GroupOn:te}},"mapStateToProps"),_e=o(ne=>({setTab:function(){for(var Z=arguments.length,te=new Array(Z),$=0;$<Z;$++)te[$]=arguments[$];return ne(Object(U.a)(...te))},callAppHomeOpenEventByChannelId:function(){for(var Z=arguments.length,te=new Array(Z),$=0;$<Z;$++)te[$]=arguments[$];return ne(Object(b.b)(...te))},clogDMOpen:function(){for(var Z=arguments.length,te=new Array(Z),$=0;$<Z;$++)te[$]=arguments[$];return ne(Object(M.a)(...te))},resetPendingChannelSwitch:function(){for(var Z=arguments.length,te=new Array(Z),$=0;$<Z;$++)te[$]=arguments[$];return ne(A(...te))},updateTabForWindowAndViewContainer:function(){for(var Z=arguments.length,te=new Array(Z),$=0;$<Z;$++)te[$]=arguments[$];return ne(Object(ee.a)(...te))}}),"mapDispatchToProps");var Pe=m.a=Object(S.a)(Object(u.a)(de,_e)(Object(F.a)(ve)))},"7Cdh":function(k,m,e){k.exports=e.p+"shared-channel-banner-45519df.svg"},"7jQe":function(k,m,e){k.exports=e.p+"calendar-1@2x-a0d0550.png"},"7njD":function(k,m,e){"use strict";e.r(m);var n=e("q1tI"),t=e.n(n),u=e("/MKj"),f=e("zxER"),i=e("Trx9"),c=e("zEKE"),b=e("Qy8E"),M=e("eJPC"),d=e("PAox"),g=e("GiOu"),_=e("ktUG"),p=e("ZobM"),l=e("69o4"),C=e("uVZW"),R=e("i9jZ"),L=e("/0Xg"),A=e("iUFw"),ee=e("s9Q6"),x=e("nNoG");const U=new x.b("trials_highlight_paid_features"),G={elementName:"create_canvas",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},re={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},z={elementName:"upgrade",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},v=o(I=>{let{isEligibleForTrial:B}=I;const F=Object(u.useDispatch)(),S=Object(f.c)(ee.i),J=Object(n.useCallback)(ne=>{F(Object(b.a)({source:M.a.CANVAS_PAGE_EMPTY_STATE_FREEMIUM,inTile:Object(R.d)(ne)}))},[F]),se=Object(n.useCallback)(()=>{F(Object(l.a)({spaceName:C.g.CHANNEL_CANVAS_FOOTER,action:C.f.DISMISS}))},[F]),W=Object(n.useCallback)(()=>{F(Object(d.a)({uiComponentVariant:_.UiComponentVariant.CANVAS_NUX_COACHMARK}))},[F]),Y=S?t.a.createElement(p.a,{name:"sparkles",variation:"filled","data-qa":"canvas_nux_coachmark_sparkles"}):t.a.createElement(g.c,{className:"p-canvas_nux_coachmark__header_pro_badge","data-qa":"canvas_nux_coachmark_pro_badge"}),ve=t.a.createElement("div",{className:"p-canvas_nux_coachmark__header"},t.a.createElement("span",{className:"p-canvas_nux_coachmark__header_icon"},Y),U.t("Create unlimited canvases")),de=t.a.createElement("div",{className:"p-canvas_nux_coachmark__content"},U.t("Every conversation has a built-in canvas, but you can also create your own. Jot down ideas, or collaborate on proposals\u2014the sky is the limit.")),_e=o(()=>{const ne=Object(L.w)({entryPoint:"canvas_nux_coachmark",feature:L.j.UNLIMITED_CANVAS});return S?t.a.createElement(A.a,{"data-qa":"canvas_nux_coachmark_trial_cta",type:"primary",onClick:J,autoClogProps:G},U.t("Create Canvas")):B?t.a.createElement(A.a,{className:"p-canvas_nux_coachmark__cta","data-qa":"canvas_nux_coachmark_trial_eligible_cta",type:"primary",onClick:W,autoClogProps:re},U.t("Try It")):t.a.createElement(A.a,{"data-qa":"canvas_nux_coachmark_trial_ineligible_cta",href:ne,type:"outline",autoClogProps:z},U.t("See Upgrade Options"))},"getPrimaryCTA");_e.displayName="getPrimaryCTA";const Pe=o(()=>S?_.UiComponentVariant.TRIAL_TEAM:B?_.UiComponentVariant.TRIAL_ELIGIBLE:_.UiComponentVariant.TRIAL_INELIGIBLE,"getUiComponentVariant");return t.a.createElement(i.a,{eventId:_.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:_.UiComponentName.CANVAS_NUX_COACHMARK,uiComponentVariant:Pe(),clogImpression:!0},t.a.createElement(c.a,{heading:ve,primaryCTA:_e(),customIcon:t.a.createElement(t.a.Fragment,null),useRoundedCorners:!1,onDismiss:se},de))},"CanvasNUXCoachmark");v.displayName="CanvasNUXCoachmark";var j=m.default=v},"7s2w":function(k,m,e){"use strict";e.d(m,"a",function(){return i});var n=e("q1tI"),t=e.n(n),u=e("zxER"),f=e("GNR7");const i=o(c=>{const b=Object(u.c)(_=>Object(f.a)(_,c)!==null),M=Object(u.c)(_=>Object(f.F)(_,c)),[d,g]=Object(n.useState)(M);return Object(n.useEffect)(()=>{b?M&&g(!0):g(!1)},[b,M]),M||d},"useWasUserEverInActiveHuddleInChannel")},"8Rho":function(k,m,e){k.exports=e.p+"calendar-1-71560bc.png"},"8Wv3":function(k,m,e){"use strict";var n=e("/MKj"),t=e("q1tI"),u=e.n(t),f=e("nNoG"),i=e("7JUD"),c=e("UQe9"),b=e.n(c),M=e("+kJ4"),d=e("YUBf"),g=e("9oTK"),_=e("0FX9"),p=e.n(_),l=e("Lgge"),C=e("zxER"),R=e("9Gfp"),L=e("O86Y");const A=new f.b("mobile_app_promos"),ee=o(j=>{let{eventId:I}=j;const B=Object(f.m)(),[F,S]=Object(t.useState)(),J=Object(C.c)(R.a),se=Object(C.c)(L.g);let W="www.slack.com/download";B!=="en-US"&&(W=W.replace("/download",`/intl/${B}/downloads`));const Y=Object(t.useCallback)(function(){var _e=Object(g.coroutine)(function*(Pe){return new l.a(ne=>{ne(p.a.toDataURL(`${Pe}?src=qr_code&event_id=${I}&user_id=${J}&team_id=${se}`))})});return function(Pe){return _e.apply(this,arguments)}}(),[I,J,se]),ve=Object(t.useCallback)(Object(g.coroutine)(function*(){const _e=yield Y(W);S(_e)}),[W,Y]);Object(t.useEffect)(()=>{ve()},[ve]);const de=A.t("Scan the code below with your mobile device and we\u2019ll take you to where you need to go to download the app.",{fallbackHash:"81faf152a5d90c4d186098bc214e5dfbc8795218"});return u.a.createElement("div",{className:"p-mobile_download_modal__qr_code_action"},u.a.createElement("div",{className:"p-mobile_download_modal__qr_code_action_copy--wrapper"},de),u.a.createElement("div",{className:"p-mobile_download_modal__qr_code_action--wrapper"},F&&u.a.createElement("img",{alt:A.t("Quick Response (QR) code to download the Slack mobile app"),className:"p-mobile_download_modal__qr_code_action--image","data-qa":"qr-download-link-image",src:F})))},"QrCodeAction");ee.displayName="QrCodeAction";var x=ee,U=e("Trx9"),G=e("ktUG");const re=new f.b("mobile_app_promos"),z=o(j=>{let{eventId:I}=j;const B=Object(n.useDispatch)(),F=Object(t.useCallback)(()=>B(Object(M.a)()),[B]),S=re.t("Download the Slack mobile app"),J=re.t("Hands holding a mobile phone");let se=null;const W=Object(t.useCallback)(()=>{F(),se==null||se({action:G.UiAction.CLOSE,elementName:"close_download_mobile_modal"})},[F,se]);return u.a.createElement(U.a,{eventId:I,uiStep:G.UiStep.QR_CODE_DOWNLOAD_MODAL,trackClogRef:Y=>{se=Y}},u.a.createElement(i.a,{contentLabel:S,closeModal:W,isOpen:!0,centered:!0,dataQa:"mobile-download-modal",className:"p-mobile_download_modal",describedby:"mobile-download-modal-described-by-label"},u.a.createElement(d.i,null,u.a.createElement("div",{className:"p-mobile_download_modal__img_wrapper"},u.a.createElement("img",{className:"p-mobile_download_modal__header_img",alt:J,src:b.a}))),u.a.createElement(d.d,null,u.a.createElement(d.l,{title:S}),u.a.createElement(d.e,{className:"p-mobile_download_modal__content_section"},u.a.createElement("span",{hidden:!0,id:"mobile-download-modal-described-by-label"},re.t("Scan QR code")),u.a.createElement(x,{eventId:I})))))},"MobileDownloadModal");z.displayName="MobileDownloadModal";var v=m.a=z},"9+Yh":function(k,m,e){"use strict";e.d(m,"a",function(){return d});var n=e("9oTK"),t=e.n(n),u=e("m8R6"),f=e("2XU3"),i=e("WCk1"),c=e("s4P+"),b=e("pjW8");const M={FeatureNotEnabled:"feature_not_enabled",WorkspaceNotFound:"workspace_not_found",EmailInvalid:"email_invalid",OperationNotAllowed:"operation_not_allowed",CouldNotCreateInvite:"could_not_create_invite",ActiveInvite:"active_invite",AlreadyInWorkspace:"already_in_workspace",RestrictedAction:"restricted_action"},d=Object(i.a)("externalWorkspaces.invites.sendByEmail generated fetcher",function(){var g=Object(n.coroutine)(function*(_,p,l){try{const C=["reason"],R=Object(u.a)(l,C),L=Object(b.b)(R);return yield _(Object(f.apiCall)({method:"externalWorkspaces.invites.sendByEmail",args:L,reason:l.reason}))}catch(C){throw Object(c.a)({getState:p}).error(`API call to externalWorkspaces.invites.sendByEmail
				with reason ${l.reason} failed, initiated by generated fetcher`),C}});return function(_,p,l){return g.apply(this,arguments)}}());d.meta={name:"createFetcher",key:"createFetcherexternalWorkspacesInvitesSendByEmailFetcher",description:"externalWorkspaces.invites.sendByEmail generated fetcher"}},AHcl:function(k,m,e){"use strict";e.d(m,"a",function(){return oa});var n=e("q1tI"),t=e.n(n),u=e("/MKj"),f=e("hbEN"),i=e("BHdc"),c=e("LK2A"),b=e("zrD9"),M=e("WSQ4"),d=e("+9Uj"),g=e("y7XB"),_=e("rnop"),p=e("iODX"),l=e("zxER"),C=e("ojBQ"),R=e("x6tY"),L=e("dmdh"),A=e("wKGu"),ee=e("HpvR"),x=e("hisJ"),U=e("mQiU"),G=e("BcBz"),re=e("B/ED"),z=e("hBut"),v=e("4KfL"),j=e("somW"),I=e("NqZR"),B=e("SwdH"),F=e("UH+u"),S=e("I0j/"),J=e("37+L"),se=e("2VFn"),W=e("uiBO"),Y=e("6Ng/"),ve=e("HkGY"),de=e("nNoG"),_e=e("oKV2"),Pe=e("iy1k"),ne=e("PxW5"),Z=e("Lgge"),$=o(class{setDelegate(vt){this.delegate=vt}openInlineCommentsThread(vt){return this.openCommentsThread(vt.commentThreadId,vt)}tearDown(){}closeCommentsThread(){}openCommentsThread(vt,kt){return this.onOpenCommentsThread(vt,kt),Z.a.resolve(!0)}delegateCommentsThreadDidClose(vt,kt){var ta;(ta=this.delegate)===null||ta===void 0||ta.commentsThreadDidClose(vt,kt)}constructor(vt){this.onOpenCommentsThread=vt.onCommentThreadOpened}},"SimpleCommentsUiProvider"),ye=e("D1k6"),ge=e("BpRo"),je=e("u0bz"),pe=e("wXOV"),Ve=e("t+4i"),Fe=e("QygJ"),He=o((dt,vt,kt)=>{const ta=Object(n.useRef)(null),{currentlyOpenSlackThreadId:Je}=Object(Ve.b)({fileId:dt,initialScrollPosition:void 0}),ft=Object(Fe.a)(Je);var nt;const jt=Object(l.c)(V=>(nt=Object(pe.a)(V,dt))!==null&&nt!==void 0?nt:""),Bt=Object(u.useStore)(),{dispatch:Ee}=Bt,Ge=Object(n.useCallback)((V,w)=>{let{focusTarget:ue}=w;Ee(Object(ye.a)({focusTarget:ue,entityId:vt,quipCommentThreadId:V}))},[Ee,vt]),Oe=Object(n.useCallback)(V=>{var w;const ue=Bt.dispatch(Object(ge.a)({commentThreadId:V,fileId:dt}));if((w=ta.current)===null||w===void 0||w.delegateCommentsThreadDidClose(V,ue),ue){var xe;(xe=je.b.get(Bt.getState()))===null||xe===void 0||xe.onCommentThreadDeleted(jt,V)}},[jt,Bt,dt]),X=Object(n.useCallback)(()=>{const V=o(function(w){let ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ee(Object(S.a)(Object(J.X)({entityId:vt,commentThreadId:w}))),Ge(w,ue)},"setThreadId");return ta.current=new $({onCommentThreadOpened:V}),ta.current},[Ee,vt,Ge]);return Object(n.useEffect)(()=>{ft&&ft!==Je&&(Oe(ft),kt())},[Je,Oe,kt,ft]),X},"useCommentsUiProvider"),Re=e("gast"),ht=e("FgD2"),yt=e("Zw6N"),gt=e("kN6v"),pt=e("l1I1"),mt=e("NV6F"),Dt=e("lIpX"),Pt=e("/46j"),Ot=e("nFQW"),Kt=e("ZobM"),ea=e("RVJP"),Nt=e("D4ee"),na=e("iLjr"),sa=e("oUrV"),ma=e("V4lD"),ua=e("D9/R"),ra=e("PVw+");const bt=new de.b("quip_view"),Ct={COMMENT_STREAM:"comment_stream",COMMENT_THREAD:"comment_thread",ACTIVITY_HISTORY:"activity_history"};function Ga(dt){let{id:vt}=dt;var kt,ta,Je,ft,nt,jt;const{window:Bt,windowId:Ee}=Object(n.useContext)(M.a),Ge=Object(u.useDispatch)(),{view:Oe,windowId:X,getSiblingView:V}=Object(n.useContext)(U.a),w=Object(l.c)(we=>V(we,{container:se.i.Secondary})),ue=Object(l.c)(we=>V(we,{container:se.i.Primary})),xe=Object(l.c)(we=>Object(ea.d)(we,"canvas_content_organization")==="on"),Ke=vt||Object(ne.e)(Oe),Ye=Oe==null||(kt=Oe.params)===null||kt===void 0?void 0:kt.versionId,it=Oe==null||(ta=Oe.params)===null||ta===void 0?void 0:ta.sequence,Rt=Object(B.a)(),Wt=(w==null?void 0:w.id)===Ct.COMMENT_THREAD||(w==null?void 0:w.id)===Ct.COMMENT_STREAM,Ae=Object(A.a)(),$e=!!Object(l.c)(v.a),K=Object(l.f)(we=>Object(x.b)(we,Ee)),rt=Object(l.c)(Re.a),zt=Object(l.c)(we=>Object(C.a)(we,Ke))||Ke,{fileId:lt}=Object(ee.b)(zt),Ue=Object(l.c)(we=>lt?Object(L.e)(we,lt):null);var Sa;const $a=Object(l.c)(we=>(Sa=Object(Pt.b)(we,lt))!==null&&Sa!==void 0?Sa:!0),[wa,Ma]=Object(n.useState)(),[Ia,dn]=Object(n.useState)(!1),[nn,ya]=Object(n.useState)(!1),[za,Na]=Object(n.useState)(!1),[pn,Yt]=Object(n.useState)(!1),[Ya,qa]=Object(n.useState)(null),[Ht,Xt]=Object(n.useState)(!1),Da=Object(n.useRef)(null),Ft=Object(n.useRef)(null);var ba;const Ra=(ba=Object(gt.a)((Je=Da.current)===null||Je===void 0?void 0:Je.textSectionOverlayShowing))!==null&&ba!==void 0?ba:!0,Ca=Object(mt.K)(lt),At=Ca!==void 0,sn=!!Object(gt.a)(Ca==null?void 0:Ca.deleted),ke=xe&&(ue==null?void 0:ue.viewType)===W.b.Channel?ue==null?void 0:ue.id:void 0,ae=xe&&ke&&(ue==null?void 0:ue.viewType)===W.b.Channel&&(Oe==null?void 0:Oe.viewType)===W.b.ChannelCanvas&&(Oe==null||(ft=Oe.params)===null||ft===void 0?void 0:ft.entityId)&&!(!(Oe==null||(nt=Oe.params)===null||nt===void 0)&&nt.channelId),Te=Object(l.c)(we=>ae?Object(na.a)(we,ke):void 0),{spaceFileId:De}=Object(ma.a)({channelId:ae?ke:void 0}),Qe=Object(n.useCallback)(()=>{(w==null?void 0:w.viewType)===W.b.QuipCommentThread&&Ye&&it&&Ge(Object(S.a)(Object(J.U)(Ke)))},[w==null?void 0:w.viewType,Ye,it,Ke,Ge]),Vt=He(lt,Ke,Qe),ha=Object(n.useCallback)(()=>{Object(F.a)({clogger:Ae,fileId:Ke,open:Wt}),Ge(Object(S.a)(Object(J.W)(Ke,K)))},[Ae,Ke,Wt,K,Ge]),aa=Object(n.useCallback)((we,Qt)=>{const _a=o(un=>Object.values(ht.a).includes(un),"isCannedTemplateTriggerType");if(we===c.TemplateTriggerType.BLANK_PAGE&&ya(!0),_a(we)){const un=rt.find(yn=>yn.template_name===we);if(un){if(Yt(!0),Na(!0),Object(pt.b)(lt)){qa({templateTriggerType:we,templateTriggerOptions:Qt});return}Ge(Object(yt.a)({templateFileId:un.id,targetFileId:lt,title:un.title,isStandaloneCanvas:!0})).finally(()=>{Na(!1)})}}},[lt,rt,Ge]);Object(n.useEffect)(()=>{!Object(pt.b)(lt)&&Ya&&(aa(Ya.templateTriggerType,Ya.templateTriggerOptions),qa(null))},[lt,aa,Ya]),Object(n.useEffect)(()=>{!Ra&&pn&&Yt(!1)},[Ra,pn]);const en=Object(n.useMemo)(()=>({fileId:lt,focus:()=>{var we,Qt;return(we=Da.current)===null||we===void 0||(Qt=we.docEditor)===null||Qt===void 0?void 0:Qt.focusEditor()},focusSection:we=>{var Qt,_a;return(Qt=Da.current)===null||Qt===void 0||(_a=Qt.docEditor)===null||_a===void 0?void 0:_a.focusSection(we)}}),[lt,Da]),_n=Object(n.useCallback)(we=>{var Qt;const _a=we.target.getAttribute("data-format");_a==="start-thread"||_a==="open-thread"||_a==="link"||(Qt=en.focus)===null||Qt===void 0||Qt.call(en)},[en]),Ka=Object(n.useCallback)(()=>{var we,Qt,_a;Ma((_a=Ft==null||(we=Ft.current)===null||we===void 0||(Qt=we.parentElement)===null||Qt===void 0?void 0:Qt.getBoundingClientRect())===null||_a===void 0?void 0:_a.width)},[]);Object(n.useEffect)(()=>{const we=Object(f.a)(Ka,150);return Bt.addEventListener("resize",we),()=>Bt.removeEventListener("resize",we)},[Ka,Bt]),Object(n.useEffect)(()=>{Ye&&it&&(dn(!1),Ge(Object(G.c)({windowId:X,versionId:Ye})))},[Ge,Ye,it,dn,X]);const ka=Object(l.c)(we=>Object(R.yb)(Ue,we)),vn=ka?500:400,ga=$e&&Ye&&it,{enableSectionNavigation:on,sectionIndex:qt}=Object(I.c)(I.b.Header,!1),{sectionIndex:La,enableSectionNavigation:jn}=Object(I.c)(I.b.EmptyCanvasTemplateOptions,!1),[ct,pa]=Object(n.useState)(!ka),Ta=Object(n.useCallback)(()=>{pa(!ct)},[ct]),Qa=Object(n.useCallback)(()=>{if(Te&&ke){const we=Te[Te.length-2];Ge(Object(ua.a)({channelId:ke})),Ge(Object(Nt.a)({quipDocId:we||De,source:sa.a.CHANNEL_CANVAS_LAYERING}))}},[Te,De,Ge,ke]),fn=o(()=>{if(!Ue||!Object(R.ac)(Ue)||Ia)return t.a.createElement(_e.b,{isLoadingHistory:Ia,fileId:Ue==null?void 0:Ue.id});let we;return ga?we=t.a.createElement(Y.a,{className:"p-quip_popout__header",versionId:Ye}):we=t.a.createElement(ve.b,{"aria-label":bt.t("Canvas Actions"),className:"p-quip_popout__header"},t.a.createElement("div",{className:"p-quip_popout__title"},ae&&Te&&t.a.createElement(Ot.a,{onClick:Qa,"aria-label":xe?bt.t("Back"):""},t.a.createElement(Kt.a,{name:"caret-left-full",inline:!0})),t.a.createElement(_.a,{id:zt}),t.a.createElement(re.a,{id:lt})),!Ht&&t.a.createElement(p.a,{id:zt,titleRef:Ft,onCommentStreamClick:ha,shouldTruncate:wa?wa<vn:!1,onEditTemplate:Ta,isTemplateInEditMode:ct,setIsTemplateInEditMode:pa,docEmbed:Da.current,setIsLoadingUseTemplate:Xt})),t.a.createElement(j.a,{id:"QuipHeaderView",index:qt,enableSectionNavigation:on},we)},"headerContents");if(fn.displayName="headerContents",Object(R.h)(Ue)&&!(it||Ye)){var mn;return Rt.warn("QUIP","QuipView was incorrectly used to render a channel canvas. Render a QuipChannelSpaceView instead."),t.a.createElement(Dt.a,{id:Ke,isTile:!0,lastReadTs:Oe==null||(mn=Oe.params)===null||mn===void 0?void 0:mn.lastReadTs})}const In=!ka&&Ra&&!nn&&!za&&!pn&&At&&!sn&&$a;return t.a.createElement(d.a.Provider,{value:en},t.a.createElement(b.a,{onFocusedElementRemoved:_n},t.a.createElement("div",{role:"presentation",className:"p-quip_popout"},(za||Ht)&&t.a.createElement(z.a,null),!za&&t.a.createElement("div",{className:Object(i.default)("p-quip_popout__doc",{"p-quip_popout__doc--has-thread":Wt})},t.a.createElement(g.a,{id:zt,variant:"short"},fn()),t.a.createElement(g.a,{id:zt},t.a.createElement("div",{className:Object(i.default)("p-quip_popout__embed",{hidden:Ht})},In&&t.a.createElement(j.a,{id:I.a.EmptyCanvasTemplateOptions,index:La,enableSectionNavigation:jn},t.a.createElement(ht.b,{onTemplateSelection:aa,channel:null,fileId:lt,isStandaloneCanvas:!0,docEmbed:Da.current})),t.a.createElement(Pe.a,{ref:Da,entityId:zt,versionId:Ye,sequence:it,getCommentsUiProvider:Vt,isTemplateOverlayShowing:In,lastReadTs:Oe==null||(jt=Oe.params)===null||jt===void 0?void 0:jt.lastReadTs})))))))}o(Ga,"QuipView"),Ga.displayName="QuipView";function oa(dt){let{id:vt}=dt;const{view:kt}=Object(n.useContext)(U.a);return t.a.createElement(g.a,{id:vt||kt.id},t.a.createElement(Ga,{id:vt}))}o(oa,"QuipViewWithErrorBoundary");function ia(){return t.a.createElement(oa,null)}o(ia,"renderQuipView"),ia.displayName="renderQuipView"},ALk5:function(k,m,e){"use strict";e.r(m);var n=e("q1tI"),t=e.n(n),u=e("nNoG"),f=e("ktUG"),i=e("/0Xg"),c=e("uVZW"),b=e("AKIH"),M=e("Trx9"),d=e("Sid4"),g=e("vDCl"),_=e("Tevt"),p=e("8Rho"),l=e.n(p),C=e("7jQe"),R=e.n(C);const L=new u.b("repackaging_announcement"),A={notification:c.h.REPACKAGING_ANNOUNCEMENT_BANNER},ee=o(U=>{let{repackagingStartDate:G}=U;const re=Object(b.a)(G,!1,{shortenDay:!0}),z=L.t("Messages older than {limitInDays} days will be hidden",{limitInDays:i.h}),v=t.a.createElement(t.a.Fragment,null,L.rt("Starting <strong>{priceLockInDate}</strong>, instead of separate limits for messages and file size, you\u2019ll be able to access all of your messages and files from the most recent {limitInDays} days.",{limitInDays:i.h,priceLockInDate:re,fallbackHash:"0f5737e1672f3b4b7a9ba43389c232d5c08586fb"}),t.a.createElement("span",{className:"p-repackaging_announcement_banner__body_line_two"},L.rt("<a>Read about this change</a>, and about new features coming your way.",{"<a>":I=>{let{text:B}=I;return t.a.createElement(_.a,{"data-qa":"repackaging_announcement_banner_link",href:"https://slack.com/blog/news/pricing-and-plan-updates"},B)}}))),j=t.a.createElement("img",{alt:L.t("calendar"),srcSet:`${l.a} 1x, ${R.a} 2x`});return t.a.createElement(M.a,{clogImpression:!0,eventId:f.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:f.UiComponentName.REPACKAGING_ANNOUNCEMENT_BANNER},t.a.createElement(d.b,{headingText:z,icon:j,theme:g.b.NONE,bodyText:v,notificationPrefs:A}))},"RepackagingAnnouncementBanner");ee.displayName="RepackagingAnnouncementBanner";var x=m.default=ee},Afkt:function(k,m,e){"use strict";e.d(m,"a",function(){return d});var n=e("ztJi"),t=e("3L56"),u=e("jJ7u"),f=e("JfJV"),i=e("xcHN"),c=e("mLC8"),b=e("Rnc8"),M=e("GoiD");let d=o(class extends b.a{tearDown(){this.routeChangeListenerSymbol&&Object(f.i)(this.routeChangeListenerSymbol)}openCommentsThread(_){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{focusTarget:l}=p;return c.d.start({label:c.a.SpaceCommentLoad,options:{teamId:this.teamId,tags:{comment_thread_id:_}}}),this.dispatch(Object(t.a)({quipThreadId:this.quipThreadId,reason:"startCommentsThread"})).then(C=>this.dispatch(Object(M.a)({fileId:C,quipCommentThreadId:_,shouldIncludeBack:this.shouldIncludeBack,focusTarget:l}))).then(()=>(this.openCommentThreadId=_,!0)).catch(C=>(this.logger.error(C),!1))}closeCommentsThread(){}constructor({shouldIncludeBack:_,...p}){super(p),this.openCommentThreadId=null,this.shouldIncludeBack=!0,this.onRouteChange=l=>{var C,R;const{prevRouteInfo:L,params:A,routeName:ee}=l;if(!this.openCommentThreadId||L.routeName!==u.C||!(!((C=L.params)===null||C===void 0)&&C.threadId))return;const{threadTs:x,quipCommentThreadId:U}=Object(i.a)(L.params.threadId),G=(R=Object(n.a)(this.getState(),this.openCommentThreadId))===null||R===void 0?void 0:R.threadTs;if(U&&U===this.openCommentThreadId||x&&x===G){if(ee===u.C){const{threadTs:z,quipCommentThreadId:v}=Object(i.a)(A.threadId);if(v&&v===this.openCommentThreadId||z&&z===G)return}this.closeCommentThreadId_(this.openCommentThreadId),this.openCommentThreadId=null}},typeof _=="boolean"&&(this.shouldIncludeBack=_),this.routeChangeListenerSymbol=Object(f.b)(this.onRouteChange)}},"QuipFlexpaneCommentsUiProvider")},BZp1:function(k,m,e){"use strict";e.d(m,"a",function(){return ee}),e.d(m,"b",function(){return x});var n=e("q1tI"),t=e.n(n),u=e("/MKj"),f=e("zxER"),i=e("Z0Cl"),c=e("+l5E"),b=e("d/FZ"),M=e("Yauy"),d=e("G0eX"),g=e("beVI"),_=e("MRve"),p=e("Cyb+"),l=e("u0LO"),C=e("UIhb"),R=e("E3dU");const L=15,A=3,ee=o(G=>{const re=Object(u.useDispatch)();return Object(n.useCallback)(()=>{re(Object(_.b)({component:G,type:l.a.Dismiss,reason:"slack-connect-dm-banner"}))},[re,G])},"useDismissBanner"),x=o((G,re)=>{const z=Object(u.useDispatch)(),[v,j]=Object(n.useState)(!0),I=Object(f.c)(g.g),B=Object(f.c)(Y=>Object(C.a)(Y,G)),F=Object(f.c)(Y=>Object(p.a)(Y,re,l.a.Dismiss)),S=Object(f.c)(Y=>Object(p.c)(Y,re,l.a.Dismiss)),J=Object(f.c)(Y=>{const ve=Object(R.d)(Y,G);return Object(M.f)(ve)});if(Object(n.useEffect)(()=>{z(Object(_.a)({interactions:[{component:re,type:l.a.Dismiss}],reason:"slack-connect-dm-banner"})).then(()=>{j(!1)})},[z,re]),Object(d.M)(I)||v||F>=A||J<S)return!1;const se=Object(i.a)(B,Y=>!Object(b.a)(Y));let W=0;return se.forEach(Y=>{W+=1+Object(c.J)(Y)}),!(W<L)},"useShouldRenderBanner"),U={MIN_CHANNEL_MESSAGES_COUNT:L,MAX_SCDM_BANNER_DISMISSALS:A}},CWUM:function(k,m,e){"use strict";var n=e("q1tI"),t=e.n(n),u=e("Cfcg"),f=e("YCgu"),i=e("Wn1n"),c=e("Kmpi"),b=e("wE+N"),M=e("ifKl"),d=e("FWtP"),g=e("x/ke"),_=e("WIr4"),p=e("9C2q"),l=e("orxu"),C=e("HKlo"),R=e("BfA7"),L=e("2VFn");function A(){return A=Object.assign||function(ke){for(var ae=1;ae<arguments.length;ae++){var Te=arguments[ae];for(var De in Te)Object.prototype.hasOwnProperty.call(Te,De)&&(ke[De]=Te[De])}return ke},A.apply(this,arguments)}o(A,"_extends");var ee;let x=o(class extends(ee=t.a.Component){getFocusTransitionListeners(ae){return{[C.c.APP_ABOUT_TAB]:()=>ae?(this.focus(),!0):!1}}focus(){var ae,Te;(ae=this.appSpaceRef)===null||ae===void 0||(Te=ae.current)===null||Te===void 0||Te.focus()}render(){return t.a.createElement(l.a,{listeners:this.getFocusTransitionListeners(this.props.appId)},t.a.createElement(b.a,A({},this.props,{tabIndex:0,role:"tabpanel",ref:this.appSpaceRef})))}constructor(ae){super(ae),this.appSpaceRef=t.a.createRef(),Object(_.a)(this,["getFocusTransitionListeners"]),this.getFocusTransitionListeners=Object(d.a)(this.getFocusTransitionListeners)}},"AppSpaceWrapper");x.displayName="AppSpaceWrapper",x.defaultProps={appId:null,hasKeyboardFocus:!1,onFocus:M.a,onBlur:M.a};const U=o((ke,ae)=>{var Te;const{shouldUseNavigate:De,getSiblingView:Qe}=ae,Vt=De?(Te=Qe(ke,{container:L.i.Primary}))===null||Te===void 0?void 0:Te.id:Object(i.a)(ke),ha=ae.channelId||Vt,aa=Object(g.b)(ke,ha);return{appId:Object(c.b)(aa)?aa.app_id:null}},"mapStateToProps");var G=Object(R.a)(Object(u.a)(U)(Object(p.a)(x))),re=e("BHdc"),z=e("zrD9"),v=e("B2cQ"),j=e("iBeP"),I=e("nNoG"),B=e("4Ky9"),F=e("rwY5"),S=e("M4HD"),J=e("RFPF"),se=e("hiuC"),W=e("ktUG"),Y=e("L4J1"),ve=e("i9y5"),de=e("jK/K"),_e=e("5IZy"),Pe=e("VvJB"),ne=e("jHZ5"),Z=e("Trx9"),te=e("oEDn"),$=e("qDEp"),ye=e("IrZ5"),ge=e("qdZb"),je=e("hgYl");const pe=new I.b("app_home"),Ve=o(ke=>{let{app:ae,setTab:Te,channelId:De}=ke;const Qe=Object(n.useCallback)(()=>{Te({tabId:je.b.ABOUT,channelId:De})},[De,Te]),Vt=pe.rt("In the meantime, learn more about {app} and what it can do by visiting the About tab.",{app:Object(S.r)(ae)||t.a.createElement(ge.a,null)});return t.a.createElement("div",{className:"p-app_home__blockkit_loading_error","data-qa":"app-home-timeout"},t.a.createElement("h2",null,t.a.createElement(te.a,{type:"life-ring",inline:!0})," ",pe.t("This is still a work in progress")),t.a.createElement("p",{className:"p-app_home__blockkit_loading_error__content"},Vt),t.a.createElement($.f,{type:"primary",onClick:Qe},pe.t("Learn More")))},"AppHomeTimeout");Ve.displayName="AppHomeTimeout";const Fe=o((ke,ae)=>{let{getSiblingView:Te}=ae;var De;return{channelId:(De=Te(ke,{container:L.i.Primary}))===null||De===void 0?void 0:De.id}},"app_home_timeout_mapStateToProps"),Le=o(ke=>({setTab:ae=>ke(Object(ye.a)(ae))}),"mapDispatchToProps");var He=Object(R.a)(Object(u.a)(Fe,Le)(Ve)),Re=e("/MKj"),ht=e("sKvQ");const yt=new I.b("app_home"),gt=o(ke=>{const ae=Object(Re.useDispatch)(),Te=Object(n.useCallback)(()=>{ae(Object(ht.a)({id:ke.viewId}))},[ae,ke]);return t.a.createElement("div",{className:"p-app_home__blockkit_loading_error","data-qa":"app_home_error_view"},t.a.createElement("h2",null,t.a.createElement(te.a,{type:"life-ring",inline:!0})," ",yt.t("Hmm \u2014 something went wrong")),t.a.createElement("p",null,yt.t("There was an error loading this content. Mind trying again?")),t.a.createElement($.f,{type:"primary",onClick:Te},yt.t("Reload")))},"AppHomeError");gt.displayName="AppHomeError";var pt=gt;function mt(){return mt=Object.assign||function(ke){for(var ae=1;ae<arguments.length;ae++){var Te=arguments[ae];for(var De in Te)Object.prototype.hasOwnProperty.call(Te,De)&&(ke[De]=Te[De])}return ke},mt.apply(this,arguments)}o(mt,"app_home_blockkit_extends");const Dt=10*1e3;var Pt;let Ot=o(class extends(Pt=t.a.PureComponent){componentDidMount(){this.updateTimer()}componentDidUpdate(){this.updateTimer()}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}showLoadingSpinner(){return this.props.appHomeIsLoading||this.props.viewIsLoading}updateTimedOut(){this.setState(()=>({timedOut:!0}));const{appId:ae,botId:Te,clogger:De}=this.props;De.track(W.EventId.APP_HOME_LOAD_ERROR,{app_id:ae,bot_id:Te,timeout:Dt})}updateTimer(){this.state.timedOut||(this.timer&&(clearTimeout(this.timer),delete this.timer),this.showLoadingSpinner()&&(this.timer=setTimeout(this.updateTimedOut,Dt)))}renderLoadingSpinner(){return t.a.createElement(ve.a,{className:"p-app_home_spinner",size:"jumbo","data-qa":"app_home_bk_spinner"})}render(){const{view:ae,appId:Te,botId:De}=this.props;if(this.props.viewIsNonExistentOrUnknown){var Qe;return this.state.timedOut?t.a.createElement(He,{app:this.props.app}):this.showLoadingSpinner()?this.renderLoadingSpinner():t.a.createElement(pt,{viewId:(Qe=this.props.view)===null||Qe===void 0?void 0:Qe.id})}const Vt=Object(re.default)("p-app_home__blockkit_container",{"p-app_home__blockkit_container--stale":this.props.viewIsStale}),ha={blockKitAppId:Te,blockKitBotId:De,surfaceType:W.SurfaceType.HOME,surfaceId:ae.id,uuid:Object(ne.q)(W.SurfaceType.HOME,{viewId:ae.id,viewHash:ae.hash})};return t.a.createElement(Z.a,mt({eventId:W.EventId.BK_USER_IMPRESSION},ha,{clogImpression:!0,enableClogImpressionOffScreen:!0,disableAutoReferringUiContext:!0}),t.a.createElement("div",{className:"p-app_home__blockkit","data-qa":"app_home_bk_app_view"},t.a.createElement("div",{className:Vt},t.a.createElement(Y.a,{view:this.props.view,viewContextTeamId:this.props.viewContextTeamId,containerContext:Pe.a.app_home,renderBlockWrapper:this.props.renderBlockWrapper,containerId:this.props.containerId,blockKitLogPayload:ha})),this.props.viewIsStale&&this.renderLoadingSpinner()))}constructor(ae){super(ae),this.updateTimedOut=this.updateTimedOut.bind(this),this.state={timedOut:!1}}},"AppHomeBlockkit");Ot.displayName="AppHomeBlockkit",Ot.defaultProps={botId:void 0,appHomeIsLoading:!0,view:!1,viewIsLoading:!1,viewIsStale:!1,viewIsNonExistentOrUnknown:!1,viewContextTeamId:void 0};const Kt=o((ke,ae)=>{let{appId:Te,view:De}=ae;return{app:Object(B.a)(ke,Te),viewIsLoading:Object(c.d)(De),viewIsStale:Object(de.a)(De),viewIsNonExistentOrUnknown:Object(c.c)(De)||Object(c.d)(De),clogger:Object(_e.a)({state:ke})}},"app_home_blockkit_mapStateToProps");var ea=Object(u.a)(Kt)(Ot);const Nt=o((ke,ae)=>{let{viewId:Te}=ae;return{view:Object(se.b)(ke,Te)}},"connected_app_home_blockkit_mapStateToProps");var na=Object(u.a)(Nt)(ea),sa=e("fuYn"),ma=e("Dcvo");const ua=new I.b("app_home");var ra;let bt=o(class extends(ra=t.a.Component){componentWillUnmount(){const{viewId:ae,dispatchRemoveBlockState:Te}=this.props;ae&&Te(ae)}getFocusTransitionListeners(ae){return{[C.c.APP_HOME_TAB]:()=>ae?(this.focus(),!0):!1}}focus(){var ae,Te;(ae=this.appHomeRef)===null||ae===void 0||(Te=ae.current)===null||Te===void 0||Te.focus()}render(){const{isLoading:ae,appId:Te,botId:De,viewId:Qe,viewContextTeamId:Vt,appName:ha,hasKeyboardFocus:aa,onFocus:en,onBlur:_n}=this.props,Ka=Object(re.default)("p-app_home",{"p-app_home--focus":aa}),ka=ua.t("Home",{fallbackHash:"70f8bb9a8a5393ef080507a89e4b98d139000d65",fallbackHashNs:"app_space"}),vn=`${ha} ${ka}`;return t.a.createElement(l.a,{listeners:this.getFocusTransitionListeners(Te)},t.a.createElement(z.a,{onFocusedElementRemoved:this.focus},t.a.createElement("div",{"aria-label":vn,className:Ka,"data-qa":"app_home",onFocus:en,onBlur:_n,tabIndex:0,ref:this.appHomeRef,role:"tabpanel"},t.a.createElement(v.a,null,ga=>{let{width:on,height:qt}=ga;return t.a.createElement(j.a,{height:qt,width:on},t.a.createElement(na,{appId:Te,botId:De,viewId:Qe,viewContextTeamId:Vt,appHomeIsLoading:ae}))}))))}constructor(ae){super(ae),Object(_.a)(this,["focus","getFocusTransitionListeners"]),this.getFocusTransitionListeners=Object(d.a)(this.getFocusTransitionListeners),this.appHomeRef=t.a.createRef()}},"BaseAppHome");bt.displayName="BaseAppHome",bt.defaultProps={botId:void 0,isLoading:void 0,viewId:void 0,viewContextTeamId:void 0,appName:"",hasKeyboardFocus:!1,onFocus:M.a,onBlur:M.a,dispatchRemoveBlockState:M.a};const Ct=o((ke,ae)=>{const{getSiblingView:Te}=ae,De=ae.channelId?Object(F.b)(ke,ae.channelId):Object(F.c)(ke,{getSiblingView:Te}),{appId:Qe}=De,Vt=Object(B.a)(ke,Qe),ha=Object(sa.a)(ke,{channelId:ae.channelId});return{appName:Object(S.r)(Vt)||"",viewContextTeamId:ha,...De}},"app_home_mapStateToProps"),Ga=o(ke=>({dispatchRemoveBlockState:ae=>ke(Object(J.b)(ae))}),"app_home_mapDispatchToProps");var oa=Object(R.a)(Object(p.a)(Object(u.a)(Ct,Ga)(bt))),ia=e("PPXB"),dt=e("Yauy"),vt=e("9oTK"),kt=e("Yk7g"),ta=e("1myf"),Je=e("zxER"),ft=e("FVdo"),nt=e("E3dU"),jt=e("ISSR"),Bt=e("G0eX"),Ee=e("gVOt"),Ge=e("beVI"),Oe=e("y/Pn"),X=e("E97Y"),V=e("mW+0"),w=e("ByMX"),ue=e("6/uB"),xe=e("9Gfp"),Ke=e("RVJP"),Ye=e("xk6m"),it=e("AcWU"),Rt=e("OWym"),Wt=e("1fia"),Ae=e("x6tY"),$e=e("sp7N"),K=e("YFy4"),rt=e("0Xjs"),la=e("eBnG"),zt=e("av2v"),lt=e("DEbe"),Ue=e("2J8J"),Sa=e("jGE+"),$a=e("p0Ab"),wa=e("vdkW"),Ma=e("xJV6"),Ia=e("Wc5b"),dn=e("3McJ"),nn=e("UaRM"),ya=e("1j+H"),za=e("KahQ"),Na=e("p2PQ"),pn=e("tGCl"),Yt=e("jYsG"),Ya=e("rScm"),qa=e("3956");function Ht(){return Ht=Object.assign||function(ke){for(var ae=1;ae<arguments.length;ae++){var Te=arguments[ae];for(var De in Te)Object.prototype.hasOwnProperty.call(Te,De)&&(ke[De]=Te[De])}return ke},Ht.apply(this,arguments)}o(Ht,"about_tab_extends");const Xt=new I.b("channel_tabs"),Da={offsetX:-4,offsetY:-2},Ft={uiStep:W.UiStep.CHANNEL_DETAILS_JOIN,onClick:{enableClogAction:!0}};function ba(ke){let{channelId:ae}=ke;const Te=Object(Re.useDispatch)(),De=Object(Je.c)(Gt=>!Object(Bt.L)(Object(Ge.g)(Gt))),Qe=Object(Je.c)(Gt=>Object(nt.d)(Gt,ae)),Vt=Object(Je.c)(Gt=>Object(ft.b)(Gt,ae)),ha=Object(Je.c)(xe.a),aa=Object(Ee.a)(Qe),en=ha===aa,_n=Object(Je.c)(Ge.g),Ka=Object(Je.c)(Gt=>Object(Ke.d)(Gt,"channel_manager_pilot")==="on"),ka=Object(Je.c)(Gt=>Object(V.a)(Gt,Qe)),vn=Object(Je.c)(Gt=>Object(Ye.b)(Gt,ae).length>0),ga=Object(Je.c)(w.a),on=Object(Je.c)(Gt=>Object(ue.a)(Gt,Qe)),qt=!Object(dt.db)(Qe)&&on;var La;const jn=(La=Object(Je.c)(Gt=>Object(dt.t)(Gt,Qe)))!==null&&La!==void 0?La:"",ct=Object(dn.a)(_n),pa=Object(X.h)(Qe),Ta=Vt===ft.a.App,Qa=!De&&!pa,[fn,mn]=Object(n.useState)(!0),In=Object(n.useCallback)(Object(vt.coroutine)(function*(){Qa&&(mn(!0),Te(Object(la.a)({channelId:ae,shouldFetchMemberObjects:!0})).then(()=>mn(!1)))}),[Te,ae,Qa]);Object(n.useEffect)(()=>{Ka&&In()},[In,Ka]);const we=Object(n.useCallback)(()=>{Te(Object(qa.a)({memberId:aa}))},[aa,Te]),Qt=Object(n.useCallback)(()=>{Te(Object(Rt.a)({channelId:ae,memberId:aa,entryPoint:"about-tab"}))},[Te,aa,ae]),_a=Object(n.useCallback)(()=>{Te(Object(it.a)({channelId:ae}))},[Te,ae]),[un,yn]=Object(n.useState)({isLoading:!0,fileIds:[],hasMore:!1});Object(n.useEffect)(()=>{Te(Object(Wt.a)({channelId:ae,count:5,reason:"about-tab/sharedFiles"})).then(Gt=>{let{files:tn,paging:gn}=Gt;const ys=tn==null?void 0:tn.filter(Me=>!Object($e.a)(Me)),Sn=Object(kt.a)(Object(ta.a)(ys,Me=>Object(Ae.P)(Me))).map(Me=>Me.id);yn({isLoading:!1,fileIds:Sn,hasMore:gn&&(gn==null?void 0:gn.pages)>1||!1})}).catch(()=>{yn({isLoading:!1,fileIds:[],hasMore:!1})})},[Te,ae]);const _s=Object(n.useCallback)(()=>{const Gt=rt.r.CHANNEL_FILES,tn=Gt===rt.r.CHANNEL_FILES?{channelFilesId:`files-${ae}`}:{};Te(Object(K.a)({entity:Gt,initialFilter:{filter:"in",value:[ae]},routeParams:tn}))},[Te,ae]),Rn=Object(n.useCallback)(Gt=>t.a.createElement(te.a,Ht({},Gt,{type:"add-user"})),[]),is=Object(n.useCallback)(()=>Te(Object(Ia.a)({channelId:ae,openModalProps:{isStackable:!0}})),[ae,Te]),Pa=Object(n.useCallback)(()=>Vt===ft.a.DM&&!Ta&&!Object(jt.a)(Qe)&&!en&&!Object(dt.pb)(Qe)&&(!De||!Object(Oe.a)(Qe)),[Qe,Ta,De,en,Vt]);let An,Kn="";switch(Vt){case ft.a.Channel:An=t.a.createElement(zt.a,{id:ae,isLoadingChannelManagers:fn,experimentChannelManagerPilotGroupOn:Ka}),Kn=Xt.t("View more files shared in {channelDisplayName}",{channelDisplayName:jn});break;case ft.a.DM:An=null,Kn=Xt.t("View more files shared in this conversation");break;case ft.a.MPDM:An=null,Kn=Xt.t("View more files shared in this group DM");break;case ft.a.App:An=t.a.createElement(lt.a,{channelId:ae});break;default:An=null;break}const Ln=Object(dt.U)(Qe)&&!De,ls=Vt===ft.a.Channel&&Object(Oe.a)(Qe),cs=Vt===ft.a.DM,Zn=Pa(),ds=t.a.createElement(t.a.Fragment,null,An,cs&&(Object(dt.pb)(Qe)?t.a.createElement(ya.a,{channelId:ae,onOpenHelpCenter:M.a}):t.a.createElement(nn.a,{memberId:aa,onOpenProfile:we,hidePhone:ct})),Zn&&t.a.createElement(Yt.a,null,t.a.createElement(Ya.a,{ariaLabel:Xt.t("Add people to this conversation"),onClick:is,renderTitleIcon:Rn,title:Xt.t("Add people to this conversation"),dataQa:"invite-members"})),ls&&t.a.createElement(Yt.a,null,t.a.createElement(Sa.a,{id:ae})),ka&&t.a.createElement(Yt.a,null,t.a.createElement(Ya.a,{ariaLabel:Xt.t("Remove connection"),className:"sk_raspberry_red",onClick:Qt,renderTitleIcon:Gt=>t.a.createElement(te.a,Ht({},Gt,{type:"times-circle"})),title:Xt.t("Remove connection")}))),Is=t.a.createElement(Ue.a,{id:ae});return t.a.createElement("div",{className:"p-tabs__about_tab"},t.a.createElement("div",{className:"p-about_modal__title_controls"},Object(dt.db)(Qe)&&t.a.createElement(t.a.Fragment,null,t.a.createElement(Ma.a,{channelId:ae,renderButton:Gt=>{let{buttonProps:tn,sectionIcon:gn}=Gt;return t.a.createElement($.f,Ht({},tn,{className:Object(re.default)("p-about_modal__section_picker",{"p-about_modal__section_picker--star_only":!Ln}),size:"small",type:"outline"}),gn,Ln&&t.a.createElement(te.a,{"aria-hidden":!0,className:"p-about_modal__action_icon_suffix",inline:!0,size:"inherit",type:"chevron-medium-down"}))},triggerProps:Da}),t.a.createElement(za.a,{channel:Qe})),qt&&t.a.createElement($.f,{className:"p-about_modal__join",onClick:_a,type:"primary",size:"small",autoClogProps:Ft},Xt.t("Join Channel")),t.a.createElement(wa.a,{channelId:ae,useIaDetailsStyle:!0})),ds,vn&&!ga&&Is,t.a.createElement($a.a,{id:ae,onClose:M.a}),!Ta&&!Object(dt.pb)(Qe)&&t.a.createElement(Na.a,{channel:Qe,isLoading:un.isLoading,fileIds:un.fileIds,hasMore:un.hasMore,moreButtonAriaLabel:Kn,onShowMoreClick:_s,onFileClick:M.a}),t.a.createElement(pn.a,{copyText:ae,copyTooltip:Xt.t("Copy channel id")},Xt.t("Channel ID: {channelId}",{channelId:ae})))}o(ba,"AboutTab");const Ra=o(ke=>{let{tab:ae,primaryView:Te,isAppIm:De}=ke;if(!ae)return null;const Qe=`${Te}${ae}`,Vt="p-tab_view__error_boundary";switch(ae){case"about":return De?t.a.createElement(ia.b,{subtype:"app_space",key:Qe,className:Vt},t.a.createElement(G,{channelId:Te})):t.a.createElement(ia.b,{subtype:"about_tab",key:Qe,className:Vt},t.a.createElement(ba,{channelId:Te}));case"app":return t.a.createElement(ia.b,{subtype:"app_home",key:Qe,className:Vt},t.a.createElement(oa,{channelId:Te}));default:return t.a.createElement(t.a.Fragment,null,ae)}},"TabView");Ra.displayName="TabView";const Ca=o((ke,ae)=>{const Te=ae.primaryView||Object(i.a)(ke);return{tab:ae.tab||Object(f.a)(ke,{windowId:ae.windowId,container:ae.container}),primaryView:Te,isAppIm:Object(dt.Y)(ke,Te)}},"tab_view_mapStateToProps"),At=Object(u.a)(Ca);var sn=m.a=Object(R.a)(At(Ra))},CopC:function(k,m,e){"use strict";var n=e("q1tI"),t=e.n(n),u=e("zxER"),f=e("BfA7"),i=e("tF1a"),c=e("Fhhg"),b=e("CWUM"),M=e("1ILc"),d=e("75t7"),g=e("YCgu"),_=e("rZ8V");const p=o(l=>{let{container:C,view:R,windowId:L}=l;var A,ee,x,U;const G=Object(u.c)(_.n),re=Object(u.c)(v=>Object(g.a)(v,{windowId:L,container:C})||(G?i.a.App:i.a.Messages));if(!R)return null;const z=re===i.a.Messages?t.a.createElement(c.a,{channelId:R.id,startTs:(A=R.params)===null||A===void 0?void 0:A.startTs,startTsOffset:(ee=R.params)===null||ee===void 0?void 0:ee.startTsOffset,highlightTs:(x=R.params)===null||x===void 0?void 0:x.highlightTs,highlightLazy:(U=R.params)===null||U===void 0?void 0:U.highlightLazy,omitViewHeader:!0}):t.a.createElement(b.a,{tab:re,primaryView:R.id});return t.a.createElement(t.a.Fragment,null,t.a.createElement(M.a,{id:R.id,shouldShowSidebarToggle:!1}),t.a.createElement(d.a,{channelId:R.id}),z)},"AppView");p.displayName="AppView",m.a=t.a.memo(Object(f.a)(p))},"D+av":function(k,m,e){"use strict";e.d(m,"a",function(){return f});var n=e("SQ0V"),t=e("YbH7"),u=e("A26L");const f=Object(n.c)("Calls quip.getCanvasCollection and gets all the collections and sets the redux store",(i,c)=>i(Object(t.a)({reason:"canvas_organization_prototype_3"})).then(b=>{i(Object(u.a)({fileIds:b.file_ids}))}));f.meta={name:"createThunk",key:"createThunkgetAndSetCollections",description:"Calls quip.getCanvasCollection and gets all the collections and sets the redux store"}},Dcvo:function(k,m,e){"use strict"},EN2b:function(k,m,e){"use strict";e.d(m,"a",function(){return I});var n=e("q1tI"),t=e.n(n),u=e("zxER"),f=e("/MKj"),i=e("9Gfp"),c=e("SQ0V"),b=e("nNoG"),M=e("3l96"),d=e("beVI"),g=e("YUBf"),_=e("hUMe"),p=e("TUw0"),l=e("CD4m"),C=e("fNJk"),R=e("gYGr"),L=e("lx3m"),A=e("+kJ4"),ee=e("ZUnK"),x=e("ZobM"),U=e("Tsh7"),G=e("sGEr"),re=e.n(G);function z(){return z=Object.assign||function(B){for(var F=1;F<arguments.length;F++){var S=arguments[F];for(var J in S)Object.prototype.hasOwnProperty.call(S,J)&&(B[J]=S[J])}return B},z.apply(this,arguments)}o(z,"_extends");const v=new b.b("slack_connect_hub"),j=o(B=>{let{workspaceId:F,entities:S}=B;const J=Object(f.useDispatch)(),se=Object(u.c)(i.h),W=Object(u.c)(ne=>Object(d.e)(ne,F)),Y=Object(n.useCallback)(()=>J(Object(A.a)()),[J]),ve=Object(n.useCallback)(()=>{se?J(Object(ee.a)({invitationsTabId:L.c.sent})):window.open(`${W}/invitations`)},[W,J,se]),de=Object(n.useCallback)(()=>t.a.createElement("div",{className:"margin_50"},t.a.createElement(x.a,{name:"paper-plane",variation:"large",size:"24"})),[]),_e=o(ne=>t.a.createElement("div",{className:"display_flex align_items_center margin_bottom_75"},t.a.createElement("div",{className:"p-shared_workspace_sent_invitation_success_modal__entity"},ne.entity.isEmail?t.a.createElement(l.d,{avatar:de,size:"medium",text:t.a.createElement(l.c,{className:"bold margin_left_50"},ne.entity.value)}):t.a.createElement(p.b,{id:ne.entity.id,useShortMode:!0,showPresence:!1,isDraftContext:!1,showStatus:!1,showSubtext:!1})),t.a.createElement(U.d,{tip:ne.entity.isEmail?v.t("They\u2019re not on Slack yet, but you can still message them (they\u2019ll be able to see all direct messages sent to them once they\u2019ve joined)."):v.t("An admin may need to review this invitation.")},t.a.createElement(x.a,{name:"info"}))),"renderEntity"),Pe=S.length>1;return t.a.createElement(g.b,{"data-qa":C.d.Modal},t.a.createElement(g.j,{alt:"Slack Connect Workspace Sent Invitation Illustration",src:re.a,height:196,width:520}),t.a.createElement(g.i,{"data-qa":C.d.Header},t.a.createElement(g.l,{title:Pe?v.t("Your invitations are on the way"):v.t("An invitation is on the way"),className:"break_word","data-qa":C.d.TitleBar})),t.a.createElement(g.d,{className:"margin_0","data-qa":C.d.Content},t.a.createElement(g.e,null,t.a.createElement("div",{className:"margin_0 margin_bottom_150 break_word"},Pe?v.rt("These people will receive an invitation to join {workspace}.",{workspace:t.a.createElement(_.a,{id:F})}):v.rt("This person will receive an invitation to join {workspace}.",{workspace:t.a.createElement(_.a,{id:F})})),t.a.createElement("div",{className:"margin_bottom_75"},t.a.createElement("strong",null,v.t("Invitations pending acceptance",{fallbackHash:"4382f4e32034cbad8acca35fbab132b3b711a961"}))),S.map(ne=>_e(ne)),t.a.createElement(R.a,{onClick:ve,text:v.t("Manage Invitations"),className:"margin_top_100"}))),t.a.createElement(g.g,{"data-qa":C.d.Footer},t.a.createElement(g.h,{"data-qa":C.d.FooterActions},t.a.createElement(g.c,{"data-qa":C.d.CloseButton,type:"primary",onClick:Y},v.t("OK")))))},"SharedWorkspaceSentInvitationSuccessModal");j.displayName="SharedWorkspaceSentInvitationSuccessModal";const I=Object(c.c)("Opens the Slack Connect Workspace Leave Confirmation Modal",(B,F,S)=>{B(Object(M.a)({element:t.a.createElement(j,z({},S)),isStackable:!1}))});I.meta={name:"createThunk",key:"createThunkopenSharedWorkspaceSentInvitationSuccessModal",description:"Opens the Slack Connect Workspace Leave Confirmation Modal"}},Ei7s:function(k,m,e){"use strict";var n=e("SQ0V"),t=e("VUud"),u=e("u4cD"),f=e("uVZW");const i=Object(n.c)("Close the message pane banner",(c,b,M)=>{c(Object(t.a)({action:f.f.DISMISS,reason:"close-banner",...M})),c(Object(u.d)({spaceName:f.g.MESSAGE_PANE}))});i.meta={name:"createThunk",key:"createThunkcloseBanner",description:"Close the message pane banner"},m.a=i},ElD4:function(k,m,e){"use strict";e.r(m),e.d(m,"ChannelInviteSuggestionsCoachmark",function(){return d});var n=e("q1tI"),t=e.n(n),u=e("nNoG"),f=e("zlyu"),i=e("RUo5"),c=e("ktUG");const b=new u.b("channel_header"),M={elementName:c.UiComponentName.CHANNEL_INVITE_SUGGESTIONS_COACHMARK,uiComponentName:c.UiComponentName.CHANNEL_INVITE_SUGGESTIONS_COACHMARK,onClick:{enableClogAction:!0}},d=o(g=>{let{offsetY:_=15,showCoachmark:p,onPrimaryClick:l,onClose:C,UNSAFE_parentSelector:R}=g;const L=t.a.createElement(f.a,{isOpen:p,primaryCallToActionText:b.t("Add People"),onClickPrimaryButton:l,closeCoachmark:C,offsetY:_,arrowPosition:90,orientation:"bottom-left",autoClogProps:M,isMegaphoneCoachmark:!1,UNSAFE_parentSelector:R},t.a.createElement("h3",null,b.t("Is anyone missing from the conversation?")),t.a.createElement("p",null,b.t("You can add more people to the channel to make sure no one misses a beat.")));return p?t.a.createElement(i.b,{coachmarkElement:L,orientation:"bottom-left"}):null},"ChannelInviteSuggestionsCoachmark");d.displayName="ChannelInviteSuggestionsCoachmark",m.default=d},FgD2:function(k,m,e){"use strict";e.d(m,"a",function(){return W});var n=e("q1tI"),t=e.n(n),u=e("hbEN"),f=e("Trx9"),i=e("ktUG"),c=e("nNoG"),b=e("ZobM"),M=e("E97Y"),d=e("LK2A"),g=e("d/xU"),_=e("zxER"),p=e("ZMRP"),l=e("khnw"),C=e("7ibc"),R=e("NV6F"),L=e("/MKj"),A=e("BHdc"),ee=e("WSQ4"),x=e("2IFS"),U=e("oSkh"),G=e("rZ8V"),re=e("GWPn"),z=e("JoR1"),v=e("T1zM"),j=e("SCQg"),I=e("s9Q6"),B=e("kN6v"),F=e("i5Ig"),S=e("AArn");const J=new c.b("slack-docs");var se;(function(te){te.LINK="help_center_link"})(se||(se={}));var W;(function(te){te.CANNED_CHANNEL_OVERVIEW="ChannelOverviewTemplate",te.CANNED_WEEKLY_SYNC="WeeklySyncTemplate",te.CANNED_EMPLOYEE_ONBOARDING="EmployeeOnboardingTemplate",te.CANNED_MONTHLY_NEWSLETTER="MonthlyNewsletterTemplate",te.CANNED_AGENDA="AgendaTemplate",te.CANNED_SHARED_RESOURCES="SharedResourcesTemplate",te.CANNED_OOO_COVERAGE="OOOCoveragePlanTemplate"})(W||(W={}));const Y=38,ve=20,de=150,_e=[d.TemplateTriggerType.MEETING_NOTES,d.TemplateTriggerType.LINKS_N_RESOURCES,d.TemplateTriggerType.TODO_LISTS,d.TemplateTriggerType.BLANK_PAGE,"smart-cards",...Object.values(W)],Pe=o(te=>_e.includes(te),"isAllowedTemplateTrigger"),ne=o(te=>{let{onTemplateSelection:$,channel:ye,fileId:ge,isStandaloneCanvas:je,onTemplateFromGallerySelection:pe,docEmbed:Ve}=te;const Fe=Object(L.useDispatch)(),Le=Object(n.useRef)(null),He=Object(M.h)(ye),Re=Object(_.c)(C.k),{files:ht}=Object(j.a)(),yt=19470130744595,gt=`https://${Object(g.p)()}/help/articles/${yt}`,{window:pt}=Object(n.useContext)(ee.a),mt=Object(n.useContext)(S.a),[Dt,Pt]=Object(n.useState)(null),[Ot,Kt]=Object(n.useState)(null),[ea,Nt]=Object(n.useState)(null),na=Object(_.c)(G.n),sa=Object(_.c)(I.i);var ma;const ua=Object(_.c)(Ee=>(ma=Object(z.u)(Ee,"seen_canvas_template_new_badge_channel_canvas"))!==null&&ma!==void 0?ma:!1);var ra;const bt=(ra=Object(B.a)(Ve==null?void 0:Ve.hasHeaderImage))!==null&&ra!==void 0?ra:!1,Ct=Object(n.useCallback)(Ee=>!!(ht!=null&&ht.find(Ge=>Ge.template_name===Ee)),[ht]),Ga=Object(n.useCallback)(()=>{Fe(Object(R.o)({source:"CanvasTemplateOptions",channelId:(ye==null?void 0:ye.id)||"",fileId:je?ge:"",onTemplateFromGallerySelection:pe})),!je&&!ua&&Fe(Object(v.f)({pref:"seen_canvas_template_new_badge_channel_canvas",value:!0}))},[Fe,ye==null?void 0:ye.id,je,ge,pe,ua]),oa=Object(n.useCallback)(Ee=>{$(Ee,{exampleUrl:gt}),!je&&!ua&&Object.values(W).includes(Ee)&&Fe(Object(v.f)({pref:"seen_canvas_template_new_badge_channel_canvas",value:!0}))},[$,gt,je,ua,Fe]),ia=Object(n.useRef)(null),dt=Object(n.useCallback)(Ee=>{var Ge;let Oe;if(je||(Oe=He?"dm":"channel"),(Ge=Le.current)===null||Ge===void 0||Ge.track({action:i.UiAction.CLICK,label:Ee,canvasType:je?"standalone":"channel-canvas",canvasTemplateType:"canned",canvasTemplateLabel:Ee,uiComponentVariant:Oe}),Pe(Ee))oa(Ee);else if(Ee==="help_center_link"){var X;(X=Le.current)===null||X===void 0||X.track({action:i.UiAction.CLICK,label:Ee}),Ga()}},[je,oa,Ga,He]),vt=Object(n.useCallback)(Ee=>{dt(Ee.id)},[dt]),kt=Object(n.useCallback)(Ee=>{Ee.keyCode===l.e&&(Ee.preventDefault(),Ee.id&&dt(Ee.id))},[dt]),ta=Object(n.useCallback)(()=>t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"ellipsis-horizontal",variation:"filled",size:"20"}),J.t("More"),!ua&&!je&&t.a.createElement(re.a,{className:"p-canvas_template_options__callout"},J.t("NEW"))),[ua,je]),Je=Object(n.useCallback)((Ee,Ge)=>{let{key:Oe}=Ge,X;return Oe==="help_center_link"?X=ta():Oe===d.TemplateTriggerType.BLANK_PAGE?X=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"canvas-content",size:"20"}),J.t("Blank canvas")):Oe==="smart-cards"?X=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"magic-wand",size:"20"}),Re?J.t("Make me one!"):"Make me one!"):Oe===d.TemplateTriggerType.MEETING_NOTES?X=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"list-view",size:"20"}),J.t("Meeting notes")):Oe===W.CANNED_EMPLOYEE_ONBOARDING?X=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"heart",size:"20"}),J.t("Employee onboarding")):Oe===W.CANNED_MONTHLY_NEWSLETTER?X=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"megaphone",size:"20"}),J.t("Newsletter")):Oe===d.TemplateTriggerType.LINKS_N_RESOURCES?X=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"link",size:"20"}),J.t("Resources")):Oe===d.TemplateTriggerType.TODO_LISTS?X=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"checkbox",size:"20"}),J.t("To-do list")):Oe===W.CANNED_CHANNEL_OVERVIEW?X=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"rocket",size:"20"}),J.t("Channel overview")):Oe===W.CANNED_WEEKLY_SYNC?X=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"calendar",size:"20"}),J.t("Weekly sync")):Oe===W.CANNED_AGENDA?X=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"checkbox",size:"20"}),J.t("Agenda")):Oe===W.CANNED_SHARED_RESOURCES?X=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"link",size:"20"}),J.t("Shared resources")):Oe===W.CANNED_OOO_COVERAGE&&(X=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"notifications-off",size:"20"}),J.t("Out of office coverage"))),t.a.createElement("div",{className:"p-canvas_template_options__buttons__button"},X)},[ta,Re]);Object(n.useEffect)(()=>{if(mt){var Ee;ia==null||(Ee=ia.current)===null||Ee===void 0||Ee.focus()}},[]);const ft=Object(n.useMemo)(()=>{const Ee=[d.TemplateTriggerType.BLANK_PAGE,...Re?["smart-cards"]:[]];return je?(Ct(W.CANNED_EMPLOYEE_ONBOARDING)&&Ee.push(W.CANNED_EMPLOYEE_ONBOARDING),Ct(W.CANNED_MONTHLY_NEWSLETTER)&&Ee.push(W.CANNED_MONTHLY_NEWSLETTER),Ct(W.CANNED_WEEKLY_SYNC)&&Ee.push(W.CANNED_WEEKLY_SYNC),Ct(W.CANNED_OOO_COVERAGE)&&Ee.push(W.CANNED_OOO_COVERAGE)):He?(Ct(W.CANNED_AGENDA)&&Ee.push(W.CANNED_AGENDA),Ct(W.CANNED_SHARED_RESOURCES)&&Ee.push(W.CANNED_SHARED_RESOURCES),Ct(W.CANNED_WEEKLY_SYNC)&&Ee.push(W.CANNED_WEEKLY_SYNC)):(Ct(W.CANNED_CHANNEL_OVERVIEW)&&Ee.push(W.CANNED_CHANNEL_OVERVIEW),Ct(W.CANNED_WEEKLY_SYNC)&&Ee.push(W.CANNED_WEEKLY_SYNC),Ct(W.CANNED_SHARED_RESOURCES)&&Ee.push(W.CANNED_SHARED_RESOURCES)),Ee.push("help_center_link"),Ee},[Re,He,Ct,je]),nt=Object(n.useCallback)(()=>{if(!Dt||!Ot)return F.b;var Ee;return{display:"block",marginLeft:0,marginTop:ve,left:Dt.left-Ot.left,top:Dt.top-Ot.top+Dt.height+((Ee=ea==null?void 0:ea.height)!==null&&Ee!==void 0?Ee:0)}},[Dt,Ot,ea]),jt=Object(n.useMemo)(()=>Object(u.a)(()=>{var Ee,Ge,Oe,X;const V=(Ge=pt==null||(Ee=pt.document)===null||Ee===void 0?void 0:Ee.querySelector(".editor-default-section-text-overlay.text-section"))===null||Ge===void 0?void 0:Ge.getBoundingClientRect();V&&Pt(V);const w=(X=pt==null||(Oe=pt.document)===null||Oe===void 0?void 0:Oe.querySelector(".document.parts-screen"))===null||X===void 0?void 0:X.getBoundingClientRect();w&&Kt(w);let ue=null;if(sa&&je){var xe,Ke,Ye;ue=(Ye=(Ke=pt==null||(xe=pt.document)===null||xe===void 0?void 0:xe.querySelector(".p-upgrades_alert_banner"))===null||Ke===void 0?void 0:Ke.getBoundingClientRect())!==null&&Ye!==void 0?Ye:null}Nt(ue)},de),[je,sa,pt==null?void 0:pt.document]);Object(n.useEffect)(()=>(pt.addEventListener("resize",jt),()=>{pt.removeEventListener("resize",jt),jt.cancel()}),[jt,pt]);const Bt=Object(n.useContext)(x.a);return Object(n.useEffect)(()=>{jt()},[jt,Bt,bt]),t.a.createElement(f.a,{eventId:i.EventId.QUIP_CHANNEL_CANVAS_TEMPLATES,fileId:ge,clogImpression:!0,channelId:(ye==null?void 0:ye.id)||"",trackClogRef:Ee=>{Le.current={track:Ee}}},t.a.createElement("div",{className:Object(A.default)("p-canvas_template_options","p-canvas_template_options--absolute"),style:nt(),role:"group","aria-label":J.t("New Canvas")},t.a.createElement("div",{className:"p-canvas_template_options__header"},J.t("Get Started")),t.a.createElement("div",{className:Object(A.default)("p-canvas_template_options__buttons",{"p-canvas_template_options__buttons--ia4":na})},t.a.createElement(U.a,{disableHeight:!0},Ee=>{let{width:Ge}=Ee;return t.a.createElement(p.b,{keys:ft,ref:ia,height:ft.length*Y,width:Ge,rowRenderer:Je,onItemKeyDown:kt,onItemClick:vt,"aria-label":J.t("Templates")})}))))},"CanvasTemplateOptions");ne.displayName="CanvasTemplateOptions";var Z=m.b=ne},Fhhg:function(k,m,e){"use strict";var n=e("q1tI"),t=e.n(n),u=e("/MKj"),f=e("zxER"),i=e("E3dU"),c=e("9068"),b=e("TsqY"),M=e("SQ0V"),d=e("gJbv"),g=e("q6Tz"),_=e("uVZW"),p=e("s9Q6"),l=e("y/Pn");const C=Object(M.c)("Send the Megaphone event CHANNEL_OPEN",(Le,He,Re)=>{let{channelId:ht}=Re;const yt=He(),gt=Object(i.d)(yt,ht);if(!Object(l.a)(gt))return;const pt=Object(d.c)(yt),mt=pt===d.a.TREATMENT_1,Dt=pt===d.a.TREATMENT_2,Pt=mt||Dt,Ot=Object(p.i)(He());Pt&&Le(Object(g.e)({event:{type:_.e.CHANNEL_OPEN,channelId:ht},isTeamOnTrial:Ot}))});C.meta={name:"createThunk",key:"createThunkchannelOpenedEvent",description:"Send the Megaphone event CHANNEL_OPEN"};var R=C,L=e("V4NK"),A=e("py4k"),ee=e("sqfg"),x=e("1ILc"),U=e("PPXB"),G=e("A4Vb"),re=e("RcB+"),z=e("yCHU"),v=e("mcZN"),j=e("i9y5"),I=e("fLNI"),B=e("qMw6"),F=e("nNoG"),S=e("ZobM"),J={nonexistent:"nonexistent__SW6p6",nonexistentMessage:"nonexistentMessage__lKrIr"};const se=new F.b("flexpane");function W(){return t.a.createElement("div",{className:J.nonexistent},t.a.createElement("div",{className:J.nonexistentMessage},t.a.createElement(S.a,{name:"lock",variation:"filled",size:"inherit"}),t.a.createElement("p",null,se.t("You do not have access to this channel",{fallbackHash:"aa2a08d2afa23e5f0a3fbe6e6ed494979fd09160",fallbackHashNs:"workspace_apps_manage"}))))}o(W,"NonExistentChannel");var Y=e("AHcl"),ve=e("CnKg"),de=e("RVJP"),_e=e("2uWu"),Pe=e("E97Y"),ne=e("AxFX"),Z=e("hjzp"),te=e("h0BU"),$=e("Yauy");const ye=o(Le=>{const He=Object(u.useDispatch)();Object(n.useEffect)(()=>{Le&&!Object($.jb)(Le)&&Object($.db)(Le)&&Object(Pe.n)(Le)&&He(Object(te.a)({channel:Le,reason:"viewed-record-channel"}))},[He,Le])},"useEnsureRecordChannelIsOpen");var ge=e("SlSJ"),je=e("rq2v");function pe(){return pe=Object.assign||function(Le){for(var He=1;He<arguments.length;He++){var Re=arguments[He];for(var ht in Re)Object.prototype.hasOwnProperty.call(Re,ht)&&(Le[ht]=Re[ht])}return Le},pe.apply(this,arguments)}o(pe,"_extends");function Ve(Le){const He=Object(u.useDispatch)(),[Re,ht]=Object(n.useState)(!1);Object(n.useEffect)(()=>{He(R({channelId:Le.channelId}))},[He,Le.channelId]);const yt=Object(f.c)(bt=>Object(de.d)(bt,"canvas_sidebar_mix")==="on"),gt=Object(f.c)(bt=>Object(d.c)(bt,!1,!1)),pt=gt===d.a.TREATMENT_1,mt=gt===d.a.TREATMENT_2,Dt=pt||mt,Pt=Le.channelId,Ot=Object(f.c)(bt=>Pt?Object(I.b)(bt,Pt):!1),Kt=Object(f.c)(bt=>Object(i.d)(bt,Pt,!1)),ea=Object(f.c)(bt=>yt&&Kt?Object(_e.a)(bt,Kt):void 0),Nt=Object(f.c)(b.a),[na,sa]=Object(n.useState)(!1),ma=Object(n.useCallback)(bt=>{sa(bt)},[]);if(ye(Kt),yt&&ea)return t.a.createElement(Y.a,{id:Object(ve.h)({id:Object(Z.b)(Le.channelId)})});if(Object(Pe.q)(Kt)&&Object(ne.a)(Le.channelId))return t.a.createElement("div",{className:"display_flex flex_direction_column justify_content_center full_height"},t.a.createElement(j.a,null));if(Object(c.b)(Kt))return t.a.createElement(W,null);const ra=!(na&&Re);return t.a.createElement(z.a,{id:B.a.MESSAGE_PANE},!Le.omitViewHeader&&t.a.createElement(x.a,{id:Le.channelId,hideBorder:ra}),Ot&&t.a.createElement(U.b,{subtype:"bookmarks",id:Le.channelId,variant:"short"},t.a.createElement(G.a,{channelId:Le.channelId,setIsBookmarksBarHidden:ht})),Dt&&t.a.createElement(v.a,{shouldShow:Nt}),t.a.createElement(L.b,{location:L.a.MESSAGE_PANE,channelId:Le.channelId},t.a.createElement(re.b,null,t.a.createElement("div",{className:"p-workspace__primary_view_body"},t.a.createElement(A.a,{channelId:Le.channelId,startTs:Le.startTs,startTsOffset:Le.startTsOffset,highlightTs:Le.highlightTs,highlightLazy:Le.highlightLazy,serializationKey:"message-pane",onOverflow:ma})),t.a.createElement(je.c,pe({},ge.a,{channelScopedId:Le.channelId})),t.a.createElement("div",{className:"workspace__primary_view_footer p-workspace__primary_view_footer--float"},t.a.createElement(ee.a,{channelId:Le.channelId})))))}o(Ve,"Channel"),Ve.displayName="Channel";var Fe=m.a=Ve},FlVn:function(k,m,e){"use strict";e.r(m);var n=e("q1tI"),t=e.n(n),u=e("/MKj"),f=e("nNoG"),i=e("zxER"),c=e("uVZW"),b=e("03PU"),M=e("JoR1"),d=e("aMUS"),g=e.n(d),_=e("eWGC"),p=e("ktUG"),l=e("1z69"),C=e("aHgF"),R=e("Jq9w"),L=e("P7By"),A=e("N0zA"),ee=e("W1Ru");const x=new f.b("usecase_onboarding"),U={eventId:p.EventId.NEWXP_TEAM_CREATE,elementName:c.h.USECASE_ONBOARDING_HUDDLE_COACHMARK,elementType:p.ElementType.COACHMARK,onClick:{enableClogAction:!0},megaphoneSpaceName:c.g.WELCOME_SPACE,megaphoneNotificationName:c.h.USECASE_ONBOARDING_HUDDLE_COACHMARK,clogImpression:!0},G=o(re=>{let{children:z}=re;const v=Object(u.useDispatch)(),j=Object(i.c)(Pe=>!!Object(M.u)(Pe,"a11y_animations")),I=Object(i.c)(C.c),B=l.b[c.h.USECASE_ONBOARDING_HUDDLE_COACHMARK],F=Object(n.useCallback)(()=>t.a.createElement(R.a,{currentStep:B,totalSteps:l.c}),[B]),S=Object(n.useCallback)(()=>e.e("gantry-v2-async-lottie-huddles-coachmark.json").then(e.t.bind(null,"5Qtj",3)),[]),J=Object(n.useCallback)(()=>t.a.createElement("div",{className:"p-usecase_onboarding_coachmark_loading p-usecase_onboarding_coachmark_loading__huddles"}),[]),se=Object(n.useMemo)(()=>j?t.a.createElement(L.a,{getAnimationImport:S,autoplay:!0,loop:!0,svgClassName:"p-usecase_onboarding_coachmark_lottie",renderLoading:J}):t.a.createElement("img",{alt:"","aria-hidden":!0,src:g.a,className:"p-usecase_onboarding_coachmark_gif"}),[S,j,J]);Object(n.useEffect)(()=>{v(Object(_.a)({notificationName:c.h.USECASE_ONBOARDING_HUDDLE_COACHMARK,action:c.f.IMPRESSION}))},[v]);const{isOpen:W,closeCoachmark:Y,renderCoachmark:ve}=Object(A.a)(c.h.USECASE_ONBOARDING_HUDDLE_COACHMARK,c.g.WELCOME_SPACE),de=Object(n.useCallback)(()=>Y(!0),[Y]);if(!W)return null;const _e=ve({arrowPosition:85,hero:se,title:I?x.t("Host team meetings right in Slack"):"",bodyText:I?x.rt("Huddles are the quickest way to meet with your team. Start a voice or video huddle from any conversation. <steps></steps>",{"<steps>":F}):"",closeCoachmark:de,onClickPrimaryButton:de,className:"p-usecase_onboarding_coachmark p-usecase_onboarding_coachmark__huddles",primaryCallToActionText:I?x.t("Done"):"",ariaLabel:I?x.t("Huddles are the quickest way to meet with your team. Start a voice or video huddle from any conversation. {currentStep} of {totalSteps}",{currentStep:B,totalSteps:l.c}):"",autoClogProps:U,width:l.a,offsetX:-300,closeBackgroundStyle:"dark",orientation:b.a.Right});return t.a.createElement(b.b,{coachmarkElement:_e,orientation:"bottom"},z)},"UsecaseOnboardingHuddlesCoachmark");G.displayName="UsecaseOnboardingHuddlesCoachmark",m.default=G},GUMB:function(k,m,e){"use strict";e.r(m);var n=e("q1tI"),t=e.n(n),u=e("/MKj"),f=e("nNoG"),i=e("zxER"),c=e("uVZW"),b=e("03PU"),M=e("JoR1"),d=e("4Pyn"),g=e.n(d),_=e("eWGC"),p=e("ktUG"),l=e("1z69"),C=e("aHgF"),R=e("Jq9w"),L=e("P7By"),A=e("q6Tz"),ee=e("N0zA"),x=e("NgZ7"),U=e("E3dU"),G=e("Ccc1"),re=e("q0lC"),z=e("W1Ru");const v=new f.b("usecase_onboarding"),j={eventId:p.EventId.NEWXP_TEAM_CREATE,elementName:c.h.USECASE_ONBOARDING_CHANNEL_COACHMARK,elementType:p.ElementType.COACHMARK,onClick:{enableClogAction:!0},megaphoneSpaceName:c.g.WELCOME_SPACE,megaphoneNotificationName:c.h.USECASE_ONBOARDING_CHANNEL_COACHMARK,clogImpression:!0},I=o(B=>{let{children:F}=B;var S;const J=Object(u.useDispatch)(),se=Object(i.c)(yt=>!!Object(M.u)(yt,"a11y_animations")),W=Object(i.c)(C.c),Y=l.b[c.h.USECASE_ONBOARDING_CHANNEL_COACHMARK],ve=Object(i.c)(re.h),de=Object(i.c)(yt=>Object(x.a)(yt,"use_case_onboarding_selection")),_e=Object(i.c)(U.s),Pe=Object(n.useCallback)(()=>{J(Object(A.b)({event:{type:c.e.REQUEST_SPACES,spaces:[c.g.WELCOME_SPACE]}}))},[J]),ne=Object(n.useCallback)(()=>t.a.createElement(R.a,{currentStep:Y,totalSteps:l.c}),[Y]),Z=Object(n.useCallback)(()=>e.e("gantry-v2-async-lottie-channels-coachmark.json").then(e.t.bind(null,"HZJ8",3)),[]),te=Object(n.useCallback)(()=>t.a.createElement("div",{className:"p-usecase_onboarding_coachmark_loading p-usecase_onboarding_coachmark_loading__channels"}),[]),$=Object(n.useMemo)(()=>se?t.a.createElement(L.a,{getAnimationImport:Z,autoplay:!0,loop:!0,svgClassName:"p-usecase_onboarding_coachmark_lottie",renderLoading:te}):t.a.createElement("img",{alt:"","aria-hidden":!0,src:g.a,className:"p-usecase_onboarding_coachmark_gif"}),[Z,se,te]);Object(n.useEffect)(()=>{J(Object(_.a)({notificationName:c.h.USECASE_ONBOARDING_CHANNEL_COACHMARK,action:c.f.IMPRESSION}))},[J]);const{isOpen:ye,closeCoachmark:ge,renderCoachmark:je}=Object(ee.a)(c.h.USECASE_ONBOARDING_CHANNEL_COACHMARK,c.g.WELCOME_SPACE),pe=Object(n.useCallback)(()=>ge(!0),[ge]);if(!ye)return null;const Ve=t.a.createElement(G.a,{channelId:(S=_e[0])===null||S===void 0?void 0:S.id,showTeam:!1});let Fe,Le,He,Re="";switch(de!=null&&de.length&&(Re=de.split("|")[0]),Re){case"meetings":{Fe=W?v.rt("Run meetings efficiently in {channelName}, your team\u2019s first channel",{channelName:Ve}):"",Le=W?v.rt("Channels keep all of your conversations focused \u2014 whether that\u2019s over messaging, audio or video. <steps></steps>",{"<steps>":ne}):"",He=W?v.t("Channels keep all of your conversations focused \u2014 whether that\u2019s over messaging, audio or video. {currentStep} of {totalSteps}",{currentStep:Y,totalSteps:l.c}):"";break}case"connect":{Fe=W?v.rt("Stay aligned with clients in {channelName}, your first channel",{channelName:Ve}):"",Le=W?v.rt("Channels keep projects focused so your team and your customers stay on the same page. <steps></steps>",{"<steps>":ne}):"",He=W?v.t("Channels keep projects focused so your team and your customers stay on the same page. {currentStep} of {totalSteps}",{currentStep:Y,totalSteps:l.c}):"";break}default:{Fe=W?v.rt("Stay aligned in {channelName}, your team\u2019s first channel",{channelName:Ve}):"",Le=W?v.rt("Channels keep projects focused by organizing conversations, keeping everyone on the same page. <steps></steps>",{"<steps>":ne}):"",He=W?v.t("You can create channels for any topic you\u2019d like. We started you off with a couple extra for general work talk and random social chatter. {currentStep} of {totalSteps}",{currentStep:Y,totalSteps:l.c}):"";break}}ve||(Fe=W?v.rt("Welcome to {channelName}, one of your team\u2019s first channels",{channelName:Ve}):"");const ht=je({arrowPosition:10,hero:$,title:Fe,bodyText:Le,closeCoachmark:pe,onClickPrimaryButton:Pe,className:"p-usecase_onboarding_coachmark p-usecase_onboarding_coachmark__channels",primaryCallToActionText:W?v.t("Next"):"",ariaLabel:He,autoClogProps:j,width:l.a,offsetY:170,offsetX:-10,closeBackgroundStyle:"dark"});return t.a.createElement(b.b,{coachmarkElement:ht,orientation:"right"},F)},"UsecaseOnboardingChannelsCoachmark");I.displayName="UsecaseOnboardingChannelsCoachmark",m.default=I},GVvR:function(k,m,e){"use strict";e.d(m,"a",function(){return S});var n=e("q1tI"),t=e.n(n),u=e("/MKj"),f=e("zxER"),i=e("nNoG"),c=e("ktUG"),b=e("u0LO"),M=e("G0eX"),d=e("7cRW"),g=e("beVI"),_=e("cyVs"),p=e("Cy/8"),l=e("Trx9"),C=e("qDEp"),R=e("iUFw"),L=e("eIwF"),A=e.n(L),ee=e("fX6G"),x=e.n(ee),U=e("cj00"),G=e.n(U),re=e("PA8C"),z=e.n(re),v=e("BZp1"),j=e("tVK8");const I=new i.b("trial_slack_connect_awareness"),B={onClick:{enableClogAction:!0},elementName:"create_channel",isPrimaryCTA:!0},F={onClick:{enableClogAction:!0},elementName:"learn_more"},S=o(se=>{let{showTrialStartedVersion:W,currentTeamName:Y,onCreateASharedChannelClick:ve}=se,de=`${A.a} 1x, ${x.a} 2x`;W||(de=`${G.a} 1x, ${z.a} 2x`);const _e=t.a.createElement("img",{alt:"",srcSet:de}),Pe=W?I.t("Ta-da! Your trial\u2019s started"):I.t("Work with entire teams outside {teamName}",{teamName:Y}),ne=W?I.t("You\u2019re all set to start working with teams at other companies in channels. Want to do this later? Just go to Slack Connect in your sidebar to get started."):I.t("Use Slack Connect for channels and loop everyone in to the conversation, no matter where they work. Give it a try while your team is on a trial."),Z=t.a.createElement(C.f,{"data-qa":"slack_connect_dm_trial_banner-create_channel",onClick:ve,autoClogProps:B},I.t("Create Slack Connect Channel")),te=t.a.createElement(R.a,{type:"outline","data-qa":"slack_connect_dm_trial_banner-learn_more",href:"/connect",autoClogProps:F},I.t("Learn More"));return t.a.createElement(l.a,{eventId:c.EventId.UPGRDEXP_TRIAL,uiComponentName:c.UiComponentName.SLACK_CONNECT_DM_TRIAL_BANNER,clogImpression:!0},t.a.createElement(j.a,{uiComponent:b.c.SlackConnectDmTrialBanner,heading:Pe,image:_e,bodyContent:ne,"data-qa":"slack_connect_dm_trial_banner",primaryCTA:Z,secondaryCTA:te}))},"SlackConnectDMTrialBanner");S.displayName="SlackConnectDMTrialBanner";const J=o(se=>{let{channelId:W,showTrialStartedVersion:Y}=se;const ve=Object(u.useDispatch)(),de=Object(v.a)(b.c.SlackConnectDmTrialBanner),_e=Object(n.useCallback)(()=>{ve(Object(p.a)({createSharedChannel:!0,entryPoint:d.a.SlackConnectDmTrialBanner})),de()},[ve,de]),Pe=Object(f.c)(g.g),ne=Object(M.h)(Pe),Z=Object(v.b)(W,b.c.SlackConnectDmTrialBanner);return!Object(_.a)()||!Z?null:t.a.createElement(S,{channelId:W,showTrialStartedVersion:Y,currentTeamName:ne,onCreateASharedChannelClick:_e})},"ConnectedSlackConnectDmTrialBanner");J.displayName="ConnectedSlackConnectDmTrialBanner",m.b=J},HPr9:function(k,m,e){"use strict";e.r(m);var n=e("q1tI"),t=e.n(n),u=e("BHdc"),f=e("nNoG"),i=e("vMmh"),c=e("ktUG"),b=e("/0Xg"),M=e("uVZW"),d=e("Trx9"),g=e("Sid4");const _=new f.b("notification_banner"),p={elementName:"pricing"},l={elementName:"skip_for_now"},C={notification:M.h.LOCAL_DISCOUNT_AWARENESS,step:"hide"};let R=o(class extends n.PureComponent{getContent(){const{discountPercent:A,country:ee}=this.props,x=Object(u.default)("p-message_pane_banner__header_icon",`p-message_pane_banner__header_icon--${ee.toLowerCase()}`);return{headingText:t.a.createElement("div",null,t.a.createElement("div",{className:x}),_.rt("Get a {discountPercent}% discount on a paid plan",{discountPercent:A})),bodyText:_.rt("For a limited time, teams in {country} can get {discountPercent}% off when upgrading to a paid plan. Once you upgrade, your team will be able to see and search all past messages and files, add guests to your workspace, and more.",{country:i.a[ee].name,discountPercent:A}),primaryCTAText:_.t("See Upgrade Options")}}render(){const{headingText:A,bodyText:ee,primaryCTAText:x}=this.getContent();return t.a.createElement(d.a,{clogImpression:!0,eventId:c.EventId.GROWTH_LOCAL_DISCOUNT,uiComponentName:c.UiComponentName.LOCAL_DISCOUNT_AWARENESS_BANNER},t.a.createElement(g.b,{headingText:A,bodyText:ee,primaryCTAText:x,primaryCTAHref:Object(b.w)(),primaryCTAClogProps:p,secondaryCTAText:_.t("Not Now"),secondaryCTAClogProps:l,notificationPrefs:C}))}},"LocalDiscountAwarenessBanner");R.displayName="LocalDiscountAwarenessBanner",m.default=R},IYUO:function(k,m,e){k.exports=e.p+"nfx-welcome-modal-en-GB-c479ba7.gif"},Icre:function(k,m,e){"use strict";var n=e("SQ0V"),t=e("ohbk"),u=e("a/vO"),f=e("lhZz"),i=e("l1I1"),c=e("XZo2"),b=e("Z9Nv"),M=e("Wn1n"),d=e("RV0M");const g=Object(n.c)("Go back from the document, usually happens when it is closed",(_,p,l,C)=>{if(!Object(i.a)(Object(M.a)(p())))return;const R=Object(u.a)(Object(f.getStateForClientStore)()),L=R&&R.find(A=>!!(A!=null&&A.primaryView)&&!Object(i.a)(A.primaryView));if(!L||!L.primaryView){const{shouldUseNavigate:A,getSiblingView:ee}=C(d.a),x=Object(c.p)(p(),{shouldUseNavigate:A,getSiblingView:ee});return _(Object(b.a)({id:x,replace_history_state:!0}))}return _(Object(t.a)({id:L.primaryView,teamId:L.teamId,routeParams:L.routeParams||{},replaceHistoryState:!0}))});g.meta={name:"createThunk",key:"createThunkgoBackFromDoc",description:"Go back from the document, usually happens when it is closed"},m.a=g},InNx:function(k,m,e){"use strict";var n=e("q1tI"),t=e.n(n),u=e("zxER"),f=e("/MKj"),i=e("nNoG"),c=e("zm5I"),b=e("gJbv"),M=e("d/xU"),d=e("/0Xg"),g=e("ktUG"),_=e("Trx9"),p=e("dHXs"),l=e("Sid4"),C=e("GR6R"),R=e("UAcp"),L=e("vDCl");const A=new i.b("trials_highlight_paid_features"),ee={elementName:"trial_start",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},x={elementName:"learn_more"},U={elementName:"pricing"},G=o(z=>{let{headingText:v,bodyText:j,clientTheme:I,imgDark:B,imgLight:F,isEligibleForMessageLimitTrial:S,notificationPrefs:J,openTrialModal:se,showUpgradeOptions:W,trialStartCTAProps:Y,uiComponentVariant:ve,uiStep:de}=z;const _e=Object(d.w)({feature:d.j.UNLIMITED_MESSAGES});let Pe,ne,Z,te,$,ye,ge;return S?(Pe=A.t("Start Free Trial"),te=p.a,ne=ee,$=A.t("Learn more"),ye=x,ge=se):W?(Pe=A.t("See Upgrade Options"),ne=U,Z=_e):(Pe=A.t("Learn More"),ne=x,Z=`https://${Object(M.p)()}/help/articles/115002422943`),t.a.createElement(_.a,{clogImpression:!0,eventId:g.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:g.UiComponentName.LIMITED_HISTORY_FLOATING_TRIAL_OFFER_BANNER,uiComponentVariant:ve,uiStep:de},t.a.createElement(l.b,{bodyText:j,closeOnPrimaryCTAClick:!1,closeOnSecondaryCTAClick:!1,customPrimaryCTA:te,customPrimaryCTAProps:Y,headingText:Object(R.b)(v),imgSrc:I==="light"?F:B,notificationPrefs:J,primaryCTAText:Pe,primaryCTAClogProps:ne,primaryCTAHref:Z,onSecondaryCTAClick:ge,secondaryCTAClogProps:ye,secondaryCTAText:$,secondaryCTAUseLink:!0,theme:L.b.HORCHATA}))},"LimitedHistoryFloatingTrialOfferBanner");G.displayName="LimitedHistoryFloatingTrialOfferBanner";const re=o(z=>{let{bodyText:v,headingText:j,imgDark:I,imgLight:B,isEligibleForMessageLimitTrial:F,notificationName:S,onTrialStart:J,showUpgradeOptions:se,uiStep:W}=z;const Y=Object(f.useDispatch)(),ve=Object(u.c)(b.d),de=Object(u.c)(c.a);let _e;F?_e=g.UiComponentVariant.TRIAL_ELIGIBLE:se?_e=g.UiComponentVariant.TRIAL_INELIGIBLE:_e=g.UiComponentVariant.USER_NON_ADMIN;const Pe=Object(n.useCallback)(()=>Y(Object(C.a)({uiComponentVariant:_e,uiStep:W})),[Y,_e,W]),ne=Object(n.useCallback)(()=>J({showFloatingTrialStartBanner:!0,unlockMessages:!0}),[J]),Z=Object(n.useMemo)(()=>({onRequestComplete:ne,reason:"limited_history_floating_trial_offer_banner",promoType:d.q.PaidFeatureTrial,promoSubtype:d.p.MessageLimit}),[ne]),te=Object(n.useMemo)(()=>({notification:S}),[S]);return t.a.createElement(G,{bodyText:v,clientTheme:de,experimentBestInClassTrialsMessageLimitTrialGroupTreatment:ve,headingText:j,imgDark:I,imgLight:B,isEligibleForMessageLimitTrial:F,notificationName:S,notificationPrefs:te,onTrialStart:J,openTrialModal:Pe,showUpgradeOptions:se,trialStartCTAProps:Z,uiStep:W,uiComponentVariant:_e})},"ConnectedLimitedHistoryFloatingTrialOfferBanner");re.displayName="ConnectedLimitedHistoryFloatingTrialOfferBanner",m.a=t.a.memo(re)},J17o:function(k,m,e){"use strict";e.r(m),e.d(m,"BaseApproachingMsgLimitBanner",function(){return J});var n=e("q1tI"),t=e.n(n),u=e("zxER"),f=e("/MKj"),i=e("ifKl"),c=e("ktUG"),b=e("nNoG"),M=e("/0Xg"),d=e("Trx9"),g=e("GR6R"),_=e("vDCl"),p=e("Sid4"),l=e("d/xU"),C=e("uVZW"),R=e("gJbv"),L=e("o1uv"),A=e.n(L),ee=e("WSvh"),x=e.n(ee),U=e("InNx");const G=new b.b("trials_highlight_paid_features"),re=o(W=>{let{isEligibleForMessageLimitTrial:Y,daysUntilMessageLimit:ve,notificationName:de,onTrialStart:_e,showUpgradeOptions:Pe}=W;const ne=Object(u.c)($=>Object(R.b)($,Y));let Z;const te=G.t("{daysUntilMessageLimit, plural, =1 {# day} other {# days}} left until some messages and files are hidden",{daysUntilMessageLimit:ve});return Y?Z=G.t("Start a free, {trialDuration}-day trial to maintain a record of every conversation and decision.",{trialDuration:ne}):Pe?Z=G.t("Upgrade to a paid plan to maintain a record of every conversation and decision.",{fallbackHash:"ea0f9a8bd37b4be6fa8972dacbed86b30dc167a2"}):Z=G.t("Upgrade to a paid plan for unlimited access to past decisions and discussions.",{fallbackHash:"ea0f9a8bd37b4be6fa8972dacbed86b30dc167a2"}),t.a.createElement(U.a,{bodyText:Z,headingText:te,isEligibleForMessageLimitTrial:Y,imgDark:x.a,imgLight:A.a,notificationName:de,onTrialStart:_e,showUpgradeOptions:Pe,uiStep:c.UiStep.LIMITED_HISTORY_APPROACHING_LIMIT})},"ApproachingMsgLimitBannerV2");re.displayName="ApproachingMsgLimitBannerV2";var z=t.a.memo(re);const v=new b.b("trials_highlight_paid_features"),j={elementName:"learn_more"},I={elementName:"trial_start"},B={elementName:"pricing"},F={elementName:"learn_more"},S={notification:C.h.MESSAGE_LIMIT_APPROACHING},J=o(W=>{let{isEligibleForMessageLimitTrial:Y,daysUntilMessageLimit:ve,notificationName:de,onTrialStart:_e,showUpgradeOptions:Pe}=W;const ne=Object(f.useDispatch)(),Z=Object(M.w)({feature:M.j.UNLIMITED_MESSAGES}),te=Object(u.c)(R.d),$=Object(u.c)(Re=>Object(R.b)(Re,Y)),ye=Object(n.useCallback)(()=>ne(Object(g.a)({uiComponentVariant:c.UiComponentVariant.APPROACHING_MSG_FILE_LIMIT_DATE})),[ne]);if(te)return t.a.createElement(z,{isEligibleForMessageLimitTrial:Y,daysUntilMessageLimit:ve,notificationName:de,onTrialStart:_e,showUpgradeOptions:Pe});const ge=`https://${Object(l.n)()}/help/articles/115002422943#message-and-file-visibility-limit`,je=o(()=>Y?{text:v.t("Start Free Trial"),clogProps:I}:Pe?{text:v.t("See Upgrade Options"),clogProps:B,href:Z}:{text:v.t("Learn More"),clogProps:F,href:ge},"getPrimaryCTA"),pe=v.t("{daysUntilMessageLimit, plural, =1 {# day} other {# days}} left until some messages and files are hidden",{daysUntilMessageLimit:ve}),Ve=o(()=>Y?v.t("Start a free, {trialDuration}-day trial to keep access to your team\u2019s full message and file history, plus get all the premium features of the Pro plan.",{trialDuration:$}):Pe?v.t("Upgrade to a paid plan to keep access to your team\u2019s full message and file history, plus get all the premium features of the Pro plan."):v.t("On the free version of Slack, you can only access messages and files sent in the past {limitInDays} days.",{limitInDays:M.h}),"getBodyText"),Fe=c.UiComponentName.APPROACHING_MSG_LIMIT_BANNER,Le=Y?c.UiComponentVariant.TRIAL_ELIGIBLE:c.UiComponentVariant.TRIAL_INELIGIBLE,He=je();return t.a.createElement(d.a,{clogImpression:!0,eventId:c.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:Fe,uiComponentVariant:Le},t.a.createElement(p.b,{notificationPrefs:S,closeOnSecondaryCTAClick:!1,primaryCTAText:He.text,primaryCTAClogProps:He.clogProps,primaryCTAHref:He.href,onPrimaryCTAClick:Y?ye:i.a,iconType:"clock-o",theme:_.b.LIGHT_PURPLE,headingText:pe,bodyText:Ve(),secondaryCTAText:Pe||Y?v.t("Learn More"):void 0,secondaryCTAHref:ge,secondaryCTAClogProps:j}))},"ApproachingMsgLimitBanner");J.displayName="ApproachingMsgLimitBanner";var se=m.default=J},JEWL:function(k,m,e){k.exports=e.p+"nfx-welcome-modal-pt-BR-e75fa5a.gif"},Jq9w:function(k,m,e){"use strict";e.d(m,"a",function(){return M});var n=e("q1tI"),t=e.n(n),u=e("nNoG"),f=e("zxER"),i=e("aHgF"),c=e("W1Ru");const b=new u.b("usecase_onboarding"),M=Object(n.memo)(d=>{let{currentStep:g,totalSteps:_}=d;const p=Object(f.c)(i.c);return t.a.createElement("span",{className:"p-usecase_onboarding_coachmark__steps"},p?b.t("{currentStep} of {totalSteps}",{currentStep:g,totalSteps:_}):"")})},L4J1:function(k,m,e){"use strict";var n=e("Lgge"),t=e("q1tI"),u=e.n(t),f=e("TGBA"),i=e("ifKl"),c=e("fujP"),b=e("Cfcg"),M=e("WIr4"),d=e("n3tL"),g=e("yPgC"),_=e("FWtP"),p=e("Ma6+"),l=e("VvJB"),C=e("jHZ5"),R=e("forh"),L=e("D5yd");const A={view:d.default.oneOfType([g.a.maybeUnknown(g.a.AppView),d.default.bool]),containerContext:d.default.oneOf(Object(f.a)(l.a)).isRequired,renderBlockWrapper:d.default.func,containerId:d.default.string,onAction:d.default.func,showConfirmDialog:d.default.func,openFileViewer:d.default.func,dispatchSendActions:d.default.func.isRequired,blockKitLogPayload:d.default.object,viewContextTeamId:d.default.string},ee={view:!1,renderBlockWrapper:void 0,containerId:void 0,onAction:i.a,showConfirmDialog:void 0,openFileViewer:void 0,blockKitLogPayload:void 0,viewContextTeamId:void 0};let x=o(class extends t.Component{handleAction(z){const{view:v,onAction:j,viewContextTeamId:I}=this.props,B={serviceId:v.botId,serviceTeamId:I||v.appInstalledTeamId,container:{type:l.a.view,view_id:v.id},actions:[z],isProfileAppView:v.type==="profile"};return j(z),Object(C.t)(v.blocks,z.blockId)?n.a.resolve():this.props.dispatchSendActions(B)}renderBlockWrapper(z,v,j){return this.props.renderBlockWrapper?this.props.renderBlockWrapper(z,v,j):u.a.createElement("div",{key:v.blockId,className:`p-block_wrapper--${this.props.containerContext}_view p-${v.type}_block_wrapper--${this.props.containerContext}_view`},z)}render(){const{view:z,containerContext:v,containerId:j,showConfirmDialog:I,openFileViewer:B,blockKitLogPayload:F}=this.props;if(Object(c.a)(z.blocks))return null;const S=this.getContainerActionsPayload(z);return u.a.createElement(L.a,{blocks:z.blocks,containerIdKey:Object(C.k)({...S==null?void 0:S.container})},u.a.createElement(R.a,{serviceId:z.botId,isInAppView:!0,showConfirmDialog:I,openFileViewer:B,blocks:z.blocks,blocksContainerContext:v,container:l.a.view,containerActionsPayload:S,onAction:this.handleAction,renderBlock:this.renderBlockWrapper,containerId:j,blockKitLogPayload:F,remountOnUpdate:!0}))}constructor(z){super(z),this.getContainerActionsPayload=Object(_.a)(v=>({serviceId:v.botId,serviceTeamId:v.appInstalledTeamId,container:{type:l.a.view,view_id:v.id}})),Object(M.a)(this,["handleAction","renderBlockWrapper"])}},"AppView");x.displayName="AppView";const U=o(re=>({dispatchSendActions:z=>re(Object(p.b)(z))}),"mapDispatchToProps");x.propTypes=A,x.defaultProps=ee;var G=m.a=Object(b.a)(null,U)(x)},L99M:function(k,m,e){"use strict";e.d(m,"a",function(){return n});const n={LATEST_REPLY:"latest_reply",ARCHIVED:"archived",UNREAD:"unread"}},LR2U:function(k,m,e){"use strict";e.r(m);var n=e("q1tI"),t=e.n(n),u=e("/MKj"),f=e("nNoG"),i=e("zxER"),c=e("uVZW"),b=e("03PU"),M=e("JoR1"),d=e("xtxb"),g=e.n(d),_=e("eWGC"),p=e("ktUG"),l=e("1z69"),C=e("aHgF"),R=e("Jq9w"),L=e("P7By"),A=e("N0zA"),ee=e("W1Ru");const x=new f.b("usecase_onboarding"),U={eventId:p.EventId.NEWXP_TEAM_CREATE,elementName:c.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK,elementType:p.ElementType.COACHMARK,onClick:{enableClogAction:!0},megaphoneSpaceName:c.g.WELCOME_SPACE,megaphoneNotificationName:c.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK,clogImpression:!0},G=o(re=>{let{children:z}=re;const v=Object(u.useDispatch)(),j=Object(i.c)(Pe=>!!Object(M.u)(Pe,"a11y_animations")),I=Object(i.c)(C.c),B=l.b[c.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK],F=Object(n.useCallback)(()=>t.a.createElement(R.a,{currentStep:B,totalSteps:l.c}),[B]),S=Object(n.useCallback)(()=>e.e("gantry-v2-async-lottie-external-coachmark.json").then(e.t.bind(null,"OfTl",3)),[]),J=Object(n.useCallback)(()=>t.a.createElement("div",{className:"p-usecase_onboarding_coachmark_loading p-usecase_onboarding_coachmark_loading__external"}),[]),se=Object(n.useMemo)(()=>j?t.a.createElement(L.a,{getAnimationImport:S,autoplay:!0,loop:!0,svgClassName:"p-usecase_onboarding_coachmark_lottie",renderLoading:J}):t.a.createElement("img",{alt:"","aria-hidden":!0,src:g.a,className:"p-usecase_onboarding_coachmark_gif"}),[S,j,J]);Object(n.useEffect)(()=>{v(Object(_.a)({notificationName:c.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK,action:c.f.IMPRESSION}))},[v]);const{isOpen:W,closeCoachmark:Y,renderCoachmark:ve}=Object(A.a)(c.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK,c.g.WELCOME_SPACE),de=Object(n.useCallback)(()=>Y(!0),[Y]);if(!W)return null;const _e=ve({arrowPosition:30,hero:se,title:I?x.t("Keep track of your external connections"):"",bodyText:I?x.rt("To learn more about working in Slack with people from other companies, head to the External tab. <steps></steps>",{"<steps>":F}):"",closeCoachmark:de,onClickPrimaryButton:de,className:"p-usecase_onboarding_coachmark p-usecase_onboarding_coachmark__external",primaryCallToActionText:I?x.t("Done"):"",ariaLabel:I?x.t("To learn more about working in Slack with people from other companies, head to the External tab. {currentStep} of {totalSteps}",{currentStep:B,totalSteps:l.c}):"",autoClogProps:U,width:l.a,offsetX:-10,offsetY:100,closeBackgroundStyle:"dark"});return t.a.createElement(b.b,{coachmarkElement:_e,orientation:"right"},z)},"UsecaseOnboardingExternalCoachmark");G.displayName="UsecaseOnboardingExternalCoachmark",m.default=G},Mp1l:function(k,m,e){k.exports=e.p+"nfx-welcome-modal-zh-CN-77f3f96.gif"},QKxg:function(k,m,e){"use strict";var n=e("mLC8"),t=e("q1tI"),u=e.n(t),f=e("zxER"),i=e("GlHf"),c=e("1ufr");function b(M){let{label:d,id:g,visible:_,upToDate:p,remove:l,viewName:C,requiredSync:R,window:L}=M;const A=Object(f.c)(i.j),ee=Object(t.useRef)(A||-1),x=!!n.d.get({label:d,id:g});return Object(t.useEffect)(()=>{const U=o(G=>{x&&(G.type==="blur"?n.d.remove({label:d,id:g,reason:"refocused"}):G.type==="offline"&&n.d.remove({label:d,id:g,reason:"not_online"}))},"cancel");return L.addEventListener("offline",U),L.addEventListener("blur",U),()=>{L.removeEventListener("offline",U),L.removeEventListener("blur",U)}},[d,g,x]),x&&A!==ee.current&&n.d.remove({label:d,id:g,reason:"refocused"}),ee.current=A||-1,Object(t.useEffect)(()=>{x&&(C&&n.d.addTags({label:d,id:g,tags:{view_name:C}}),R&&n.d.addTags({label:d,id:g,tags:{required_sync:!0}}))},[g,d,x,C,R]),Object(t.useEffect)(()=>{!l||!x||n.d.remove({label:d,id:g,reason:"manual"})},[l,x,d,g]),Object(t.useEffect)(()=>{!_||!x||(L.document.hasFocus()?n.d.markPhase({label:d,id:g,phase:n.b.Visible}):n.d.remove({label:d,id:g,reason:"refocused"}))},[_,x,d,g]),Object(t.useEffect)(()=>{!p||!x||(L.document.hasFocus()?n.d.markPhase({label:d,id:g,phase:n.b.UpToDate}):n.d.remove({label:d,id:g,reason:"refocused"}))},[p,x,d,g]),null}o(b,"TraceView"),m.a=Object(c.a)(b)},R2CY:function(k,m,e){k.exports=e.p+"nfx-welcome-modal-es-ES-90341f7.gif"},Rf5R:function(k,m,e){"use strict";e.d(m,"b",function(){return t}),e.d(m,"a",function(){return u});const n={},t=o(f=>{Object.assign(n,f)},"registerReducers"),u=o(()=>n,"getReducers")},S8Va:function(k,m,e){"use strict";e.d(m,"b",function(){return C}),e.d(m,"a",function(){return R});var n=e("oTSI"),t=e("zmn3"),u=e("Lgge"),f=e("uAML"),i=e("Kmpi"),c=e("lhZz"),b=e("0AcQ"),M=e("s4P+"),d=e("SQ0V"),g=e("gybj"),_=e("vfYG");const p=Object(d.c)("Bulk upsert views to store, with logging",(x,U,G)=>{const re=Object(M.a)({getState:U});G.forEach(z=>{re.debug("APP VIEWS",`bulkUpsertViews: upserting view "${z.id}"`),z.blocks&&Object(g.a)(x,U,z.blocks)}),x(Object(_.a)(G))});p.meta={name:"createThunk",key:"createThunkbulkUpsertViews",description:"Bulk upsert views to store, with logging"};var l=p;const C=Object(n.a)(()=>new i.a({fetch:L,upsertKnown:A,upsertNonExistent:A})),R=Object(n.a)(()=>new f.b({fetch:ee,isEnabled:()=>!0}));function L(x,U){return u.a.all(U.map(G=>Object(c.dispatchForTeamId)(x,Object(b.c)(G))))}o(L,"fetchViewsForTeamId");function A(x,U){R().markObjectsAsFresh(x,Object(t.a)(U,"id")),Object(c.dispatchForTeamId)(x,l(U))}o(A,"upsertViewsAndMarkAsFreshForTeamId");function ee(x,U){return L(x,U).then(G=>{A(x,G)})}o(ee,"fetchAndUpsertViewsForTeamId")},Sid4:function(k,m,e){"use strict";e.d(m,"a",function(){return U});var n=e("q1tI"),t=e.n(n),u=e("Cfcg"),f=e("ifKl"),i=e("BHdc"),c=e("ktUG"),b=e("nNoG"),M=e("WIr4"),d=e("Ei7s"),g=e("nFQW"),_=e("qDEp"),p=e("Tevt"),l=e("zEKE"),C=e("j/0O"),R=e("vDCl"),L=e("k7gI");function A(){return A=Object.assign||function(z){for(var v=1;v<arguments.length;v++){var j=arguments[v];for(var I in j)Object.prototype.hasOwnProperty.call(j,I)&&(z[I]=j[I])}return z},A.apply(this,arguments)}o(A,"_extends");const ee=new b.b("notification_banner"),x={elementType:c.ElementType.X,elementName:"close",action:c.UiAction.CLOSE,onClick:{enableClogAction:!0}};var U;(function(z){z.default="default",z.alert="alert"})(U||(U={}));let G=o(class extends n.PureComponent{focus(){var v,j,I;const B=((v=this.primaryCTAButtonRef)===null||v===void 0?void 0:v.current)||((j=this.secondaryCTARef)===null||j===void 0?void 0:j.current)||((I=this.closeButtonRef)===null||I===void 0?void 0:I.current);B==null||B.focus()}closeBanner(){const{onCloseBanner:v,notificationPrefs:j}=this.props;j&&this.props.closeBanner(j),v&&v()}handlePrimaryCTA(){const{onPrimaryCTAClick:v,closeOnPrimaryCTAClick:j}=this.props;j&&this.closeBanner(),v&&v()}handleSecondaryCTA(){const{onSecondaryCTAClick:v,closeOnSecondaryCTAClick:j}=this.props;j&&this.closeBanner(),v&&v()}handleCloseIcon(){const{onCloseIcon:v}=this.props;this.closeBanner(),v&&v()}renderBody(){const{bodyText:v,theme:j}=this.props;return t.a.createElement("div",{className:`p-message_pane_banner__body--${j}`,"data-qa":"message_pane_banner_body"},v)}renderSecondaryCTA(){const{secondaryCTAHref:v,secondaryCTAText:j,secondaryCTAClogProps:I,secondaryCTAUseLink:B,customSecondaryCTA:F,customSecondaryCTAProps:S}=this.props,J={onClick:this.handleSecondaryCTA,href:v,autoClogProps:{onClick:{enableClogAction:!0},...I},"data-qa":"message_pane_banner_secondaryCTA",ref:this.secondaryCTARef,...F?S:{}},se=F||_.f;return B?t.a.createElement(p.a,A({className:"p-message_pane_banner__link"},J),j):t.a.createElement(se,A({className:"p-message_pane_banner__button",size:"medium",type:"outline"},J),j)}renderCloseIcon(){return t.a.createElement(g.a,{icon:"times",onClick:this.handleCloseIcon,"aria-label":ee.t("Close"),className:"p-message_pane_banner__close_icon","data-qa":"message_pane_banner_close_icon",autoClogProps:x,ref:this.closeButtonRef})}renderPrimaryCTAButton(){const{primaryCTAText:v,primaryCTAHref:j,primaryCTAClogProps:I,customPrimaryCTA:B,customPrimaryCTAProps:F}=this.props,S={className:"p-message_pane_banner__button",onClick:this.handlePrimaryCTA,href:j,size:"medium","data-qa":"message_pane_banner_primaryCTA_button",autoClogProps:{isPrimaryCTA:!0,onClick:{enableClogAction:!0},...I},ref:this.primaryCTAButtonRef,...B?F:{}},J=B||_.f;return t.a.createElement(J,A({},S),v)}renderCTAButtons(){const{primaryCTAText:v,secondaryCTAText:j,theme:I}=this.props;return!v&&!j?null:t.a.createElement("div",{className:Object(i.default)("p-message_pane_banner__buttons",`p-message_pane_banner__buttons--${I}`)},v&&this.renderPrimaryCTAButton(),j&&this.renderSecondaryCTA())}renderIcon(){const{icon:v,iconType:j,theme:I}=this.props;return j?t.a.createElement("div",{className:"p-message_pane_banner__banner_icon"},t.a.createElement(C.a,{hasBorder:!0,type:j,theme:I})):v?t.a.createElement("div",{className:"p-message_pane_banner__banner_icon"},v):null}renderHeading(){const{headingText:v,theme:j}=this.props;return v?t.a.createElement("h1",{className:Object(i.default)("p-message_pane_banner__heading",`p-message_pane_banner__heading--${j}`),"data-qa":"message_pane_banner_heading_text"},v):null}renderBanner(){const{type:v,bannerAriaLabel:j,bannerContainerClass:I,iconType:B,theme:F,imgSrc:S,imgAlt:J}=this.props,se=Object(i.default)("p-message_pane_banner",`p-message_pane_banner--${v}`,`p-message_pane_banner--${F}`,I,{"p-message_pane_banner--ephemeral":v!==U.alert});return v===U.alert?t.a.createElement("div",{className:se},t.a.createElement(l.a,{size:R.a.SMALL,heading:this.renderHeading(),iconType:B,useRoundedCorners:!1,"data-qa":"message_pane_banner"},this.renderBody())):t.a.createElement("div",{className:se,"data-qa":"message_pane_banner",role:"banner","aria-label":j},this.renderIcon(),S?t.a.createElement("div",{className:"p-message_pane_banner__content_with_image"},t.a.createElement("div",{className:"p-message_pane_banner__content_with_image_text"},this.renderHeading(),this.renderBody(),this.renderCTAButtons()),t.a.createElement("div",{className:"display_flex"},this.renderCloseIcon(),t.a.createElement("img",{className:"p-message_pane_banner__image",src:S,alt:J}))):t.a.createElement("div",null,this.renderHeading(),this.renderBody(),this.renderCTAButtons(),this.renderCloseIcon()))}render(){return t.a.createElement("div",{className:"p-message_pane_banner__container"},this.renderBanner())}constructor(v){super(v),this.primaryCTAButtonRef=t.a.createRef(),this.secondaryCTARef=t.a.createRef(),this.closeButtonRef=t.a.createRef(),Object(M.a)(this,["focus","handlePrimaryCTA","handleSecondaryCTA","handleCloseIcon"])}},"MessagePaneBanner");G.displayName="MessagePaneBanner",G.defaultProps={type:U.default,onPrimaryCTAClick:f.a,closeOnPrimaryCTAClick:!0,onSecondaryCTAClick:f.a,closeOnSecondaryCTAClick:!0,secondaryCTAUseLink:!1,onCloseIcon:f.a,onCloseBanner:f.a,theme:R.b.PURPLE,imgAlt:""};const re=o(z=>({closeBanner:v=>z(Object(d.a)(v))}),"mapDispatchToProps");m.b=Object(u.a)(null,re)(G)},Skui:function(k,m,e){"use strict";e.d(m,"a",function(){return re});var n=e("9oTK"),t=e.n(n),u=e("q1tI"),f=e.n(u),i=e("/MKj"),c=e("+kJ4"),b=e("SQ0V"),M=e("nNoG"),d=e("3l96"),g=e("bdSe"),_=e("YUBf"),p=e("qDEp"),l=e("fNJk"),C=e("hUMe"),R=e("i454"),L=e("2VFn"),A=e("Zrm2"),ee=e("eG/v");function x(){return x=Object.assign||function(z){for(var v=1;v<arguments.length;v++){var j=arguments[v];for(var I in j)Object.prototype.hasOwnProperty.call(j,I)&&(z[I]=j[I])}return z},x.apply(this,arguments)}o(x,"_extends");const U=new M.b("slack_connect_hub"),G=o(z=>{let{id:v}=z;const j=Object(i.useDispatch)(),[I,B]=Object(u.useState)(!1),[F,S]=Object(u.useState)(null),J=Object(u.useCallback)(()=>j(Object(c.a)()),[j]),se=Object(u.useCallback)(Object(n.coroutine)(function*(){B(!0),S(null);try{yield j(Object(g.a)({reason:"channel_section_menu__leave_sc_workspace",externalTeamId:v})),j(Object(A.b)({tab:L.d.Home,reason:A.a.Click}))}catch(W){S({name:(W==null?void 0:W.name)||null,method:(W==null?void 0:W.method)||null})}B(!1)}),[j,v]);return f.a.createElement(_.b,{"data-qa":l.d.Modal},f.a.createElement(_.i,{"data-qa":l.d.Header},f.a.createElement(_.l,{title:U.t("Leave workspace"),"data-qa":l.d.TitleBar,className:"break_word"})),f.a.createElement(_.d,{className:"margin_0","data-qa":l.d.Content},f.a.createElement(_.e,null,F&&f.a.createElement(R.b,{error:F}),f.a.createElement("ul",{className:"p-slack_connect_workspace_confirmation_modal--content margin_0"},f.a.createElement("li",{className:"break_word"},U.rt("Are you sure you want to leave {workspace}?",{workspace:f.a.createElement(C.a,{id:v})}))))),f.a.createElement(_.g,{"data-qa":l.d.Footer},f.a.createElement(_.h,{"data-qa":l.d.FooterActions},f.a.createElement(_.c,{"data-qa":l.d.CloseButton,type:"outline",onClick:J},U.t("Cancel")),f.a.createElement(p.c,{type:"danger",loading:I,onClick:se,disabled:!!F},U.t("Leave Workspace")))))},"SharedWorkspaceLeaveConfirmationModal");G.displayName="SharedWorkspaceLeaveConfirmationModal";const re=Object(b.c)("Opens the Slack Connect Workspace Leave Confirmation Modal",(z,v,j)=>{z(Object(d.a)({element:f.a.createElement(G,x({},j)),isStackable:!1}))});re.meta={name:"createThunk",key:"createThunkopenSharedWorkspaceLeaveConfirmationModal",description:"Opens the Slack Connect Workspace Leave Confirmation Modal"}},SpyO:function(k,m,e){"use strict";e.d(m,"a",function(){return t}),e.d(m,"d",function(){return u}),e.d(m,"b",function(){return f}),e.d(m,"c",function(){return i});var n=e("ZKjC");const t=Object(n.b)(c=>c&&c.telemetry&&c.telemetry.shouldLogAppBootMetrics);t.meta={name:"createSelector",key:"createSelectorshouldLogAppBootMetrics",description:c=>c&&c.telemetry&&c.telemetry.shouldLogAppBootMetrics};const u=Object(n.b)(c=>c&&c.telemetry&&c.telemetry.shouldLogTeamSwitchMetrics);u.meta={name:"createSelector",key:"createSelectorshouldLogTeamSwitchMetrics",description:c=>c&&c.telemetry&&c.telemetry.shouldLogTeamSwitchMetrics};const f=Object(n.b)(c=>c&&c.telemetry&&c.telemetry.shouldLogTTUMetrics);f.meta={name:"createSelector",key:"createSelectorshouldLogTTUMetrics",description:c=>c&&c.telemetry&&c.telemetry.shouldLogTTUMetrics};const i=Object(n.b)(c=>c&&c.telemetry&&c.telemetry.shouldLogTTVMetrics);i.meta={name:"createSelector",key:"createSelectorshouldLogTTVMetrics",description:c=>c&&c.telemetry&&c.telemetry.shouldLogTTVMetrics}},Tb7l:function(k,m,e){k.exports=e.p+"nfx-welcome-modal-home-more-37251a0.gif"},TxyK:function(k,m,e){k.exports=e.p+"nfx-welcome-modal-zh-TW-f46d163.gif"},"UH+u":function(k,m,e){"use strict";e.d(m,"a",function(){return t});var n=e("ktUG");const t=o(u=>{let{clogger:f,fileId:i,open:c,filter:b}=u;f.track(n.EventId.QUIP_COMMENT_STREAM,{contexts:{ui_context:{isOpen:c,filter:b},core:{quip_file_id:i,file_id:i}}})},"clogToggleCommentStream")},UQe9:function(k,m,e){k.exports=e.p+"hand-holding-phone-74cfcd7.svg"},UYKR:function(k,m,e){"use strict";e.d(m,"b",function(){return b}),e.d(m,"a",function(){return M});var n=e("ZKjC"),t=e("FUEd"),u=e("g3FH"),f=e("i5Ig"),i=e("rdha");const c=Object(n.b)((d,g)=>d.quipPresence[g]);c.meta={name:"createSelector",key:"createSelectorgetLastPresenceByFileId",description:(d,g)=>d.quipPresence[g]};const b=Object(i.a)((d,g)=>{var _,p,l,C;const R=((_=d.quipPresence)===null||_===void 0||(p=_[g])===null||p===void 0?void 0:p.presenceInfo)||f.b;return(((l=d.quipPresence)===null||l===void 0||(C=l[g])===null||C===void 0?void 0:C.memberIds)||f.a).filter(ee=>{const x=R[ee];return x.isEditing||x.isFocused?!0:Object(t.c)(d,ee)===u.a})}),M=Object(n.b)((d,g,_)=>{var p,l,C;return!!(!((C=(p=d.quipPresence)===null||p===void 0||(l=p[_])===null||l===void 0?void 0:l.presenceInfo[g])===null||C===void 0)&&C.isEditing)});M.meta={name:"createSelector",key:"createSelectorgetIsPresentMemberEditingByFileId",description:(d,g,_)=>{var p,l,C;return!!(!((C=(p=d.quipPresence)===null||p===void 0||(l=p[_])===null||l===void 0?void 0:l.presenceInfo[g])===null||C===void 0)&&C.isEditing)}}},VOWE:function(k,m,e){k.exports=e.p+"apps_static-37fb02f.png"},W1Ru:function(k,m,e){"use strict"},WSvh:function(k,m,e){k.exports=e.p+"best-in-class-msg-limit-day-83-banner-illo-dark-ff0cad2.png"},"XDr/":function(k,m,e){"use strict";e.r(m);var n=e("q1tI"),t=e.n(n),u=e("zxER"),f=e("/MKj"),i=e("nNoG"),c=e("ktUG"),b=e("AKIH"),M=e("E3dU"),d=e("dlm8"),g=e("j7fZ"),_=e("Trx9"),p=e("y/Pn"),l=e("FdVR"),C=e("G0eX"),R=e("beVI"),L=e("Sid4"),A=e("130k"),ee=e("uVZW"),x=e("qDEp"),U=e("/0Xg"),G=e("xeGy"),re=e("9L5H"),z=e("ZobM"),v=e("7Cdh"),j=e.n(v),I=e("gJbv");function B(){return B=Object.assign||function(ne){for(var Z=1;Z<arguments.length;Z++){var te=arguments[Z];for(var $ in te)Object.prototype.hasOwnProperty.call(te,$)&&(ne[$]=te[$])}return ne},B.apply(this,arguments)}o(B,"_extends");const F=new i.b("guided_trials"),S={elementName:"guided_trials_sc_banner_upgrade_options"},J={elementName:"guided_trials_sc_banner_upgrade_now"},se={elementName:"guided_trials_sc_banner_compare_plan"},W=o(ne=>{let{children:Z,refToForward:te,...$}=ne;return t.a.createElement(x.d,B({ref:te},$,{className:"p-guided_trial_shared_channel_banner__secondary_cta_wrapper"}),t.a.createElement("div",{className:"p-guided_trial_shared_channel_banner__secondary_cta"},t.a.createElement(z.a,{name:"help"}),Z))},"SecondaryCtaBase"),Y=t.a.forwardRef((ne,Z)=>t.a.createElement(W,B({},ne,{refToForward:Z}))),ve=o(ne=>{let{children:Z,canUserPurchase:te,refToForward:$,...ye}=ne;return t.a.createElement(x.f,B({ref:$,type:te?re.b.primary:re.b.outline},ye),Z)},"PrimaryCtaBase"),de=t.a.forwardRef((ne,Z)=>t.a.createElement(ve,B({},ne,{refToForward:Z}))),_e=o(ne=>{let{channelId:Z,trialEndDate:te,canUserPurchase:$}=ne;const ye=Object(f.useDispatch)(),ge=Object(u.c)(Nt=>Object(M.d)(Nt,Z)),je=Object(u.c)(Nt=>Object(l.a)(Nt,ge)),pe=Object(u.c)(Nt=>je.length===1?Object(R.s)(Nt,je[0]):null),Ve=je.length,Fe=Object(p.a)(ge);let Le="";pe&&!Object(C.V)(pe)&&(Le=Object(C.z)(pe)?Object(C.l)(pe):Object(C.h)(pe));const He=Object(u.c)(Nt=>Object(d.b)(Nt,Z)),Re=Object(u.c)(I.c),ht=Re===I.a.TREATMENT_1,yt=Re===I.a.TREATMENT_2,gt=Object(u.c)(Nt=>Object(U.z)(Nt,{action:U.t.CHECKOUT,productLevel:U.k.standard.id,entryPoint:"guided_trials_shared_channel_banner"})),pt=Object(U.w)({entryPoint:"guided_trials_shared_channel_banner",feature:U.j.GUESTS_SHARED_CHANNELS}),mt=o(()=>{const Nt=Object(b.a)(te);return Le?ht||yt?F.rt("If you chose not to upgrade by <b>{trialFormattedEndDate}</b>, you will no longer be able to collaborate with {externalTeamMemberCount} {externalTeamMemberCount, plural, =1 {person} other {people}} from <b>{orgTeamName}</b> in this channel.",{orgTeamName:Le,externalTeamMemberCount:He,trialFormattedEndDate:Nt}):"":ht||yt?F.rt("If you chose not to upgrade by <b>{trialFormattedEndDate}</b>, you will no longer be able to collaborate with <b>{connectedTeamsCount, plural, =1 {# other organization} other {# other organizations}}</b> in this channel.",{connectedTeamsCount:Ve,trialFormattedEndDate:Nt}):""},"getCountdownBannerText"),Dt=Object(n.useCallback)(()=>{ye(Object(A.a)({canUserPurchase:$}))},[ye,$]),Pt=Object(n.useMemo)(()=>Fe&&!Object(g.a)(ge)&&Ve>0,[ge,Fe,Ve]),Ot=Object(n.useMemo)(()=>({notification:ee.h.SUPPORT_UPGRADE_DECISION_SHARED_CHANNEL_BANNER,channelId:Z}),[Z]),Kt=Object(n.useMemo)(()=>({canUserPurchase:$}),[$]);if(!Pt)return null;const ea=o(()=>t.a.createElement("div",{className:"p-guided_trial_shared_channel_banner__header"},ht||yt?F.t("Channels with external organizations are disconnecting soon"):"",t.a.createElement(G.a,{uiComponentVariant:c.UiComponentVariant.GUIDED_TRIALS_SHARED_CHANNEL_BANNER})),"renderHeaderText");return ea.displayName="renderHeaderText",t.a.createElement(_.a,{clogImpression:!0,uiComponentName:c.UiComponentName.GUIDED_TRIAL_SHARED_CHANNEL_BANNER},t.a.createElement(L.b,{headingText:ea(),bodyText:mt(),primaryCTAText:$?F.t("Upgrade Now"):F.t("See Upgrade Options"),bannerContainerClass:"p-guided_trial_shared_channel_banner__container",imgSrc:j.a,notificationPrefs:Ot,closeOnSecondaryCTAClick:!1,closeOnPrimaryCTAClick:!1,primaryCTAHref:$?gt:pt,customPrimaryCTA:de,customPrimaryCTAProps:Kt,primaryCTAClogProps:$?J:S,customSecondaryCTA:Y,secondaryCTAText:F.t("Compare free vs. paid plan"),onSecondaryCTAClick:Dt,secondaryCTAClogProps:se}))},"GuidedTrialSharedChannelBanner");_e.displayName="GuidedTrialSharedChannelBanner";var Pe=m.default=_e},Y40X:function(k,m,e){"use strict";e.r(m),e.d(m,"localeToGifMap",function(){return vt});var n=e("q1tI"),t=e.n(n),u=e("/MKj"),f=e("fMmd"),i=e("SQ0V"),c=e("uiBO"),b=e("I0j/"),M=e("37+L"),d=e("lhZz"),g=e("E3dU"),_=e("mHfD"),p=e("beVI"),l=e("2VFn"),C=e("v7mh"),R=e("Zrm2"),L=e("ovW4"),A=e("E97Y"),ee=e("3vtZ"),x=e("G0eX"),U=e("Rf5R"),G=e("9L28");Object(U.b)({channels:G.b});const re=Object(i.c)("Navigate to a channel that supports Huddles",(Je,ft)=>{const nt=ft(),jt=Object(C.g)(nt,{container:l.i.Primary,tab:l.d.Home});if((jt==null?void 0:jt.viewType)===c.b.Channel){const w=Object(g.d)(nt,jt.id);if(Je(Object(R.b)({tab:l.d.Home,reason:R.a.Click})),Object(ee.e)(nt,w))return Je(Object(b.a)(Object(M.k)(jt.id)))}const Bt=Object(p.g)(nt),Ee=Object(x.n)(Bt),Ge=Object(d.getStateForClientStore)(),Oe=Object(f.a)(Ge).find(w=>{if(!w||!Object(L.a)(w)||w.teamId!==Ee)return!1;const ue=w[l.a],xe=w[ue][l.i.Primary];if((xe==null?void 0:xe.viewType)!==c.b.Channel)return!1;const Ke=Object(g.d)(nt,xe.id);return Object(ee.e)(nt,Ke)});if(Oe){Je(Object(R.b)({tab:l.d.Home,reason:R.a.Click}));const w=Oe[l.a],ue=Oe[w][l.i.Primary],xe=Object(g.d)(nt,ue==null?void 0:ue.id);return Je(Object(b.a)(Object(M.k)(xe.id)))}const X=Je(Object(_.a)());if(X&&Object(ee.e)(nt,X))return Je(Object(R.b)({tab:l.d.Home,reason:R.a.Click})),Je(Object(b.a)(Object(M.k)(X.id)));const V=Object.values(nt.channels).find(w=>Object(A.g)(w)&&Object(ee.e)(nt,w));return V?(Je(Object(R.b)({tab:l.d.Home,reason:R.a.Click})),Je(Object(b.a)(Object(M.k)(V.id)))):Je(Object(R.b)({tab:l.d.Home,reason:R.a.Click}))});re.meta={name:"createThunk",key:"createThunknavigateToChannelWithHuddle",description:"Navigate to a channel that supports Huddles"};var z=e("Tb7l"),v=e.n(z),j=e("gHTj"),I=e.n(j),B=e("IYUO"),F=e.n(B),S=e("o9mU"),J=e.n(S),se=e("R2CY"),W=e.n(se),Y=e("u0IL"),ve=e.n(Y),de=e("nMOw"),_e=e.n(de),Pe=e("c9G7"),ne=e.n(Pe),Z=e("i9fg"),te=e.n(Z),$=e("+l1W"),ye=e.n($),ge=e("17wV"),je=e.n(ge),pe=e("JEWL"),Ve=e.n(pe),Fe=e("Mp1l"),Le=e.n(Fe),He=e("TxyK"),Re=e.n(He),ht=e("6I59"),yt=e.n(ht),gt=e("hHWo"),pt=e.n(gt),mt=e("Dfh+"),Dt=e("zxER"),Pt=e("JoR1"),Ot=e("4YJR"),Kt=e("sLRC"),ea=e("uVZW"),Nt=e("7+Lm"),na=e("qDEp"),sa=e("YUBf"),ma=e("nNoG"),ua=e("Trx9"),ra=e("ktUG"),bt=e("q0lC"),Ct=e("rZ8V"),Ga=e("usGY");const oa=new ma.b("ia4"),ia={elementName:"explore_on_my_own",onClick:{enableClogAction:!0}},dt={elementName:"see_whats_new",onClick:{enableClogAction:!0}},vt={"en-US":I.a,"en-GB":F.a,"en-IN":J.a,"es-ES":W.a,"es-LA":ve.a,"de-DE":_e.a,"fr-FR":ne.a,"it-IT":te.a,"ko-KR":ye.a,"ja-JP":je.a,"pt-BR":Ve.a,"zh-CN":Le.a,"zh-TW":Re.a};function kt(){const Je=Object(u.useDispatch)(),ft=Object(Dt.c)(Rt=>!!Object(Pt.u)(Rt,"a11y_animations")),{intro:nt}=Object(Dt.c)(Rt=>Object(Nt.b)(Rt,ea.g.WELCOME_SPACE)),jt=nt===Kt.b.IntroModalHomeMore,Bt=jt?Kt.b.IntroModalHomeMore:Kt.b.IntroModal,{closure:Ee,isOpen:Ge,nextStep:Oe}=Object(mt.a)(Bt),X=Object(Dt.c)(bt.b),V=Object(Dt.c)(Ct.q);Object(n.useEffect)(()=>{nt&&Je(Object(Ot.i)(Bt))},[Je,nt,Bt]);const w=Object(n.useCallback)(()=>{Je(Object(Ot.w)(!0)),Je(Object(Ot.i)(Ee))},[Ee,Je]),ue=Object(n.useCallback)(()=>{Je(re()),setTimeout(()=>Je(Object(Ot.i)(Oe)))},[Je,Oe]);if(!nt)return null;const xe=X&&V?oa.t("Your chance to try the new Slack design"):oa.t("A fresh, more focused Slack!");var Ke;const Ye=jt?v.a:(Ke=vt[Object(ma.m)()])!==null&&Ke!==void 0?Ke:I.a,it=jt?pt.a:yt.a;return t.a.createElement(ua.a,{eventId:ra.EventId.NEWXP_JOIN_TEAM,uiStep:jt?ra.UiStep.NFX_WELCOME_MODAL_HOME_MORE:ra.UiStep.NFX_WELCOME_MODAL,elementType:ra.ElementType.MODAL,clogImpression:!0},t.a.createElement(sa.b,{className:"p-nfx_welcome_modal",isOpen:Ge,contentLabel:xe,onClose:w,maxWidth:600},t.a.createElement(sa.d,null,t.a.createElement(sa.j,{"aria-hidden":!0,height:338,width:600,alt:"",src:ft?Ye:it}),t.a.createElement("h1",{className:"p-nfx_welcome_modal__title"},xe),t.a.createElement(sa.e,{className:"p-nfx_welcome_modal__description"},X&&V?oa.t("Only you and other Org Owners and Org Admins have the new design. Check your email for more info about the rollout to the rest of your organization."):oa.t("We\u2019ve moved things around to make it easier to get work done."))),t.a.createElement(sa.g,{className:"justify_content_center"},t.a.createElement(sa.h,{className:"margin_left_0"},t.a.createElement(na.f,{onClick:w,type:"outline",autoClogProps:ia},oa.t("I\u2019ll Explore on My Own")),t.a.createElement(na.f,{onClick:ue,autoClogProps:dt},oa.t("See What\u2019s New"))))))}o(kt,"NFXWelcomeModal"),kt.displayName="NFXWelcomeModal";var ta=m.default=Object(n.memo)(kt)},YCgu:function(k,m,e){"use strict";var n=e("Ao/4"),t=e("rZ8V"),u=e("i9jZ"),f=e("v7mh"),i=e("2VFn"),c=e("bczA");const b=o(function(M){let{windowId:d=i.c,container:g=i.i.Primary}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object(u.a)(M)&&d!==i.c||Object(t.n)(M)){var _,p;if(d===i.c){var l,C;return(l=Object(f.g)(M,{tab:Object(f.a)(M),container:g}))===null||l===void 0||(C=l.params)===null||C===void 0?void 0:C.tabId}return(_=Object(f.d)(M,{windowId:d,container:g}))===null||_===void 0||(p=_.params)===null||p===void 0?void 0:p.tabId}const R=c.b===null||c.b===void 0?void 0:Object(c.b)(M);if(!R)return;const L=R.entityId,A=R.tabId;if(L&&A&&Object(n.a)(M,A,L))return R&&R.tabId},"getTab");m.a=b},ZJyv:function(k,m,e){"use strict";e.d(m,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("upsert app team context to the store");t.meta={name:"createAction",key:"createActionupsertAppHomeContextTeam",description:"upsert app team context to the store"}},Zi3E:function(k,m,e){"use strict";e.r(m),e.d(m,"BaseJustReachedMsgLimitBanner",function(){return S});var n=e("Cfcg"),t=e("q1tI"),u=e.n(t),f=e("ifKl"),i=e("ktUG"),c=e("nNoG"),b=e("/0Xg"),M=e("Trx9"),d=e("ZwkN"),g=e.n(d),_=e("v4p4"),p=e.n(_),l=e("InNx"),C=e("zxER"),R=e("gJbv");const L=new c.b("trials_highlight_paid_features"),A=o(Y=>{let{isEligibleForMessageLimitTrial:ve,notificationName:de,onTrialStart:_e,showUpgradeOptions:Pe}=Y;const ne=Object(C.c)($=>Object(R.b)($,ve));let Z;const te=L.t("Unlock your team\u2019s entire message and file history");return ve?Z=L.t("Start a free, {trialDuration}-day trial for unlimited access to past decisions and discussions. On the free version of Slack, messages and files older than {limitInDays} days are hidden.",{trialDuration:ne,limitInDays:b.h}):Pe?Z=L.t("On the free version of Slack, messages and files older than {limitInDays} days are hidden. Upgrade to a paid plan for unlimited access to past decisions and discussions.",{limitInDays:b.h,fallbackHash:"d57732265713540d48fdafb4a00fe5fa64ce6cdd"}):Z=L.t("Upgrade to a paid plan for unlimited access to past decisions and discussions.",{fallbackHash:"d57732265713540d48fdafb4a00fe5fa64ce6cdd"}),u.a.createElement(l.a,{bodyText:Z,headingText:te,isEligibleForMessageLimitTrial:ve,imgDark:p.a,imgLight:g.a,notificationName:de,onTrialStart:_e,showUpgradeOptions:Pe,uiStep:i.UiStep.LIMITED_HISTORY_JUST_REACHED_LIMIT})},"JustReachedMsgLimitBannerV2");A.displayName="JustReachedMsgLimitBannerV2";var ee=u.a.memo(A),x=e("GR6R"),U=e("Sid4"),G=e("d/xU"),re=e("uVZW");const z=new c.b("trials_highlight_paid_features"),v={elementName:"learn_more"},j={elementName:"trial_start"},I={elementName:"pricing"},B={elementName:"learn_more"},F={notification:re.h.MESSAGE_LIMIT_JUST_REACHED};let S=o(class extends t.PureComponent{render(){const{isEligibleForMessageLimitTrial:ve,showUpgradeOptions:de,onTrialStart:_e,openTrialModal:Pe,experimentBestInClassTrialsMessageLimitTrialGroupTreatment:ne,trialDuration:Z,notificationName:te}=this.props,$=`https://${Object(G.n)()}/help/articles/115002422943#message-and-file-visibility-limit`,ye=z.t("Messages and files older than {limitInDays} days are hidden",{limitInDays:b.h});let ge,je,pe,Ve,Fe,Le;return ne?u.a.createElement(ee,{isEligibleForMessageLimitTrial:ve,notificationName:te,onTrialStart:_e,showUpgradeOptions:de}):(ve?(ge=i.UiComponentVariant.TRIAL_ELIGIBLE,je=z.t("Start a free, {trialDuration}-day trial to unlock your team\u2019s full message and file history, plus get all the premium features of the Pro plan.",{trialDuration:Z}),pe=z.t("Start Free Trial"),Ve=j,Le=Pe):de?(ge=i.UiComponentVariant.TRIAL_INELIGIBLE,je=z.t("On the free version of Slack, you can only access messages and files sent in the past {limitInDays} days. Upgrade to a paid plan to keep access to your team\u2019s full history.",{limitInDays:b.h}),pe=z.t("See Upgrade Options"),Ve=I,Fe=this.plansPageUrl,Le=f.a):(ge=i.UiComponentVariant.USER_NON_ADMIN,je=z.t("On the free version of Slack, you can only access messages and files sent in the past {limitInDays} days.",{limitInDays:b.h}),pe=z.t("Learn More"),Ve=B,Fe=$,Le=f.a),u.a.createElement(M.a,{clogImpression:!0,eventId:i.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:i.UiComponentName.JUST_REACHED_MSG_LIMIT_BANNER,uiComponentVariant:ge},u.a.createElement(U.b,{headingText:ye,bodyText:je,primaryCTAText:pe,primaryCTAHref:Fe,primaryCTAClogProps:Ve,onPrimaryCTAClick:Le,secondaryCTAText:de||ve?z.t("Learn More"):void 0,secondaryCTAHref:$,closeOnSecondaryCTAClick:!1,secondaryCTAClogProps:v,notificationPrefs:F})))}constructor(ve){super(ve),this.plansPageUrl=Object(b.w)({feature:b.j.UNLIMITED_MESSAGES})}},"JustReachedMsgLimitBanner");S.displayName="JustReachedMsgLimitBanner";const J=o(Y=>({openTrialModal:()=>Y(Object(x.a)({uiComponentVariant:i.UiComponentVariant.JUST_REACHED_MSG_FILE_LIMIT_DATE}))}),"mapDispatchToProps"),se=o((Y,ve)=>({experimentBestInClassTrialsMessageLimitTrialGroupTreatment:Object(R.d)(Y),trialDuration:Object(R.b)(Y,ve.isEligibleForMessageLimitTrial)}),"mapStateToProps");var W=m.default=Object(n.a)(se,J)(S)},ZwkN:function(k,m,e){k.exports=e.p+"best-in-class-msg-limit-just-reached-banner-illo-light-9df179b.png"},a5bm:function(k,m,e){"use strict";e.d(m,"a",function(){return t});var n=e("RQuH");function t(u,f){if(!u||!f)return null;for(let i=0;i<f.length;i++)if(Object(n.a)(u,f[i].min,f[i].max+1))return f[i].className;return null}o(t,"getModifierClassForLayout")},aMUS:function(k,m,e){k.exports=e.p+"huddles_static-1438e50.png"},aTkP:function(k,m,e){"use strict";e.d(m,"a",function(){return d});var n=e("9oTK"),t=e.n(n),u=e("m8R6"),f=e("2XU3"),i=e("WCk1"),c=e("s4P+"),b=e("pjW8");const M={ChannelNotFound:"channel_not_found"},d=Object(i.a)("recordChannels.open generated fetcher",function(){var g=Object(n.coroutine)(function*(_,p,l){try{const C=["reason"],R=Object(u.a)(l,C),L=Object(b.b)(R);return yield _(Object(f.apiCall)({method:"recordChannels.open",args:L,reason:l.reason}))}catch(C){throw Object(c.a)({getState:p}).error(`API call to recordChannels.open
				with reason ${l.reason} failed, initiated by generated fetcher`),C}});return function(_,p,l){return g.apply(this,arguments)}}());d.meta={name:"createFetcher",key:"createFetcherrecordChannelsOpenFetcher",description:"recordChannels.open generated fetcher"}},bdSe:function(k,m,e){"use strict";e.d(m,"a",function(){return d});var n=e("9oTK"),t=e.n(n),u=e("m8R6"),f=e("2XU3"),i=e("WCk1"),c=e("s4P+"),b=e("pjW8");const M={FeatureNotEnabled:"feature_not_enabled",Ratelimited:"ratelimited",TeamNotFound:"team_not_found",UserNotAMember:"user_not_a_member",UserNotFound:"user_not_found",UserNotEnabled:"user_not_enabled",WorkspaceNotEnabled:"workspace_not_enabled",WorkspaceNotFound:"workspace_not_found"},d=Object(i.a)("externalWorkspaces.leave generated fetcher",function(){var g=Object(n.coroutine)(function*(_,p,l){try{const C=["reason"],R=Object(u.a)(l,C),L=Object(b.b)(R);return yield _(Object(f.apiCall)({method:"externalWorkspaces.leave",args:L,reason:l.reason}))}catch(C){throw Object(c.a)({getState:p}).error(`API call to externalWorkspaces.leave
				with reason ${l.reason} failed, initiated by generated fetcher`),C}});return function(_,p,l){return g.apply(this,arguments)}}());d.meta={name:"createFetcher",key:"createFetcherexternalWorkspacesLeaveFetcher",description:"externalWorkspaces.leave generated fetcher"}},c9G7:function(k,m,e){k.exports=e.p+"nfx-welcome-modal-fr-FR-d1c0633.gif"},cuvd:function(k,m,e){"use strict";e.r(m),e.d(m,"BaseSharedChannelTrialBanner",function(){return v});var n=e("q1tI"),t=e.n(n),u=e("wd/R"),f=e.n(u),i=e("zxER"),c=e("nNoG"),b=e("ktUG"),M=e("AKIH"),d=e("E3dU"),g=e("j7fZ"),_=e("GkJf"),p=e("Trx9"),l=e("/cL/"),C=e("y/Pn"),R=e("FdVR"),L=e("G0eX"),A=e("beVI"),ee=e("/0Xg"),x=e("Sid4");function U(){return U=Object.assign||function(I){for(var B=1;B<arguments.length;B++){var F=arguments[B];for(var S in F)Object.prototype.hasOwnProperty.call(F,S)&&(I[S]=F[S])}return I},U.apply(this,arguments)}o(U,"_extends");const G=new c.b("trial_expiration_banners"),re={isPrimaryCTA:!0,elementName:"upgrade",onClick:{enableClogAction:!0}},z={elementName:"learn_more",onClick:{enableClogAction:!0}},v=o(I=>{let{channelId:B="",connectedTeamName:F,connectedTeamsCount:S,excludeChannelIds:J=[],expirationTs:se,isSharedChannel:W,isExternalImChannel:Y,productId:ve=""}=I;const de=o(()=>{const te=f()(se*1e3).format("YYYY-MM-DD");return Object(M.b)(te)},"getNumDaysLeft"),_e=o(te=>{let{text:$}=te;return t.a.createElement(l.a,{"data-qa":"shared_channel_persistent_banner_upgrade_link",autoClogProps:re,useLink:!0,action:ee.t.CHECKOUT,productId:ve},$)},"renderPlansPageCTA"),Pe=o(te=>{let{text:$}=te;return t.a.createElement(_.a,{articleId:360059473613,"data-qa":"shared_channel_persistent_banner_learn_more_link",autoClogProps:z},$)},"renderLearnMoreLink"),ne=o(()=>{const te=de();return F?G.rt("<strong>{numDaysLeft, plural, =1 {# day} other {# days}} left in your trial</strong> \u2014 <strong><upgradeLink>Upgrade</upgradeLink></strong> to keep working with {orgTeamName} in this channel. <learnMoreLink>Learn more</learnMoreLink>",{fallbackHash:"56d58bd38ab87b4c4b2604a11a8dc09712d8b751",numDaysLeft:te,connectedTeamsCount:S,orgTeamName:F,"<upgradeLink>":_e,"<learnMoreLink>":Pe}):G.rt("<strong>{numDaysLeft, plural, =1 {# day} other {# days}} left in your trial</strong> \u2014 <strong><upgradeLink>Upgrade</upgradeLink></strong> to keep working with {connectedTeamsCount, plural, =1 {# other organization} other {# other organizations}} in this channel. <learnMoreLink>Learn more</learnMoreLink>",{fallbackHash:"56d58bd38ab87b4c4b2604a11a8dc09712d8b751",numDaysLeft:te,connectedTeamsCount:S,orgTeamName:F,"<upgradeLink>":_e,"<learnMoreLink>":Pe})},"getCountdownBannerText");return o(()=>W&&!Y&&S>0&&de()<=30&&(J==null?void 0:J.indexOf(B||""))===-1,"shouldShowBanner")()?t.a.createElement(p.a,{clogImpression:!0,eventId:b.EventId.UPGRDEXP_TRIAL,uiComponentName:b.UiComponentName.SHARED_CHANNEL_TRIAL_BANNER,uiComponentVariant:"persistent_countdown"},t.a.createElement(x.b,{type:x.a.alert,bodyText:ne(),iconType:"hourglass"})):null},"SharedChannelTrialBanner");v.displayName="SharedChannelTrialBanner";const j=o(I=>{const B=Object(i.c)(W=>Object(d.d)(W,I.channelId)),F=Object(i.c)(W=>Object(R.a)(W,B)),S=Object(i.c)(W=>F.length===1?Object(A.s)(W,F[0]):null),J=Object(C.a)(B);let se="";return S&&!Object(L.V)(S)&&(se=Object(L.z)(S)?Object(L.l)(S):Object(L.h)(S)),t.a.createElement(v,U({},I,{connectedTeamName:se,connectedTeamsCount:F.length,isExternalImChannel:Object(g.a)(B),isSharedChannel:J}))},"ConnectedSharedChannelTrialBanner");j.displayName="ConnectedSharedChannelTrialBanner",m.default=j},dELU:function(k,m,e){"use strict";e.r(m),e.d(m,"BaseEducationDiscountPromoBanner",function(){return A});var n=e("q1tI"),t=e.n(n),u=e("zxER"),f=e("vfQU"),i=e("nNoG"),c=e("d/xU"),b=e("ktUG"),M=e("beVI"),d=e("G0eX"),g=e("uVZW"),_=e("Trx9"),p=e("Sid4");const l=new i.b("notification_banner"),C={elementName:"apply_now"},R={elementName:"learn_more"},L={notification:g.h.EDUCATION_TEAM_DISCOUNT},A=o(x=>{let{goToEducationPage:U}=x;const G=l.t("See if you qualify for an 85% discount on a paid plan"),re=l.t("The Slack for Education program offers qualifying teams a discount on paid plans. Once you upgrade, your team will get an unlimited message archive, guest accounts for your workspace, and more."),z=`https://${Object(c.n)()}/help/articles/206646877`;return t.a.createElement(_.a,{clogImpression:!0,eventId:b.EventId.UPGRDEXP_EDUCATION_DISCOUNT_PROMO_BANNER,uiComponentName:b.UiComponentName.EDUCATION_DISCOUNT_PROMO_BANNER},t.a.createElement(p.b,{headingText:G,bodyText:re,primaryCTAText:l.t("Apply Now"),secondaryCTAText:l.t("Learn More"),secondaryCTAHref:z,closeOnSecondaryCTAClick:!1,onPrimaryCTAClick:U,primaryCTAClogProps:C,secondaryCTAClogProps:R,notificationPrefs:L}))},"EducationDiscountPromoBanner");A.displayName="EducationDiscountPromoBanner";const ee=o(()=>{const x=Object(u.c)(M.g),U=Object(n.useCallback)(()=>{Object(d.Y)(x,"education")},[x]);return Object(f.db)()?null:t.a.createElement(A,{goToEducationPage:U})},"ConnectedEducationDiscountPromoBanner");ee.displayName="ConnectedEducationDiscountPromoBanner",m.default=ee},eIwF:function(k,m,e){k.exports=e.p+"trial-confirmation-2b10a44.png"},fX6G:function(k,m,e){k.exports=e.p+"trial-confirmation@2x-f828ebc.png"},gHTj:function(k,m,e){k.exports=e.p+"nfx-welcome-modal-en-US-1e6e411.gif"},h0BU:function(k,m,e){"use strict";e.d(m,"a",function(){return M});var n=e("9oTK"),t=e.n(n),u=e("SQ0V"),f=e("aTkP"),i=e("Fqb6"),c=e("cz6z"),b=e("UEGZ");const M=Object(u.c)("Open a record channel",function(){var d=Object(n.coroutine)(function*(g,_,p){let{channel:l,reason:C}=p;try{g(Object(b.a)({id:l.id,is_open:!0}));const R=yield g(Object(f.a)({channel:l.id,reason:C}));R.ok&&(g(Object(i.a)({channel:R.channel})),R.counts&&g(Object(c.a)({counts:[R.counts]})))}catch{g(Object(b.a)({id:l.id,is_open:!1}))}});return function(g,_,p){return d.apply(this,arguments)}}());M.meta={name:"createThunk",key:"createThunkopenRecordChannel",description:"Open a record channel"}},hHWo:function(k,m,e){k.exports=e.p+"nfx-welcome-home-more-modal-e34dee3.png"},hisJ:function(k,m,e){"use strict";e.d(m,"a",function(){return f}),e.d(m,"c",function(){return i}),e.d(m,"b",function(){return c}),e.d(m,"d",function(){return b});var n=e("ZKjC"),t=e("i5Ig"),u=e("L99M");const f=Object(n.b)((M,d)=>M.quipCommentStream[d]||t.b);f.meta={name:"createSelector",key:"createSelectorgetCommentStream",description:(M,d)=>M.quipCommentStream[d]||t.b};const i=Object(n.b)((M,d)=>{var g;return((g=M.quipCommentStream[d])===null||g===void 0?void 0:g.roots)||t.a});i.meta={name:"createSelector",key:"createSelectorgetCommentStreamRoots",description:(M,d)=>{var g;return((g=M.quipCommentStream[d])===null||g===void 0?void 0:g.roots)||t.a}};const c=Object(n.b)((M,d)=>{var g;return((g=M.quipCommentStream[d])===null||g===void 0?void 0:g.filter)||u.a.LATEST_REPLY});c.meta={name:"createSelector",key:"createSelectorgetCommentStreamFilter",description:(M,d)=>{var g;return((g=M.quipCommentStream[d])===null||g===void 0?void 0:g.filter)||u.a.LATEST_REPLY}};const b=Object(n.b)((M,d)=>M.quipCommentStream?Object.values(M.quipCommentStream).some(g=>g.fileId===d):!1);b.meta={name:"createSelector",key:"createSelectorisThisFileIdOpenInCommentStream",description:(M,d)=>M.quipCommentStream?Object.values(M.quipCommentStream).some(g=>g.fileId===d):!1}},hiuC:function(k,m,e){"use strict";e.d(m,"a",function(){return b}),e.d(m,"b",function(){return M});var n=e("ZKjC"),t=e("O86Y"),u=e("+ZQ6"),f=e("Z7Ay"),i=e("lhZz"),c=e("S8Va");const b=Object(n.b)(d=>d==null?void 0:d.appViews);b.meta={name:"createSelector",key:"createSelectorgetAppViewsState",description:d=>d==null?void 0:d.appViews};const M=Object(n.b)(function(d,g){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var p;const l=Object(t.g)(d),C=(p=b(d))===null||p===void 0?void 0:p[g];return C?(l&&Object(c.a)().maybeRefetch(l,g),C):_&&Object(u.a)(g)&&l?Object(c.b)().fetchObjectWithId(l,g):null});M.meta={name:"createSelector",key:"createSelectorgetViewById",description:function(d,g){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var p;const l=Object(t.g)(d),C=(p=b(d))===null||p===void 0?void 0:p[g];return C?(l&&Object(c.a)().maybeRefetch(l,g),C):_&&Object(u.a)(g)&&l?Object(c.b)().fetchObjectWithId(l,g):null}},Object(f.a)("getViewsForTeam",d=>b(Object(i.getStateByTeamId)(d)))},"i2Y+":function(k,m,e){"use strict";e.d(m,"a",function(){return f});var n=e("dWJ4"),t=e("beVI");const u=o((i,c)=>Object(n.a)(i,c),"canUserOpenCommunityAdminDashboard"),f=o((i,c)=>c?u(i,Object(t.s)(i,c)):!1,"canUserOpenCommunityAdminDashboardById")},i9fg:function(k,m,e){k.exports=e.p+"nfx-welcome-modal-it-IT-cb1f10d.gif"},iODX:function(k,m,e){"use strict";var n=e("q1tI"),t=e.n(n),u=e("/MKj"),f=e("BHdc"),i=e("zxER"),c=e("RVJP"),b=e("dmdh"),M=e("PhUj"),d=e("Kmpi"),g=e("O86Y"),_=e("6inW"),p=e("x6tY"),l=e("ZobM"),C=e("7ibc"),R=e("nNoG"),L=e("CnKg"),A=e("beVI"),ee=e("G0eX"),x=e("wKGu"),U=e("ktUG"),G=e("qDEp"),re=e("LaoO"),z=e("0Em0"),v=e("PXRY"),j=e("stkM"),I=e("/0Xg"),B=e("c+dP"),F=e("GiOu"),S=e("FXMY"),J=e("APfK"),se=e("EyGR"),W=e("2Wdf"),Y;(function(me){me[me.FIRST_TIME_REQUEST=0]="FIRST_TIME_REQUEST",me[me.SUBSEQUENT_REQUEST=1]="SUBSEQUENT_REQUEST",me[me.SENT_SUCCESS=2]="SENT_SUCCESS",me[me.SENT_ERROR=3]="SENT_ERROR"})(Y||(Y={}));function ve(me,N,fe){const he=Object(u.useDispatch)(),[Be,ze]=Object(n.useState)(!1),[We,qe]=Object(n.useState)(N?Y.SUBSEQUENT_REQUEST:Y.FIRST_TIME_REQUEST),Tt=Object(n.useRef)(),ot=Object(n.useCallback)(()=>{ze(!0),Tt.current||(Tt.current=he(Object(J.a)({fileId:me,reason:"IndicatorRequestEditAccessButton",requestType:"upgrade"})).then(()=>fe?he(Object(se.a)()):qe(Y.SENT_SUCCESS)).catch(()=>fe?he(Object(W.a)()):qe(Y.SENT_ERROR)).finally(()=>ze(!1)))},[he,me,fe]),Lt=Object(n.useCallback)(()=>{Tt.current&&(Tt.current.cancel(),Tt.current=void 0)},[]);return Object(n.useEffect)(()=>()=>{Lt()},[Lt]),{isLoading:Be,status:We,requestQuipAccess:ot}}o(ve,"useQuipAccess");var de=e("s9Q6"),_e=e("PAox"),Pe=e("daS4"),ne=e("E3dU"),Z=e("Yauy"),te=e("mzZe"),$=e("WAPM"),ye=e("Ccc1"),ge=e("I27i"),je=e("THtN"),pe=e("gpLM"),Ve=e("HKlo"),Fe=e("Tsh7"),Le=e("oJm6");function He(){return He=Object.assign||function(me){for(var N=1;N<arguments.length;N++){var fe=arguments[N];for(var he in fe)Object.prototype.hasOwnProperty.call(fe,he)&&(me[he]=fe[he])}return me},He.apply(this,arguments)}o(He,"_extends");const Re=new R.b("slack_docs");var yt=Object(n.forwardRef)((me,N)=>{let{fileId:fe,className:he}=me;const Be=Object(u.useDispatch)(),ze=!Object(i.c)(ge.d),We=Object(i.c)(St=>Object(c.d)(St,"canvas_freemium_m3_p2")==="on"),qe=Object(i.c)(St=>Object(b.e)(St,fe)),Tt=Object(i.c)(Pe.a),ot=!!qe.most_recent_access_request_ts,Lt=Object(f.default)("p-quip_title__access_indicator_button",he),O="dialog-title",T="dialog-description",{isLoading:y,status:Q,requestQuipAccess:le}=ve(fe,ot),{isChannelSpace:Ne,channelId:be,isChannelCanvasLocked:ie,editsRestrictedToChannelManager:Ce}=Object(z.a)({fileId:fe}),st=Object(i.c)(St=>Object(ne.d)(St,be)),et=Object(Z.db)(st),Et=Object(i.c)(St=>et&&be&&Object(te.b)(St,be)),ut=Object(i.c)(St=>Object(c.d)(St,"channel_manager_chanvas_ui")==="on"),tt=Object(i.c)(A.g),_t=Object(ee.H)(tt),It=I.q.PaidFeatureTrial,Jt=I.p.Canvas,wt=Object(i.c)(St=>_t&&Object(de.c)(St,It,Jt)),hn=Object(i.c)(St=>Object(S.a)(St,{file:qe}));Object(n.useEffect)(()=>{_t&&Be(Object(j.a)({campaignType:It,campaignSubType:Jt,reason:"canvas_view_only_button"}))},[Be,Jt,It,_t]);const ja=o(St=>t.a.createElement(G.c,{"data-qa":"quip-request-edit-access-button",type:"outline",className:"margin_top_75 margin_bottom_25",loading:y,onClick:le},St),"getButton"),Ba=o(()=>t.a.createElement("div",{role:"group"},t.a.createElement("strong",{id:O},Re.t("You only have permission to view.")),t.a.createElement("div",{id:T},Re.t("To make changes, ask the owner for edit access.")),hn?null:ja(Re.t("Request Edit Access"))),"renderFirstTimeRequestContent");Ba.displayName="renderFirstTimeRequestContent";const rn=o(()=>t.a.createElement("div",{role:"group"},t.a.createElement("strong",{id:O},Re.t("You\u2019ve already asked for access")),t.a.createElement("div",{id:T},Re.t("Still waiting for edit access? You can send the owner a reminder.")),ja(Re.t("Remind The Owner"))),"renderSubsequentReminderContent");rn.displayName="renderSubsequentReminderContent";const Ja=o(()=>t.a.createElement("div",{role:"group"},t.a.createElement("strong",{id:O},Re.t("Request sent")),t.a.createElement("div",{id:T},Re.t("You\u2019ll be notified once it\u2019s been shared with you."))),"renderRequestSentSuccessContent");Ja.displayName="renderRequestSentSuccessContent";const Ea=o(()=>t.a.createElement("div",{role:"group"},t.a.createElement("strong",{id:O},Re.t("Error")),t.a.createElement("div",{id:T},Re.t("Something\u2019s gone wrong. Please try again later.")),ja(Re.t("Try Again"))),"renderRequestSentErrorContent");Ea.displayName="renderRequestSentErrorContent";const Za=Object(n.useCallback)(()=>{Be(Object(_e.a)({uiComponentVariant:U.UiComponentVariant.CANVAS_PAGE_VIEW_ONLY}))},[Be]),Zt=Object(n.useCallback)(()=>{const St=We?Re.rt("<strong>Create and edit canvases on their own</strong> and access other premium collaboration tools with a free, {trialDuration}-day trial of Slack Pro.",{trialDuration:30}):Re.rt("<strong>Unlock canvases outside of channels</strong> and other premium collaboration tools with a free, {trialDuration}-day trial of Slack Pro.",{trialDuration:30}),bn=We?Re.rt("<strong>Create and edit canvases on their own</strong> and access other premium collaboration tools with an upgrade."):Re.rt("<strong>Unlock unlimited canvases</strong> and other premium collaboration tools with an upgrade.");return t.a.createElement("div",{role:"group"},t.a.createElement("strong",{id:O},t.a.createElement(F.c,{className:"margin_bottom_50"})),t.a.createElement("div",{id:T},wt?St:bn),wt?t.a.createElement(G.f,{type:"outline",onClick:Za},Re.t("Learn More")):t.a.createElement(G.b,{href:Object(I.w)({entryPoint:"canvas-view-only-button"}),type:"outline"},Re.t("See Upgrade Options")))},[We,wt,Za]),Wa=new Map([[Y.FIRST_TIME_REQUEST,Ba()],[Y.SUBSEQUENT_REQUEST,rn()],[Y.SENT_SUCCESS,Ja()],[Y.SENT_ERROR,Ea()]]),Aa=o(()=>{Ne&&be&&Be(Object(je.a)({channelId:be,reason:"message_pane_input_preview"})).then(()=>{Object(pe.c)({focusKey:Ve.c.QUIP_DOCS,forceFocus:!0})})},"onJoinButtonClicked"),Xa=o(()=>t.a.createElement(G.f,{className:Lt,type:"outline",size:"small",ref:N},t.a.createElement("span",{className:"margin_right_25"},t.a.createElement(l.a,{name:"eye-open",size:"16"})),Re.t("View only")),"renderViewOnlyButton"),On={position:"bottom-left",offsetY:6,offsetX:-12,ariaRole:"dialog"};let Ha=t.a.createElement(B.e,He({renderMenu:St=>t.a.createElement(B.f,He({},St,{menuClassNames:"p-quip_title__access_indicator_menu","aria-labelledby":O,"aria-describedby":T}),Wa.get(Q))},On),Xa());if(_t&&(Ha=t.a.createElement(B.e,He({renderMenu:St=>t.a.createElement(B.f,He({},St,{menuClassNames:"p-quip_title__trial_access_menu","aria-labelledby":O,"aria-describedby":T}),Zt())},On),Xa())),Tt||(Ha=t.a.createElement(G.f,{className:Lt,type:"outline",size:"small"},Re.t("View only"))),Ne){let St="",bn="",fs,$t=!1;if(ie)return t.a.createElement(Fe.d,{tip:Re.t("Edits locked"),position:"bottom"},t.a.createElement("div",{className:"p-quip_title__access_indicator_locked_edits"},t.a.createElement(l.a,{name:"lock",size:"16"})));if(ut&&Ce)St=Re.rt("Only channel managers can edit this canvas. {link}",{channelName:t.a.createElement(ye.a,{channelId:be,boldIcon:!0,className:"bold"}),link:t.a.createElement($.a,{articleId:8328303095443},Re.t("Learn more"))}),bn=Re.t("View Only");else if(et&&!Et)St=Re.rt("Only people who can post in {channelName} can edit this canvas. {link}",{channelName:t.a.createElement(ye.a,{channelId:be,boldIcon:!0,className:"bold"}),link:t.a.createElement($.a,{articleId:360004635551},Re.t("Learn more"))}),bn=Re.t("View Only");else if(!et)St=Re.rt("Join this channel to edit the canvas."),fs=220,$t=!0,bn=Re.t("View Only");else return null;Ha=t.a.createElement(B.e,{renderMenu:ln=>t.a.createElement(B.f,He({},ln,{width:fs,menuClassNames:"p-quip_title__access_indicator_menu"}),t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{role:"group"},t.a.createElement("div",null,St)),$t&&t.a.createElement(G.f,{onClick:Aa,type:"primary",size:"small",disabled:ze},Re.t("Join Channel")))),position:"bottom-right",offsetY:6,ariaRole:"dialog"},t.a.createElement(G.f,{className:Lt,type:"outline",size:"small",ref:N},t.a.createElement("span",{className:"margin_right_25"},t.a.createElement(l.a,{name:"eye-open",size:"16"})),t.a.createElement("span",{className:"no_wrap"},bn)))}return Ha}),gt=e("9oTK"),pt=e("4KfL"),mt=e("nFQW"),Dt=e("/K2e"),Pt=e("luMM"),Ot=e("drD8"),Kt=e("MBrv"),ea=e("FcR8"),Nt=e("xy4D"),na=e("oUrV"),sa=e("eJPC"),ma=e("zb/F"),ua=e("RfUG"),ra=e("NNLN"),bt=e("Icre"),Ct=e("kBpe"),Ga=e("zm5I"),oa=e("apAF"),ia=e("HHlX"),dt=e("cTKW"),vt=e("UItK"),kt=e("3zNH"),ta=e("V4lD"),Je=e("Ybt4");function ft(me){let{channelId:N,docEmbed:fe}=me;const he=Object(u.useDispatch)(),Be=Object(i.c)(ot=>Object(Je.b)({state:ot,label:"use-channel-canvas-settings"})),{spaceFileId:ze}=Object(ta.a)({channelId:N}),We=Object(i.c)(ot=>ze?Object(b.e)(ot,ze):null),qe=!!Object(p.Eb)(We),Tt=Object(n.useCallback)(Object(gt.coroutine)(function*(){const ot=qe?dt.a:vt.a;fe&&(qe||(yield fe.docEditor.forceSave()),he(ot({fileId:ze,reason:"quip-lock-channel-settings"})).then(Lt=>{let{file:O}=Lt;return he(Object(kt.a)({files:[O],reason:"quip-lock-channel-settings-upsert"}))}).catch(Lt=>{Be.error(Lt,"could not lock/unlock channel canvas")}))}),[qe,he,ze,Be,fe]);return{isLocked:qe,toggleLockState:Tt}}o(ft,"useChannelCanvasSettings");var nt=e("tv4y"),jt=e("npde"),Bt=e("+kJ4"),Ee=e("YUBf"),Ge=e("9WS/"),Oe=e("jWAO");const X=new R.b("channel_details"),V=o(me=>{let{fileId:N}=me;const fe=Object(u.useDispatch)(),he=Object(n.useCallback)(()=>fe(Object(Bt.a)()),[fe]),[Be,ze]=Object(n.useState)(!1),[We,qe]=Object(n.useState)(""),{channelId:Tt,setSpaceIsOpenByDefault:ot}=Object(z.a)({fileId:N}),Lt=Object(i.c)(le=>Object(ne.d)(le,Tt)),O=Object(i.c)(C.n),T=Object(n.useCallback)(()=>{ze(!0),qe(""),ot(!0).then(()=>{he()}).catch(()=>{qe(X.t("Oops, something went wrong. Please try again.",{fallbackHash:"92c404bc05c04cc6c63491f463f0ec39688f741a",fallbackHashNs:"client"}))}).finally(()=>{ze(!1)})},[ot,he]);if(!O)return null;const y="show_channel_canvas_by_default_title",Q="show_channel_canvas_by_default_content";return t.a.createElement(Ee.a,{closeModal:he,labelledby:y,describedby:Q},t.a.createElement(Ee.i,null,t.a.createElement(Ee.l,{id:y,title:X.t("Show this channel canvas by default?")})),t.a.createElement(Ee.d,null,t.a.createElement(Ee.e,null,!!We.length&&t.a.createElement(Oe.d,{level:"error",className:"margin_bottom_100"},We),t.a.createElement("p",{id:Q},X.rt("This channel canvas will be open by default for all members of {channel} until they close it.",{channel:t.a.createElement(Ge.a,{channel:Lt,includeChannelPrefix:!0,displayFormerNames:!1})})))),t.a.createElement(Ee.g,null,t.a.createElement(Ee.h,null,t.a.createElement(G.f,{onClick:he,type:"outline"},X.t("Cancel")),t.a.createElement(Ee.c,{autoFocus:!0,type:"primary",onClick:T,loading:Be},X.t("Save")))))},"ShowChannelCanvasByDefaultModal");V.displayName="ShowChannelCanvasByDefaultModal";var ue=Object(jt.a)(V),xe=e("WSQ4"),Ke=e("azFB"),Ye=e("G5NC"),it=e("kN6v"),Rt=e("AqeP"),Wt=e("sKeO"),Ae=e("a/0V"),$e=e("4unc"),K=e("A/ch"),rt=e("ljyh"),la=e("I3z+"),zt=e("mQiU"),lt=e("I0j/"),Ue=e("37+L"),Sa=e("hisJ"),$a=e("DToD"),wa=e("VymY"),Ma=e("gnJq"),Ia=e("TdVx"),nn=o((me,N)=>{if(Object(ee.H)(Object(A.g)(me))||!Object(Ia.a)(me))return!1;const fe=Object(b.e)(me,N);return!(!fe||Object(Ma.a)(fe)||!Object(p.u)(fe)||Object(p.h)(fe)||Object(S.a)(me,{file:fe}))},"canUserDuplicateCanvas"),ya=e("SQ0V"),za=e("Ag7o"),Na=e("Trx9"),pn=e("d/xU"),Yt=e("3l96"),Ya=e("KkHf"),qa=e("Tevt");const Ht=new R.b("slack-docs"),Xt=o(me=>{let{canvasFileId:N}=me;const fe=Object(u.useDispatch)(),he=Object(n.useCallback)(()=>{fe(Object(Bt.a)())},[fe]);return t.a.createElement(Na.a,{eventId:U.EventId.QUIP_DUPLICATE_CANVAS,uiComponentName:"duplicate_canvas_error_modal",elementType:U.ElementType.MODAL,clogImpression:!0,fileId:N},t.a.createElement(Ya.a,{title:Ht.t("Error duplicating canvas"),onClose:he,onSubmit:he,submitButtonText:Ht.t("OK"),showCloseButton:!0,showCancelButton:!1},Ht.rt("Something went wrong. If the problem persists, please <a>drop us a line</a>.",null,Be=>{let{text:ze,key:We}=Be;return t.a.createElement(qa.a,{href:`https://${Object(pn.n)()}/help/contact`,rel:"noopener noreferrer",key:We},ze)})))},"DuplicateCanvasErrorModal");Xt.displayName="DuplicateCanvasErrorModal";var Da=Xt;const Ft=o(me=>{let{canvasFileId:N}=me;return Object(Yt.a)({element:t.a.createElement(Xt,{canvasFileId:N}),name:"duplicate-canvas-error-modal"})},"openDuplicateCanvasErrorModal");Ft.displayName="openDuplicateCanvasErrorModal";const ba=Object(ya.c)("Duplicate a canvas and open new copy",(me,N,fe)=>{let{canvasFileId:he}=fe;const Be=Object(Je.b)();Be.info(`Attempting to duplicate canvas with id: ${he}`);const ze=o(We=>(Be.error(We??Error(`Failed to duplicate canvas with id: ${he}`)),me(Ft({canvasFileId:he}))),"onError");return me(Object(za.a)({fileId:he,reason:"duplicate-canvas"})).then(We=>{We.file?me(Object(ea.a)({fileId:We.file.id,forceNewWindow:!0,source:na.a.DUPLICATE_CANVAS})):ze()}).catch(We=>{ze(We)})});ba.meta={name:"createThunk",key:"createThunkduplicateCanvas",description:"Duplicate a canvas and open new copy"};var Ra=ba,Ca=e("jU2U"),At=e("AutL"),sn=e("qY4A"),ke=e("bUGr"),ae=e("A26L"),Te=e("i9jZ"),De=e("g3a/"),Qe=e("YHfO"),Vt=e("oY18"),ha=e("Mqk2"),aa=e("Lgge");const en=Object(ya.c)("Edit file canvas template mode",(me,N,fe)=>{let{fileId:he}=fe;return Object(b.e)(N(),he)?me(Object(ha.c)({fileId:he,isCanvasTemplate:!0})).then(ze=>{let{file:We}=ze;me(Object(kt.a)({files:[We],reason:"create-canvas-template"}))}):aa.a.reject(new Error("Missing file"))});en.meta={name:"createThunk",key:"createThunkcreateCanvasTemplate",description:"Edit file canvas template mode"};var _n=e("cBJ3");const Ka=Object(ya.c)("Edit file canvas template mode",(me,N,fe)=>{let{fileId:he}=fe;return Object(b.e)(N(),he)?me(Object(ha.c)({fileId:he,isCanvasTemplate:!1})).then(ze=>{let{file:We}=ze;me(Object(_n.g)({fileId:We==null?void 0:We.id}))}):aa.a.reject(new Error("Missing file"))});Ka.meta={name:"createThunk",key:"createThunkrevertCanvasTemplate",description:"Edit file canvas template mode"};var ka=e("oBV+"),vn=e("2yT+");const ga=new R.b("slack-docs"),on=o(function(){return{continueButton:{elementName:(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"revert_to_canvas":"convert_to_template",onClick:{enableClogAction:!0}},cancelButton:{elementName:"cancel",onClick:{enableClogAction:!0}}}},"speedBumpAutoClogProps");function qt(me){const{fileId:N}=me,fe=Object(i.c)(Ce=>Object(b.e)(Ce,N)),he=Object(i.c)(Ce=>Object(p.yb)(fe,Ce)),Be=Object(u.useDispatch)(),[ze,We]=Object(n.useState)(!1),[qe,Tt]=Object(n.useState)(""),ot=Object(i.c)(Ce=>Object(c.d)(Ce,"canvas_user_created_templates",!1)==="on"),Lt=Object(n.useCallback)(()=>{Be(Object(Bt.a)())},[Be]),O=Object(n.useCallback)(Ce=>{const st={name:"check-circle"};Be(Object(Vt.a)({element:t.a.createElement(De.a,{svgIconProps:st,duration:Qe.b,showCloseButton:!0,toastClasses:"p-canvas_templates_toast"},Ce)}))},[Be]),T=Object(n.useCallback)(()=>{We(!0),qe&&Tt(""),Be(en({fileId:N})).then(()=>{Object(p.ib)(fe)||Object(p.Cb)(fe)?Be(Object(M.b)({fileId:N,viewContext:ka.a,...!Object(p.ib)(fe)&&Object(p.Cb)(fe)?{initialShareDialogLocationsTab:vn.a.Settings}:{}})):O(ga.t("You created a template.")),Lt()}).catch(()=>{Tt(ga.t("There was a problem converting the canvas to template. Try again in a few minutes.")),We(!1)})},[qe,Be,N,fe,Lt,O]),y=Object(n.useCallback)(()=>{We(!0),qe&&Tt(""),Be(Ka({fileId:N})).then(()=>{O(ga.t("You reverted a template to a canvas.")),Lt()}).catch(()=>{Tt(ga.t("There was a problem reverting the template to canvas. Try again in a few minutes.")),We(!1)})},[qe,Be,N,O,Lt]);if(!ot)return null;const Q=he?ga.t("Revert template to a canvas"):ga.t("Convert to a template"),le=o(()=>t.a.createElement(Ee.i,null,t.a.createElement(Ee.l,{className:"padding_right_175 padding_bottom_50",title:Q,"data-qa":"canvas_templates_convert_title"})),"renderHeader");le.displayName="renderHeader";const Ne=o(()=>{const Ce=he?ga.t("People will no longer be able to use this template. Comments, version history, and permissions will be saved."):ga.t("Anyone with access to the template can create new canvases using the same formatting, layout, and contents.");return t.a.createElement(Ee.e,{id:"canvas_templates_convert_description"},Ce)},"renderDescription");Ne.displayName="renderDescription";const be=o(()=>t.a.createElement(Ee.e,null,t.a.createElement(Oe.d,{className:"margin_top_100 margin_bottom_0",type:"inline",level:Oe.b.error},qe)),"renderError");be.displayName="renderError";const ie=o(()=>t.a.createElement(Ee.h,null,t.a.createElement(G.a,{className:"margin_right_50",type:"outline",onClick:Lt,autoClogProps:on().cancelButton},ga.t("Cancel")),t.a.createElement(G.c,{onClick:he?y:T,"data-qa":"canvas_template_speedbump_convert_button",loading:ze,type:"primary",autoClogProps:on(he).continueButton},he?ga.t("Revert to Canvas"):ga.t("Convert to Template"))),"renderFooter");return ie.displayName="renderFooter",t.a.createElement(Na.a,{eventId:U.EventId.QUIP_CANVAS_TEMPLATES,elementType:U.ElementType.MODAL,clogImpression:!0,fileId:N},t.a.createElement(Ee.a,{isOpen:!0,centered:!0,closeModal:Lt,showCloseButton:!0,dataQa:ka.a,contentLabel:Q,describedby:"canvas_templates_convert_description"},le(),t.a.createElement(Ee.d,null,Ne(),qe&&be()),t.a.createElement(Ee.g,null,ie())))}o(qt,"CanvasTemplateConvertSpeedbump"),qt.displayName="CanvasTemplateConvertSpeedbump";var La=qt;const jn=Object(ya.c)("Open the canvas template speedbump modal when converting to a template or back to a canvas",function(){var me=Object(gt.coroutine)(function*(N,fe,he){let{fileId:Be}=he;N(Object(Yt.a)({element:t.a.createElement(La,{fileId:Be})}))});return function(N,fe,he){return me.apply(this,arguments)}}());jn.meta={name:"createThunk",key:"createThunkopenCanvasTemplateConvertSpeedbumpModal",description:"Open the canvas template speedbump modal when converting to a template or back to a canvas"};var ct=jn,pa=e("9Gfp"),Ta=e("NjAx"),fn=o((me,N)=>{const fe=Object(c.d)(me,"canvas_templates_admin",!1)==="on";if(!Object(Ia.a)(me))return!1;const he=Object(b.e)(me,N);if(!he||Object(Ma.a)(he)||!Object(p.u)(he)||Object(p.h)(he)||Object(S.a)(me,{file:he})||fe&&!Object(Ta.w)(me))return!1;const Be=Object(pa.a)(me);return he.user&&Be===he.user?!0:Object(p.Yb)(he)},"canUserSaveCanvasAsTemplate"),mn=e("XXd4"),In=e("Qy8E"),we=e("/Rv1"),Qt=e("3VyW"),_a=e("tE27"),un=e("5ILa"),yn=e("uaYD"),_s=e("Ofo0"),Rn=e("yhuY"),is=e("3XPm"),Pa=e("Bnq6"),An=e("Ls/Y"),Kn=e("hjzp"),Ln=e("rZ8V"),ls=e("Iwbv"),cs=e("T1zM"),Zn=e("JoR1"),ds=e("gBoP"),Is=e("bTgy"),Gt=e("egsZ"),tn=e("2VFn"),gn=e("uiBO"),ys=e("lqkv"),To=e("X1Cl");function Sn(){return Sn=Object.assign||function(me){for(var N=1;N<arguments.length;N++){var fe=arguments[N];for(var he in fe)Object.prototype.hasOwnProperty.call(fe,he)&&(me[he]=fe[he])}return me},Sn.apply(this,arguments)}o(Sn,"quip_overflow_actions_extends");const Me=new R.b("slack-docs"),_o={QUIP_OVERFLOW_ACTIONS_DELETE_CANVAS_BUTTON:"quip_overflow_actions_delete_canvas_button"},xa=o(me=>{let{fileId:N,fromPrimaryView:fe,fromGantry:he,trigger:Be,triggerClassName:ze,truncatedActions:We,onCommentStreamClick:qe,onAddHeaderImage:Tt,onReplaceHeaderImage:ot,onRemoveHeaderImage:Lt,onRepositionHeaderImage:O,onPrint:T,lastReadTs:y,docEmbed:Q}=me;var le,Ne,be;const ie=Object(u.useDispatch)(),Ce=Object(x.a)(),st=Object(i.c)(la.c),et=Object(i.c)(Te.a),Et=Object(i.c)(Se=>Object(c.d)(Se,"canvas_collection_prototype")==="on"&&Object(Ln.n)(Se)),ut=Object(i.c)(C.n),tt=Object(i.c)(Se=>Object(c.d)(Se,"canvas_user_created_templates",!1)==="on"),_t=Object(i.c)(Se=>Object(c.d)(Se,"channel_canvas_share",!1)==="on"),It=Object(i.c)(Se=>Object(c.d)(Se,"canvas_sidebar_mix",!1)==="on"),Jt=Object(i.c)(Se=>Object(c.d)(Se,"channel_manager_chanvas_edits")==="on"),wt=Object(i.c)(Se=>Object(c.d)(Se,"channel_manager_chanvas_ui")==="on"),hn=Object(i.c)(Se=>Object(Ln.n)(Se)&&Object(C.b)(Se)),ja=Object(i.c)(Nt.a),Ba=Object(i.c)(Se=>Object(c.d)(Se,"canvas_header_image")==="on"),rn=Object(i.c)(Se=>Object(c.d)(Se,"canvas_printing")==="on"),Ja=Object(i.c)(Se=>nn(Se,N)),Ea=Object(i.c)(Se=>fn(Se,N)),Za=Object(i.c)(Se=>Object(pt.b)(Se,N));var Zt;const Wa=Object(i.c)(Se=>(Zt=Object(Zn.u)(Se,"seen_canvas_template_convert_action_new_badge"))!==null&&Zt!==void 0?Zt:!1);var Aa;const Xa=Object(i.c)(Se=>(Aa=Object(Zn.u)(Se,"seen_canvas_header_image_new_badge"))!==null&&Aa!==void 0?Aa:!1),On=Object(i.c)(g.g),Ha=Object(i.c)(pa.a),{featureTinyspeck:St}=Object(Ca.a)(),bn=Object(i.c)(A.f),fs=Object(i.c)(ls.a),$t=Object(i.c)(Se=>Object(b.e)(Se,N)),ln=Object(i.c)(Se=>Object(p.yb)($t,Se)),Fs=Object(Ot.b)($t),Va=Object(n.useContext)(ra.a),{isChildWindow:Vn,isMainWindow:gs,getSiblingView:Gn,view:Cn}=Object(n.useContext)(zt.a),Ks=Object(p.N)($t,On);var Es;const as=(Es=Object(it.a)(Q==null?void 0:Q.hasHeaderImage))!==null&&Es!==void 0?Es:!1,Os=Object(i.c)(Se=>Object(Is.a)(Se,$t)),Tn=Object(i.c)(Se=>Gn(Se,{container:tn.i.Secondary})),ks=(Tn==null?void 0:Tn.viewType)===gn.b.QuipActivityHistory||(Cn==null||(le=Cn.params)===null||le===void 0?void 0:le.versionId)&&(Cn==null||(Ne=Cn.params)===null||Ne===void 0?void 0:Ne.sequence),xn=(Tn==null?void 0:Tn.viewType)===gn.b.QuipCommentStream,Hs=(Tn==null?void 0:Tn.viewType)===gn.b.QuipAutomationsOverview,Ro=Object(n.useCallback)(()=>{ie(Object(Kt.a)(!Object(p.Rb)($t),{file:$t.id}))},[ie,$t]),Vs=Object(n.useCallback)(Object(gt.coroutine)(function*(){tt&&(Ce.track(U.EventId.QUIP_CANVAS_TEMPLATES,{contexts:{ui_context:{action:U.UiAction.CLICK,ui_step:"save_template_overflow_menu"}}}),Wa||ie(Object(cs.f)({pref:"seen_canvas_template_convert_action_new_badge",value:!0}))),tt&&ie(ct({fileId:N}))}),[tt,Ce,Wa,ie,N]),ho=Object(n.useCallback)(Object(gt.coroutine)(function*(){Ce.track(U.EventId.CANVAS_VARIABLES,{contexts:{ui_context:{action:U.UiAction.CLICK,ui_step:"open_canvas_automation"}}}),ie(Object(lt.a)(Object(Ue.V)({entityId:N,activeTab:Gt.a.DYNAMIC})))}),[Ce,ie,N]),Lo=Object(n.useCallback)(Object(gt.coroutine)(function*(){tt&&(Ce.track(U.EventId.QUIP_CANVAS_TEMPLATES,{contexts:{ui_context:{action:U.UiAction.CLICK,ui_step:"save_canvas_overflow_menu"}}}),ie(ct({fileId:N})))}),[tt,Ce,ie,N]),Gs=Object(i.c)(Ga.a),{isChannelSpace:xt,channelId:ws,spaceIsOpenByDefault:wn,setSpaceIsOpenByDefault:zs}=Object(z.a)({fileId:N});let{canLockChannelSpace:Un}=Object(ia.a)({fileId:N});Jt&&wt&&(Un=!!$t.can_toggle_canvas_lock);const xo=Object(i.c)(Se=>Object(ne.d)(Se,ws)),po=It&&!xt?Object(Kn.a)(N):void 0,vo=Object(i.c)(Se=>It&&po?Object(ne.d)(Se,po):void 0),zn=Object(i.c)(Se=>Object(A.s)(Se,$t.user_team)),ns=Object(i.c)(Se=>Object(un.a)(Se,N)),Ys=Object(ee.D)(zn),bs=Object(ee.h)(zn);Object(is.a)(zn?zn.id:"");const Yn=Object(i.c)(Se=>Object(Pa.a)(Se,N)),Xe=Object(i.c)(Se=>Object(mn.a)(Se,xo)),{window:fa,windowId:cn}=Object(n.useContext)(xe.a),zo=Object(i.c)(A.g),ur=Object(ee.H)(zo),Uo=Object(ee.z)(zo),{isLocked:hr,toggleLockState:Yo}=ft({channelId:ws,docEmbed:Q}),Qs=Object(_.b)(cn),Qo=(gs||Qs)&&et&&xt&&Object(Te.b)(),Bo=!!$t.most_recent_access_request_ts,{requestQuipAccess:pr}=ve(N,Bo,!0),vr=fa!==Ke.a||!Ye.a,Cs=Me.t("More options",{fallbackHash:"a1e34f91579d0900384176f8a467bf688034f1ee"}),Wo=Object(it.a)(Object($a.a)(fa,N)),fr=Object(i.f)(Se=>Object(Sa.b)(Se,cn)),Fo=Object(i.c)(Se=>Object(At.b)(Se,N)),Jo=Object(i.f)(Se=>Object(Wt.b)(Se,N,Ae.a.ephemeralMessage,!0)||void 0),Bn=Jo&&Jo[0],Zo=!!(!(Bn==null||(be=Bn.ephemeralMessages)===null||be===void 0)&&be.length),Ts=tt&&Ea&&!ln&&Uo,Wn=tt&&Ea&&ln&&Uo&&!Os,Ko=Ba&&!Wo&&Object(p.Yb)($t),Qn=o(()=>{var Se,ss;return Zo?t.a.createElement("div",{className:"p-quip_overflow_actions__app_notifications--container"},t.a.createElement("span",{className:"p-quip_overflow_actions__app_notifications--label"},Me.t("App notifications")),(Bn==null||(Se=Bn.ephemeralMessages)===null||Se===void 0?void 0:Se.length)&&t.a.createElement($e.b,{count:Bn==null||(ss=Bn.ephemeralMessages)===null||ss===void 0?void 0:ss.length,style:$e.a.red,"data-qa":"app-notifications-badge"})):""},"appNotificationLabel"),Xo=o(()=>{ie(Object(bt.a)({}))},"closePrimaryView"),ko=o(()=>{const Se={name:"trash"};ie(Object(Vt.a)({element:t.a.createElement(ys.b,{svgIconProps:Se,duration:Qe.b,position:"top-right"},t.a.createElement("div",{className:"bold"},Me.rt("This canvas was deleted.",{fallbackHash:"b1645b528f4f0b2fdadab80333cc1aa1ff22da5c",fallbackHashNs:"files"})))}))},"showDeleteConfirmationToast");ko.displayName="showDeleteConfirmationToast";const gr=o(()=>{if(fe)Xo();else if(fa===Ke.a)ko(),fa.history.state!==null&&fa.history.back(),ie(Object(we.a)({shouldReplaceState:!0}));else if(Object(rt.a)())ko(),setTimeout(()=>{try{fa.close()}catch{}},Qe.b/2);else{var Se;(Se=Object(wa.d)(fa.document.documentElement))===null||Se===void 0||Se.focus()}},"onDelete"),Er=o(()=>{Object($a.d)(fa,N)},"toggleA11yReadOnlyMode"),Ho=o(()=>{ie(Object(oa.a)(Gs==="light"?"dark":"light"))},"onToggleDarkMode"),Vo=o(()=>{xt&&_t&&N&&ie(Object(_s.a)({fileId:N,entryPoint:"quip-overflow-actions"}))},"onForwardChannelCanvas"),Or=o(()=>{wn?zs(!1):ie(ue({fileId:N}))},"onToggleShowByDefault"),$o=o(Se=>{let{shouldOpenActivityHistory:ss=!1,shouldOpenCommentStream:yr=!1}=Se;ie(Object(ea.a)({fileId:N,forceNewWindow:!0,source:na.a.QUIP_FILE_ACTIONS,isChannelSpace:xt,resetScroll:!1,shouldOpenActivityHistory:ss,shouldOpenCommentStream:yr,lastReadTs:y}))},"openDocInNewWindow"),br=o(()=>ie(ks?Object(we.a)():Object(yn.a)({fileId:N,isChannelSpace:xt,isFromHuddle:Qs})),"onVersionHistoryClick"),Cr=o(()=>{if(Ja)return ie(Ra({canvasFileId:N}))},"onDuplicateCanvas"),Tr=o(()=>Bo?t.a.createElement("div",null,t.a.createElement("div",null,Me.t("You\u2019ve already asked for edit access.")),t.a.createElement("div",null,Me.t("You can send the owner a reminder."))):t.a.createElement("div",null,t.a.createElement("div",null,Me.t("You only have permission to view.")),t.a.createElement("div",null,Me.t("To make changes, ask editors for edit access."))),"getAccessIndicatorLabel"),qo=o(()=>Bo?Me.t("Remind The Owner"):Me.t("Request Edit Access"),"getRequestEditAccessLabel"),_r=o(()=>Object(Ct.c)()===Ct.a.SAFARI?Me.t("Ctrl R"):Object(Ct.p)()?Me.t("\u2318 Option R"):Me.t("Ctrl Alt R"),"getA11yReadOnlyModeShortcut"),er=o(()=>ut?Xe?Me.t("Only the organization that owns this channel can modify this setting."):Un?null:Me.t("Only editors can modify this setting."):null,"getAutoOpenDescription"),Js=o(Se=>{Ce.track(U.EventId.QUIP_SIDEBAR_MOVE_TO_SECTION,{contexts:{ui_context:{action:U.UiAction.SELECT,ui_component_variant:Se}}})},"trackSidebarSectionClog"),tr=Object(n.useCallback)(()=>{Tt&&(Xa||ie(Object(cs.f)({pref:"seen_canvas_header_image_new_badge",value:!0})),Tt())},[Xa,ie,Tt]),ar=o(Se=>t.a.createElement(An.b,Sn({channel:vo,reason:"section-select-from-overflow-menu",ignoreEditMode:!1,showRemoveFromSection:!1,shouldTransitionFocusOnClose:!1,width:"auto",clogTrack:Js},Se)),"renderSubmenuForSidebarMove");ar.displayName="renderSubmenuForSidebarMove";const ca=o(Se=>({elementName:Se,onClick:{enableClogAction:!0},fileId:N,isChannelCanvas:xt}),"autoClogProps"),xr=Et?Me.t("Add to starred"):"Add to starred",Ir=Hs?Me.t("Hide manage automations"):Me.t("Manage automations"),nr=[{label:Tr(),key:"quip-access-indicator",show:!xt&&!!(We!=null&&We.hasAccessIndicator),type:nt.b.header},{label:qo(),key:"request-edit-access-button",click:pr,show:!xt&&!!(We!=null&&We.hasAccessIndicator)},{type:nt.b.separator,key:"separator-main-menu",show:!xt&&!!(We!=null&&We.hasAccessIndicator)},{label:Me.t("Copy link"),key:"copy",click:()=>Object(ma.e)(Ks),show:!0,autoClogProps:ca("copy_link")},{label:Object(p.Nb)($t)?Me.t("Remove from Later"):Me.t("Save for later"),key:"save",click:()=>{Object(p.Nb)($t)?ie(Object(ds.h)({itemId:N})):ie(Object(ds.b)({fileId:N}))},show:st&&!Object(p.Mb)($t)&&!Object(p.sb)($t),autoClogProps:Object(p.Nb)($t)?ca("remove_from_later"):ca("save_for_later")},{label:Fo?Me.t("Unstar canvas",{fallbackHash:"e9480d430bbdfa84ffd7e0dc85bd961687e2a662",fallbackHashNs:"channel_sidebar"}):xr,key:"canvas-collection",click:()=>{Fo?(ie(Object(ae.c)({fileId:N})),ie(Object(ke.a)({fileId:N,userId:Ha}))):(ie(Object(ae.b)({fileId:N})),ie(Object(sn.a)({fileId:N,userId:Ha})))},show:Et,autoClogProps:ca(Fo?"unstar":"star")},{label:Object(p.Rb)($t)?Me.t("Remove from saved items"):Me.t("Add to saved items"),key:"save",click:Ro,show:!xt&&!st&&!ln},{type:nt.b.separator,key:"separator-main-menu",show:!0},{label:Me.t("Open in new window"),icon:t.a.createElement(l.a,{name:"open-in-window",size:"16"}),className:"c-menu_item_action_button--with_icon_on_right",key:"open-in-new-window",click:()=>{$o({shouldOpenActivityHistory:!1})},show:Qo,autoClogProps:ca("open_in_new_window")},{type:nt.b.separator,key:"separator-open-in-new-window",show:Qo},{label:Me.rt("Pin to {eventName}",{eventName:bs}),key:"pin-canvas-to-event",click:()=>{Object(Rn.a)({dispatch:ie,externalTeamId:zn.id,externalWorkspaceName:bs,fileId:N,reason:"quip-overflow-actions-pin-canvas-to-external-workspace"})},show:ns&&!Ys&&!Yn},{label:Me.rt("Unpin from {eventName}",{eventName:bs}),key:"unpin-canvas-from-event",click:()=>{Object(Rn.b)({dispatch:ie,externalTeamId:zn.id,externalWorkspaceName:bs,fileId:N,reason:"quip-overflow-actions-unpin-canvas-from-external-workspace"})},show:ns&&Yn},{label:xn?Me.t("Hide all comments"):Me.t("Show all comments"),key:"comments",click:()=>{xn?ie(Object(we.a)()):(Object(Ct.i)()||Object(rt.a)())&&xt&&!Vn||Qs?$o({shouldOpenCommentStream:!0}):(Object(Ct.i)()||Object(rt.a)())&&xt&&Vn?ie(Object(lt.a)(Object(Ue.W)(N,fr))):qe?qe():ie(Object(Qt.a)({fileId:N,shouldIncludeBack:!1}))},show:!xt&&(ln&&Object(p.Yb)($t)||!ln)||xt&&(Object(Ct.i)()||Object(rt.a)()),autoClogProps:ca("show_all_comments")},{label:ks?Me.t("Hide version history"):Me.t("View version history"),key:K.a,click:br,show:Za&&Object(p.Yb)($t)&&(!xt||xt&&Un&&(Object(Ct.i)()||Object(rt.a)())),autoClogProps:ca("view_version_history")},{label:hn?Ir:"Manage automations",key:"automation",badgeLabel:Me.t("NEW"),show:hn&&Uo&&!xt&&Object(p.Yb)($t),click:()=>{Hs?ie(Object(we.a)()):ho()},autoClogProps:ca("manage_automations")},{label:rn?Me.t("Print canvas"):"",key:"print",click:T,show:rn,autoClogProps:ca("print")},{type:nt.b.separator,key:"separator-main-menu",show:!xt&&(!vr||Ja||Ts||Wn)},{label:Me.rt("Make a copy"),key:"clone",click:Cr,show:Ja&&!ln,autoClogProps:ca("make_copy")},{label:Me.t("Create a new canvas"),key:"create-new-canvas",click:()=>{ie(Object(In.a)({source:sa.a.HEADER_OVERFLOW_MENU,forceNewWindow:!0}))},shortcut:!Object(Ct.c)()&&(Object(Ct.p)()?Me.t("\u2318 Shift N"):Me.t("Ctrl Shift N")),show:!ur&&!xt&&!fs&&!ln,autoClogProps:ca("create_new")},{label:Me.t("Convert to a template"),key:"save-as-template",click:Vs,show:Ts,badgeLabel:Wa?void 0:Me.t("NEW"),badgeClassName:"p-quip_overflow_actions__canvas_templates_callout"},{label:Me.t("Revert template to a canvas"),key:"revert-to-canvas",click:Lo,show:Wn,badgeClassName:"p-quip_overflow_actions__canvas_templates_callout"},{label:Me.t("Share this canvas"),key:"share-space",click:We==null?void 0:We.onShare,show:!xt&&!!We},{label:Me.t("Toggle dark mode"),key:"toggle-dark-mode",click:Ho,show:!xt&&he},{label:Qn(),key:"app-notifications",click:()=>{ie(Object(Rt.a)({fileId:N}))},show:Zo},{type:nt.b.separator,key:"separator-channel-canvas",show:ut&&xt&&Un},{label:hr?Me.t("Unlock edits"):Me.t("Lock edits"),key:"channel-canvas-lock",click:Yo,show:xt&&Un,autoClogProps:ca("lock_edits")},{label:_t?Me.t("Forward channel canvas"):"",key:"channel-canvas-forward",click:Vo,show:_t&&xt},{label:Me.t("Show by default"),description:er(),key:"channel-canvas-auto-open",click:Or,show:ut&&xt,type:nt.b.checkbox,checked:wn,disabled:!Un||Xe,className:"p-quip_overflow_actions__auto_open_item",autoClogProps:ca("show_by_default")},{label:Ba?Me.t("Add cover image"):"",key:"add-cover-image",show:Ko&&!as,click:tr,badgeLabel:!Xa&&xt?Me.t("NEW"):void 0,badgeClassName:"p-quip_overflow_actions__canvas_header_image_callout",autoClogProps:ca("add_cover_image")},{label:Ba?Me.t("Cover image"):"",type:nt.b.submenu,key:"submenu-cover-image",show:Ko&&as,template:[{label:Ba?Me.t("Replace"):"",key:"replace-cover-image",click:ot,autoClogProps:ca("replace_cover_image")},{label:Me.t("Reposition",{fallbackHash:"3259cd5cf08a21d35e2a58a5be9a5df3529b8562",fallbackHashNs:"lists"}),key:"reposition-cover-image",click:O,autoClogProps:ca("reposition_cover_image")},{label:Ba?Me.t("Remove"):"",key:"remove-cover-image",click:Lt,autoClogProps:ca("remove_cover_image")}]},{label:Me.t("Accessibility"),type:nt.b.submenu,key:"submenu-accessibility",show:!0,template:[{label:Me.t("Keyboard Shortcuts"),key:"keyboard-shortcuts",click:()=>ie(Object(_a.a)()),shortcut:Object(Ct.p)()?Me.t("\u2318 /"):Me.t("Ctrl /"),autoClogProps:ca("toggle_keyboard_shortcuts")},{label:Me.t("Read only view"),key:"toggle-a11y-read-only-mode",click:Er,type:nt.b.checkbox,checked:Wo,disabled:!Object(p.Yb)($t)||Wo===void 0,shortcut:_r(),autoClogProps:ca("toggle_a11y_read_only_mode")}]},{type:nt.b.separator,key:"separator-report",show:ja},{label:Me.t("Report to Slack",{fallbackHash:"fed452c545e1032d4d547bc6b1fe8e6404917dfa"}),key:"report",click:()=>{Object(ee.Y)(bn,`/help/requests/report-content?u=${Ks}&type=canvas`)},show:ja,autoClogProps:ca("report_to_slack")},...It&&vo?[{label:Me.t("Move to channel sidebar"),type:nt.b.submenu,key:"submenu-sidebar-section-select",show:!xt,renderSubmenu:ar}]:[],{type:nt.b.separator,key:"separator-delete",show:St},{label:ln?Me.t("Copy template ID"):Me.t("Copy canvas ID"),key:"copy-canvas-id",show:St,click:()=>Object(ma.e)(N),autoClogProps:ca("copy_id")},{type:nt.b.separator,key:"separator-delete",show:!xt},{label:ln&&tt?Me.t("Delete template"):Me.t("Delete canvas"),show:Fs.delete_file&&!xt,danger:!0,dataQa:_o.QUIP_OVERFLOW_ACTIONS_DELETE_CANVAS_BUTTON,click:()=>ie(Object(Pt.a)({fileId:N,channelId:Va==null?void 0:Va.channelId,threadTs:Va==null?void 0:Va.threadTs,msgFileTs:Va==null?void 0:Va.ts,viewContext:Va==null?void 0:Va.viewContext,isStackable:!0,onSuccessfulDelete:gr})),autoClogProps:ca("delete")}].filter(Se=>Se.show),sr=o(Se=>t.a.createElement(Na.a,{eventId:U.EventId.CANVAS_OVERFLOW_MENU,clogImpression:!0,elementName:U.UiComponentName.CANVAS_OVERFLOW_MENU,fileId:N,isChannelCanvas:xt},t.a.createElement(Dt.a,Sn({},Se,{"aria-label":Me.t("More options"),menuClassNames:"p-quip_overflow_actions__menu",template:nr,stripTerminalSeparators:!0,width:"max-content"}))),"renderMenu");return sr.displayName="renderMenu",Object(p.ac)($t)?t.a.createElement(t.a.Fragment,null,nr.length>0&&t.a.createElement(ua.a,{renderMenu:sr,position:"bottom"},Be||t.a.createElement(Fe.d,{tip:Cs,position:"bottom-right"},t.a.createElement(mt.a,{size:"small",icon:"vertical-ellipsis",className:ze,"aria-label":Cs,"data-qa":"quip-overflow-menu"})))):null},"QuipOverflowActions");xa.displayName="QuipOverflowActions";var Ua=xa,kn=e("pFNT"),ms=e("j4mf"),Ps=e("+tZp"),eo=e("xwCZ"),Xn=e("UYKR");function js(){return js=Object.assign||function(me){for(var N=1;N<arguments.length;N++){var fe=arguments[N];for(var he in fe)Object.prototype.hasOwnProperty.call(fe,he)&&(me[he]=fe[he])}return me},js.apply(this,arguments)}o(js,"quip_presence_facepile_extends");const En=new R.b("slack-docs"),As=5,to=50,ao=99,Io={size:26,isInteractive:!1},no=o(me=>{let{memberId:N,fileId:fe}=me;const he=Object(i.c)(qe=>Object(eo.g)(qe,N)),Be=Object(i.c)(qe=>Object(Ps.a)(qe,he)),ze=Object(i.c)(qe=>Object(Xn.a)(qe,N,fe)),We=t.a.createElement("span",{className:"p-quip_presence_facepile__face__tooltip"},t.a.createElement("div",{className:"p-quip_presence_facepile__face__tooltip__name"},Be),t.a.createElement("div",{className:"c-tooltip__subtitle"},ze?En.t("Editing"):En.t("Viewing")));return t.a.createElement(Fe.d,{tip:We},t.a.createElement("div",{className:"p-quip_presence_facepile__face","data-qa":"quip-presence-facepile-face","data-mode":`${ze?"editing":"viewing"}`},t.a.createElement(kn.c,js({userId:N},Io))))},"Face");no.displayName="Face";const Ss=o(me=>{let{memberIds:N,maxPileCount:fe,fileId:he}=me;if(!N.length)return null;const Be=N.length>fe?N.slice(0,fe-1):N.slice(0,fe);return t.a.createElement("div",{className:"p-quip_presence_facepile__faces"},Be.map(ze=>t.a.createElement(no,{key:ze,memberId:ze,fileId:he})).reverse())},"Faces");Ss.displayName="Faces";const yo=o(me=>{let{memberId:N}=me;const fe=Object(i.c)(Be=>Object(eo.g)(Be,N)),he=Object(i.c)(Be=>Object(Ps.a)(Be,fe));return t.a.createElement(t.a.Fragment,null,he)},"OtherTooltipUserName"),so=o(me=>{let{memberIds:N,maxPileCount:fe}=me;if(N.length<=fe)return null;const he=N.slice(fe,to+fe).map(qe=>t.a.createElement(yo,{key:qe,memberId:qe})),Be=N.length-(fe-1);Be>to&&he.push(En.rt("others"));const ze=Object(R.h)(he,{react:!0}),We=t.a.createElement("span",{className:"p-quip_presence_facepile__count__tooltip"},t.a.createElement("div",null,En.t("Other members are in here")),t.a.createElement("div",{className:"c-tooltip__subtitle"},En.rt("Includes {names}",{names:ze})));return t.a.createElement(Fe.d,{tip:We},t.a.createElement("div",{className:Object(f.default)("p-quip_presence_facepile__count",{"p-quip_presence_facepile__count--wide":Be>9}),"data-qa":"quip-presence-facepile-count"},Be>ao?En.t("{count}+",{count:Object(ms.a)(ao)}):Object(ms.a)(Be)))},"OtherCount");so.displayName="OtherCount";const Ms=o(me=>{let{fileId:N,className:fe,maxPileCount:he=As,round:Be=!0}=me;const ze=Object(i.c)(We=>Object(Xn.b)(We,N));return!ze||!ze.length?null:t.a.createElement("div",{className:Object(f.default)("p-quip_presence_facepile",fe,{"p-quip_presence_facepile--round":Be})},t.a.createElement(Ss,{memberIds:ze,maxPileCount:he,fileId:N}),t.a.createElement(so,{memberIds:ze,maxPileCount:he}))},"QuipPresenceFacepile");Ms.displayName="QuipPresenceFacepile";var Ns=Ms,Ds=e("82u4"),oo=e("E97Y"),Po=e("9068");function jo(me){const N=Object(i.c)(fe=>me&&Object(b.e)(fe,me));return N&&Object(Po.a)(N)&&N.updated&&N.created?N.updated.toString().slice(0,9)!==N.created.toString().slice(0,9):!1}o(jo,"useHasFileBeenEdited");var $n=e("WE1w"),Rs=e("D+av"),ro=e("eWGC"),Ls=e("69o4"),io=e("q6Tz"),Mn=e("uVZW"),us=e("03PU"),lo=e("r/G2"),Hn=e.n(lo),Ao=e("0PqH"),xs=e("7+Lm"),So=e("o3gz");const qn=new R.b("slack-docs"),Mo=o(()=>t.a.createElement("div",{className:"p-user_created_template_coachmark__hero"},t.a.createElement("img",{src:Hn.a,alt:qn.t("Guide for converting canvas to template"),className:"p-user_created_template_coachmark__hero__image"})),"HeroImage"),Nn=o(me=>{let{children:N,fileId:fe}=me;const he=Object(u.useDispatch)(),Be=Object(i.c)(y=>Object(c.d)(y,"canvas_user_created_templates",!1)==="on"),ze=Object(i.c)(y=>Object(b.e)(y,fe)),We=Object(i.c)(y=>Object(p.yb)(ze,y)),qe=Object(i.c)(y=>Object(Ao.a)(y,ze)),ot=Object(i.c)(y=>Object(xs.c)(y,Mn.g.CANVAS_TEMPLATE))===Mn.h.USER_CREATED_TEMPLATE_COACHMARK,Lt=qe&&!We&&ot;Object(n.useEffect)(()=>{Be&&Lt&&he(Object(ro.a)({action:Mn.f.IMPRESSION,notificationName:Mn.h.USER_CREATED_TEMPLATE_COACHMARK}))},[he,Be,Lt]);const O=Object(n.useCallback)(Object(gt.coroutine)(function*(){yield he(Object(Ls.a)({spaceName:Mn.g.CANVAS_TEMPLATE,action:Mn.f.DISMISS})),he(Object(io.b)({event:{type:Mn.e.REQUEST_SPACES,spaces:[Mn.g.CANVAS_TEMPLATE]}}))}),[he]),T=Object(n.useMemo)(()=>t.a.createElement(So.a,{isOpen:ot,arrowPosition:95,className:"p-user_created_template_coachmark",hero:t.a.createElement(Mo,null),title:qn.t("Create custom templates for your team"),bodyText:qn.t("Now you can make it easy for people to use consistent formats for things like reports, newsletters, or briefs."),primaryCallToActionText:qn.t("Done"),onClickPrimaryButton:O,closeCoachmark:O,alignActionsRight:!0,offsetX:-8,isMegaphoneCoachmark:!0}),[ot,O]);return!Be||!Lt?t.a.createElement(t.a.Fragment,null,N):t.a.createElement(us.b,{coachmarkElement:T,orientation:us.a.BottomLeft,coachmarkAnchorClassNames:"p-user_created_template_coachmark__anchor"},N)},"UserCreatedTemplateCoachmark");Nn.displayName="UserCreatedTemplateCoachmark";var hs=e("Zw6N"),es=e("SwdH"),No=e("afXM");const ps=new R.b("slack-docs"),co=400,Us=function(){var me=Object(gt.coroutine)(function*(N){let fe=0;return new aa.a((he,Be)=>{N||Be(new Error("converting a template to a canvas - no editor was passed in"));const ze=setInterval(Object(gt.coroutine)(function*(){(yield aa.a.all([N==null?void 0:N.getIsDirty(),N==null?void 0:N.getIsPending()])).every(qe=>qe===!1)?(clearInterval(ze),he(!0)):fe+=1,fe>=co&&(clearInterval(ze),Be(new Error("converting a template to a canvas - exceeded max attempts for clean document check")))}),300)})});return o(function(fe){return me.apply(this,arguments)},"waitTillClean")}(),vs=o(me=>{let{file:N,innerRef:fe,editor:he,isCannedTemplate:Be,setIsTemplateInEditMode:ze,experimentCanvaseTemplatesViewModeGroupOn:We,setIsLoadingUseTemplate:qe}=me;const Tt=Object(u.useDispatch)(),ot=Object(x.a)(),Lt=Object(es.a)(),O=N==null?void 0:N.id,T=Object(f.default)("p-quip_flexpane__share_button",{margin_left_50:!Object(p.Yb)(N)}),Q=Object(i.c)(Ne=>Object(c.d)(Ne,"canvas_user_created_templates",!1)==="on")?ps.t("There was a problem converting the canvas to a template. Try again in a few minutes."):"",le=Object(n.useCallback)(Object(gt.coroutine)(function*(){qe==null||qe(!0),ot.track(U.EventId.QUIP_CANVAS_TEMPLATES,{contexts:{ui_context:{action:U.UiAction.CLICK,ui_step:"use_template_action_items"}},canvas_type:"standalone",canvas_template_type:Be?"canned":"custom",...Be&&(N!=null&&N.template_name)?{canvas_template_label:N==null?void 0:N.template_name}:{},file_id:O});try{yield Us(he),yield Tt(Object(hs.a)({templateFileId:O,isStandaloneCanvas:!0})),ze&&We&&ze(!0)}catch(Ne){Lt.error(new Error(Ne));const be={name:"warning"};Tt(Object(Vt.a)({element:t.a.createElement(No.a,{message:Q,svgIconProps:be})}))}finally{qe==null||qe(!1)}}),[qe,ot,Be,N==null?void 0:N.template_name,O,he,Tt,ze,We,Lt,Q]);return t.a.createElement(G.a,{size:"small",onClick:le,"aria-label":ps.t("Use template"),className:T,ref:fe,type:"outline","data-qa":"use_template"},t.a.createElement("span",null,ps.t("Use template")))},"UseTemplateButton");vs.displayName="UseTemplateButton";var Do=vs,mo=e("ME/4"),Bs=e("J4K5");function Dn(){return Dn=Object.assign||function(me){for(var N=1;N<arguments.length;N++){var fe=arguments[N];for(var he in fe)Object.prototype.hasOwnProperty.call(fe,he)&&(me[he]=fe[he])}return me},Dn.apply(this,arguments)}o(Dn,"quip_action_items_extends");const va=new R.b("slack-docs"),Ws=310;var Pn;(function(me){me.VIEW_ONLY="view-only",me.SHARE="share",me.OVERFLOW="overflow",me.COMMENT_STREAM="comment_stream",me.OPEN_IN_NEW_WINDOW="open-in-new-window",me.USE_TEMPLATE="use-template",me.EDIT_TEMPLATE="edit-template"})(Pn||(Pn={}));const ts=o(me=>{let{fileId:N,fromPrimaryView:fe,shouldTruncate:he,onCommentStreamClick:Be,onEditTemplate:ze,isTemplateInEditMode:We,setIsTemplateInEditMode:qe,columnWidth:Tt,docEmbed:ot,lastReadTs:Lt,setIsLoadingUseTemplate:O,titleRef:T}=me;const y=Object(u.useDispatch)(),Q=Object(n.useCallback)(()=>y(Object(M.b)({fileId:N,isStackable:!0})),[y,N]),le=Object(i.c)(Xe=>Object(b.e)(Xe,N)),Ne=Object(i.c)(Xe=>Object(p.yb)(le,Xe)),be=Object(i.c)(Xe=>Object(p.xb)(le,Xe)),{isChannelSpace:ie,spaceIsEmpty:Ce}=Object(z.a)({fileId:N}),[st,et]=Object(n.useState)(!1),Et=Object(x.a)(),ut=Object(i.c)(Te.a),tt=Object(i.c)(Ln.n),_t=Object(i.c)(C.l),It=Object(i.c)(Xe=>Object(c.d)(Xe,"canvas_header_image")==="on"),Jt=Object(i.c)(Xe=>Object(c.d)(Xe,"canvas_collection_prototype")==="on"),wt=Object(i.c)(Xe=>Object(c.d)(Xe,"canvas_printing")==="on"),hn=Object(i.c)(Xe=>Object(c.d)(Xe,"chanvas_updates_to_channel")==="on"),ja=Object(i.c)(Xe=>Object(At.b)(Xe,N)),Ba=Object(i.c)(pa.a),rn=Object(i.c)(Xe=>Object(ne.d)(Xe,le.linked_channel_id)),{windowId:Ja,activeTab:Ea,closeView:Za}=Object(n.useContext)(zt.a),Zt=Object(_.b)(Ja.toString()),Wa=Object(i.c)(A.g),Aa=Object(ee.H)(Wa),Xa=Object(i.c)(g.i),On=Object(p.N)(le,Xa,""),Ha=le==null?void 0:le.user_team,St=Object(i.c)(Xe=>Ha?Object(A.s)(Xe,Ha):null);var bn;const $t=((bn=Object(ee.k)(St??void 0))!==null&&bn!==void 0?bn:Ha)!==Xa,{isChildWindow:ln,container:Fs,view:Va}=Object(n.useContext)(zt.a),{window:Vn}=Object(n.useContext)(xe.a),gs=Object(n.useRef)(null);let Gn=Pn.SHARE,Cn;Object(n.useEffect)(()=>{if(st)return;let Xe=!0;return y(Object(ha.d)({fileId:N,reason:"quip-action-item-file"})).finally(()=>{Xe&&et(!0)}),()=>{Xe=!1}},[st,N,y]),Object(n.useEffect)(()=>{Jt&&y(Object(Rs.a)())},[y,Jt]);const Ks=Aa&&fe,Es=le&&!!le.access&&!Object(p.Yb)(le),as=o(()=>le&&Ne&&!Aa&&!$t,"shouldShowUseTemplateButton");Es?Gn=Pn.VIEW_ONLY:as()&&(Gn=Pn.USE_TEMPLATE);const Os=Object(i.c)(Xe=>Object(p.Y)(le).filter(fa=>{const cn=Object(ne.d)(Xe,fa);return Object(oo.k)(cn)}).length>0),Tn=o(()=>{if(Ks)return null;const fa=!Object(p.D)(le).filter(cn=>cn.user_id!==le.user).length&&!Object(p.Z)(le).length&&!Os&&!Object(p.hb)(le)&&!Object(p.Cb)(le);return t.a.createElement(G.f,{size:"small",onClick:Q,"aria-label":va.t("Share"),className:"p-quip_flexpane__share_button","aria-description":fa?va.t("Private to only you"):null,ref:Gn===Pn.SHARE?gs:null,type:"outline","data-qa":"share_file"},fa&&t.a.createElement(l.a,{name:"lock",size:"16",inline:!0}),t.a.createElement("span",{className:Object(f.default)({margin_left_25:fa})},va.t("Share")))},"renderSharePrimaryButton");Tn.displayName="renderSharePrimaryButton";const ks=o(()=>{const Xe=Object(p.Yb)(le);return!_t||We||!as()||!Xe?null:t.a.createElement(G.f,{size:"small",onClick:ze,"aria-label":va.t("Edit template"),className:"p-quip_flexpane__share_button",ref:Gn===Pn.EDIT_TEMPLATE?gs:null,type:"outline","data-qa":"edit_template"},t.a.createElement("span",null,va.t("Edit template")))},"renderEditTemplateButton");ks.displayName="renderEditTemplateButton";const xn=o(()=>!Es||as()?null:t.a.createElement(yt,{fileId:N,className:"margin_right_50 margin_left_50",ref:Gn===Pn.VIEW_ONLY?gs:null}),"renderViewOnlyButton");xn.displayName="renderViewOnlyButton";const Hs=o(()=>t.a.createElement(Ns,{className:"margin_right_75",fileId:N}),"renderPresence");Hs.displayName="renderPresence";const Ro=jo(N),Vs=o(()=>be||!Ro||Ks?null:t.a.createElement(Ds.a,{fileId:N,className:"margin_right_125"}),"renderLastUpdatedText");Vs.displayName="renderLastUpdatedText";const ho=o(()=>{const Xe=!!xn();return!ie||Xe||Ce||Zt?null:t.a.createElement(Ds.a,{className:"p-quip_flexpane__channel_canvas_last_updated",fileId:N,showEditors:!!Tt&&Tt>Ws,editorAvatarSize:16,shouldTruncate:!0,shouldOpenVersionHistory:!0,onlyShowIfRecent:!0})},"renderChannelCanvasLastUpdated");ho.displayName="renderChannelCanvasLastUpdated";const Lo=Object(n.useCallback)(()=>{Et.track(U.EventId.QUIP_DOC_OPEN,{contexts:{ui_context:{ui_properties:{element_name:"popout_window"},ui_component_name:U.UiComponentName.QUIP_NEW_WINDOW_EMBED,ui_step:U.UiStep.QUIP_OPEN_STEP},core:{quip_file_id:N,file_id:N}}})},[N,Et]),Gs=o(()=>!ut||!Object(Te.b)()?null:!tt||ln&&!Zt||ie?!1:t.a.createElement(re.a,{view:Object(L.h)({id:N}),containerOrigin:"primary",onOpen:Lo,size:"small"}),"renderOpenInNewWindowButton");Gs.displayName="renderOpenInNewWindowButton";const xt=Object(n.useCallback)(()=>{Za&&Za()},[Za]),ws=o(()=>{var Xe,fa;const cn=va.t("Close",{fallbackHash:"a61d76800617da013fea727ad237bb7942e1601c",fallbackHashNs:"view-header"});return(Va==null||(Xe=Va.params)===null||Xe===void 0||(fa=Xe.clogParams)===null||fa===void 0?void 0:fa.source)===na.a.OPEN_DOC_FROM_LIST||Za&&Fs===tn.i.Primary&&Ea===tn.d.Search?t.a.createElement(Fe.d,{tip:cn,position:"bottom-right",delay:Fe.a,hideFromScreenReader:!0},t.a.createElement(mt.a,{onClick:xt,"aria-label":cn},t.a.createElement(l.a,{name:"close",size:"18"}))):null},"renderCloseViewButton");ws.displayName="renderCloseViewButton";const wn=o(()=>{if(!Jt||Fs===tn.i.Secondary||Zt)return null;const Xe=ja?va.t("Unstar canvas",{fallbackHash:"93e94f724aa0b422a907e5fb9bebd8af63552e18"}):va.t("Add to starred",{fallbackHash:"cb10094b81decc742ca8ff781bba6eccf7dc607e"}),fa=ja?()=>{y(Object(ae.c)({fileId:N})),y(Object(ke.a)({fileId:N,userId:Ba}))}:()=>{y(Object(ae.b)({fileId:N})),y(Object(sn.a)({fileId:N,userId:Ba}))},cn=ja?t.a.createElement(l.a,{name:"star",size:"18",variation:"filled",color:"#F2C744"}):t.a.createElement(l.a,{name:"star",size:"18"});return t.a.createElement(Fe.d,{tip:Xe,position:"bottom-right"},t.a.createElement(mt.a,{size:"small","aria-label":Xe,"data-qa":"quip-overflow-menu",onClick:fa},cn))},"renderFavoriteCanvasButton");wn.displayName="renderFavoriteCanvasButton";const zs=o(()=>{if(!hn)return null;const Xe=va.t("Copy canvas link"),fa=Object(oo.h)(rn)?va.t("DM canvas link copied to clipboard"):va.t("Channel canvas link copied to clipboard"),cn=o(()=>{Object(ma.e)(On),Et.track(U.EventId.CANVAS_CHANNEL_CANVAS_COPY_LINK,{contexts:{core:{quip_file_id:N,file_id:N}}}),y(Object(Vt.a)({element:t.a.createElement(De.a,null,t.a.createElement("span",null,fa))}))},"onClick");return cn.displayName="onClick",t.a.createElement(Fe.d,{tip:Xe,position:"bottom-right"},t.a.createElement(mt.a,{size:"small","aria-label":Xe,"data-qa":"quip-overflow-menu",onClick:cn},t.a.createElement(l.a,{name:"link",size:"18"})))},"renderShareChannelCanvasLink");zs.displayName="renderShareChannelCanvasLink";const Un=Object($n.g)(),xo=o(()=>{It&&ot!=null&&ot.docEditor&&Object($n.c)(ot.docEditor,Un,$n.a.CANVAS_OVERFLOW_MENU)},"onAddHeaderImage"),po=o(()=>{var Xe;It&&(ot==null||(Xe=ot.docEditor)===null||Xe===void 0||Xe.openHeaderImagePicker())},"onReplaceHeaderImage"),vo=o(()=>{It&&ot!=null&&ot.docEditor&&Object($n.f)(ot.docEditor,$n.a.CANVAS_OVERFLOW_MENU)},"onRemoveHeaderImage"),zn=o(()=>{var Xe;It&&(ot==null||(Xe=ot.docEditor)===null||Xe===void 0||Xe.repositionHeaderImage())},"onRepositionHeaderImage"),[ns,Ys]=Object(n.useState)(!1);Object(n.useEffect)(()=>{!ns||!wt||!ot||(y(Object(mo.a)({docEmbed:ot,window:Vn,fileId:N})),Ys(!1))},[ns,wt,y,ot,Vn,N]);const bs=Object(n.useCallback)(()=>{Ys(!0),Et.track(U.EventId.CANVAS_PRINTING,{contexts:{ui_context:{action:U.UiAction.CLICK,ui_step:"print_canvas"}},file_id:N})},[Et,N]);if(Object(d.e)(le)||!Object(p.ac)(le))return null;const Yn={onCommentStreamClick:Be,onAddHeaderImage:xo,onRemoveHeaderImage:vo,onReplaceHeaderImage:po,onRepositionHeaderImage:zn,onPrint:bs,lastReadTs:Lt,docEmbed:ot};return fe&&(Yn.fromPrimaryView=fe),ie?Cn=t.a.createElement(t.a.Fragment,null,ho(),xn(),wn(),zs(),t.a.createElement(Ua,Dn({fileId:N},Yn,{triggerClassName:"p-quip_flexpane__menu_trigger"}))):(Cn=t.a.createElement(t.a.Fragment,null,Vs(),Hs(),xn(),as()&&t.a.createElement(Do,{file:le,editor:ot==null?void 0:ot.docEditor,isCannedTemplate:be,setIsTemplateInEditMode:qe,experimentCanvaseTemplatesViewModeGroupOn:_t,innerRef:Gn===Pn.USE_TEMPLATE?gs:null,setIsLoadingUseTemplate:O}),Tn(),ks(),wn(),Gs(),t.a.createElement(Nn,{fileId:N},t.a.createElement(Ua,Dn({fileId:N},Yn,{triggerClassName:"p-quip_flexpane__menu_trigger"}))),ws()),he&&(Yn.truncatedActions={onShare:Q,hasAccessIndicator:!!xn()},Cn=t.a.createElement(t.a.Fragment,null,t.a.createElement(Nn,{fileId:N},t.a.createElement(Ua,Dn({fileId:N},Yn,{triggerClassName:"p-quip_flexpane__menu_trigger"}))),Gs()))),t.a.createElement("div",{className:Object(f.default)("p-quip_flexpane__action_items",{"p-quip_flexpane__action_items--max-width":!Tt||Tt>Ws,"p-quip_flexpane__action_items--smaller-max-width":Tt&&Tt<=Ws}),ref:T},Cn)},"QuipActionItems");ts.displayName="QuipActionItems";var uo=m.a=Object(v.a)(ts)},j0Mw:function(k,m,e){"use strict";e.d(m,"a",function(){return c});var n=e("mQiU"),t=e("mLC8"),u=e("QKxg"),f=e("q1tI"),i=e.n(f);function c(b){let{visible:M,upToDate:d,remove:g,viewName:_,requiredSync:p}=b;const{activeTab:l,view:C,navigationTraceId:R}=Object(f.useContext)(n.a),L=C==null?void 0:C.viewType;return!l||!L||!R?null:i.a.createElement(u.a,{label:t.a.Navigation,id:R,visible:M,upToDate:d,remove:g,viewName:_,requiredSync:p})}o(c,"TraceNavigation")},"jK/K":function(k,m,e){"use strict";e.d(m,"a",function(){return t});var n=e("Kmpi");const t=o(u=>Object(n.b)(u)?u.isStale:!1,"isViewStale")},k7gI:function(k,m,e){"use strict"},lIpX:function(k,m,e){"use strict";var n=e("q1tI"),t=e.n(n),u=e("/MKj"),f=e("Trx9"),i=e("ktUG"),c=e("zxER"),b=e("f8uM"),M=e("CnKg"),d=e("HKlo"),g=e("0Em0"),_=e("kBd7"),p=e("qMw6"),l=e("2IFS"),C=e("tx5B"),R=e("iODX"),L=e("mQiU"),A=e("RVJP"),ee=e("E3dU"),x=e("uSwR"),U=e("Z6bF"),G=e("nNoG"),re=e("Wn1n"),z=e("gfjo"),v=e("Zbwg"),j=e("HhYj"),I=e("NqZR"),B=e("68qM"),F=e("LK2A"),S=e("RcHn"),J=e("FgD2"),se=e("7ibc"),W=e("Zw6N"),Y=e("iy1k"),ve=e("somW"),de=e("BHdc"),_e=e("D9/R"),Pe=e("m7qY"),ne=e("JcUk"),Z=e("AArn"),te=e("kN6v"),$=e("dmdh"),ye=e("gast"),ge=e("c+5m"),je=e("hBut"),pe=e("l1I1");function Ve(){return Ve=Object.assign||function(Ge){for(var Oe=1;Oe<arguments.length;Oe++){var X=arguments[Oe];for(var V in X)Object.prototype.hasOwnProperty.call(X,V)&&(Ge[V]=X[V])}return Ge},Ve.apply(this,arguments)}o(Ve,"_extends");function Fe(Ge){let{entityId:Oe,transitionFocusTo:X,hideToolbar:V,uiComponentName:w,refToForward:ue,getCommentsUiProvider:xe,inFlexpane:Ke,versionId:Ye,sequence:it,isTemplateInEditMode:Rt,lastReadTs:Wt,onQuipRender:Ae}=Ge;const $e=Object(u.useDispatch)(),K=Object(c.c)(se.k),[rt,la]=Object(n.useState)(null),[zt,lt]=Object(n.useState)(!1),[Ue,Sa]=Object(n.useState)(!1),[$a,wa]=Object(n.useState)(!1),[Ma,Ia]=Object(n.useState)(!0),[dn,nn]=Object(n.useState)(!1),[ya,za]=Object(n.useState)(!1),[Na,pn]=Object(n.useState)(!1),[Yt,Ya]=Object(n.useState)(null),{fileIdOrQuipThreadId:qa}=Object(M.i)(Oe),{channelId:Ht,isChannelSpace:Xt,isDeletedChannelCanvas:Da}=Object(g.a)({fileId:qa}),Ft=Object(c.c)(re.a),ba=Object(c.c)(ct=>Ht?Object(ee.d)(ct,Ht):Object(v.a)(Ft)?Object(ee.d)(ct,Ft):null),Ra=Object(U.a)(ba),Ca=Ra==null?void 0:Ra.fileId,{channelCanvasHasContent:At,isLoaded:sn}=Object(S.a)({channelId:Ht}),ke=Object(n.useContext)(Z.a),ae=Object(te.a)(Yt==null?void 0:Yt.textSectionOverlayShowing),Te=Object(c.c)(ct=>Object($.e)(ct,qa)),De=Object(c.c)(ye.a),[Qe,Vt]=Object(n.useState)(null),[ha,aa]=Object(n.useState)(null),en=o(ct=>Object.values(J.a).includes(ct),"isCannedTemplateTriggerType");Object(n.useEffect)(()=>{typeof ae=="boolean"&&Ia(ae)},[ae]),Object(Pe.a)(Yt,()=>{Yt&&(At&&lt(!0),wa(!0))}),Object(n.useEffect)(()=>{Xt&&!At&&$a&&!zt&&(Yt==null||Yt.docEditor.focusEditor(),lt(!0))},[Xt,ke,At,$a,zt,Yt]),Object(n.useEffect)(()=>{(Da||sn&&At||Qe)&&la(null)},[sn,At,Da,Qe]);const _n=Object(n.useCallback)(ct=>{if(K&&Ht){ct==null||ct.focusEditor();const pa=Object(ne.a)(Ht);ct==null||ct.insertSlackObject(pa)}},[Ht,K]),Ka=Object(n.useCallback)((ct,pa,Ta)=>{const Qa=ct==null?void 0:ct.docEditor;let fn=pa;K&&pa==="smart-cards"&&(fn=F.TemplateTriggerType.BLANK_PAGE),Qa==null||Qa.insertContentFromTemplate(fn,Ta),X({focusKey:d.c.QUIP_EMBED,forceFocus:!0}),K&&pa==="smart-cards"&&_n(Qa)},[X,_n,K]),ka=Object(n.useCallback)((ct,pa)=>{if(ct===F.TemplateTriggerType.BLANK_PAGE&&Sa(!0),en(ct)){const Ta=De.find(Qa=>Qa.template_name===ct);if(Ta){if(nn(!0),za(!0),!Ca||Object(pe.b)(Ca)){aa({templateTriggerType:ct,templateTriggerOptions:pa});return}$e(Object(W.a)({templateFileId:Ta.id,targetFileId:Ca,isStandaloneCanvas:!1})).finally(()=>{za(!1)})}}else Yt?Ka(Yt,ct,pa):la({templateTriggerType:ct,templateTriggerOptions:pa});Ht&&($e(Object(_e.d)({channelId:Ht,template:ct})),Ia(!1))},[Ht,$e,Yt,De,Ka,Ca]),vn=Object(n.useCallback)(()=>{Vt(Te),za(!0),Ht&&($e(Object(_e.d)({channelId:Ht,template:ge.b.USER_CREATED})),za(!1),Ia(!1))},[Ht,$e,Te]),ga=Object(n.useCallback)(ct=>{Ae&&Ae(ct),Ya(ct),rt&&Ka(ct,rt.templateTriggerType,rt.templateTriggerOptions)},[Ka,rt,Ae]),on=Na&&Xt&&zt&&Ma&&!Ue&&!ya&&!dn;Object(n.useEffect)(()=>{Na&&!Ma&&Ue&&Sa(!1)},[Na,Ue,Ma]),Object(n.useEffect)(()=>{!Ma&&dn&&nn(!1)},[Ma,dn]),Object(B.a)(()=>{pn(Xt&&!At)},[]),Object(n.useEffect)(()=>{Ca&&!Object(pe.b)(Ca)&&ha&&(ka(ha.templateTriggerType,ha.templateTriggerOptions),aa(null))},[Ca,ka,ha]);const{sectionIndex:qt,enableSectionNavigation:La}=Object(I.c)(I.b.EmptyCanvasTemplateOptions,!!Ke),jn=Object(n.useMemo)(()=>{if(on)return t.a.createElement(ve.a,{id:I.a.EmptyCanvasTemplateOptions,index:qt,enableSectionNavigation:La},t.a.createElement(J.b,{onTemplateSelection:ka,channel:ba,fileId:qa,isStandaloneCanvas:!1,onTemplateFromGallerySelection:vn,docEmbed:Yt}))},[ba,qa,vn,ka,on,La,qt,Yt]);return t.a.createElement(t.a.Fragment,null,jn,ya&&t.a.createElement(je.a,null),!ya&&t.a.createElement("div",{className:Object(de.default)("p-quip_embed_channel_canvas",{"p-quip_embed_channel_canvas--hidden-embedded-border":K})},t.a.createElement(f.a,{uiComponentName:w},t.a.createElement(Y.a,{ref:ue,entityId:Oe,hideToolbar:V,getCommentsUiProvider:xe,onQuipRender:ga,inFlexpane:Ke,versionId:Ye,sequence:it,isFromTypeToStartTemplateOverlayState:Na,isTemplateOverlayShowing:on,isTemplateInEditMode:Rt,lastReadTs:Wt}))))}o(Fe,"QuipEmbedChannelCanvas"),Fe.displayName="QuipEmbedChannelCanvas";var Le=Object(_.a)(t.a.forwardRef((Ge,Oe)=>t.a.createElement(Fe,Ve({refToForward:Oe},Ge)))),He=e("Afkt"),Re=e("EF82"),ht=e("u+Mq"),yt=e("rq2v"),gt=e("uVZW");const pt=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"7njD")));var Dt={spaceName:gt.g.CHANNEL_CANVAS_FOOTER,notifications:{[gt.h.CHANNEL_CANVAS_NUX_FREEMIUM_BANNER]:{component:pt}}},Pt=e("2VFn"),Ot=e("Ccc1"),Kt=e("Tsh7"),ea=e("v7mh"),Nt=e("V4lD"),na=e("E97Y"),sa=e("x6tY"),ma=e("Yauy"),ua=e("/JQq"),ra=e("Tevt"),bt=e("aBhT"),Ct=e("Oeqe"),Ga=e("6inW"),oa=e("WSQ4"),ia=e("rZ8V");const dt=new G.b("slack-docs"),vt=o(Ge=>{let{channelId:Oe}=Ge;const{container:X,isMainWindow:V}=Object(n.useContext)(L.a),{windowId:w}=Object(n.useContext)(oa.a),ue=Object(c.c)(ia.n),xe=Object(c.c)(Ue=>Object(A.d)(Ue,"canvas_new_channel_entity_strings")==="on"),Ke=Object(c.c)(ea.a),{spaceFileId:Ye,spaceIsEmpty:it,isChannelCanvasLocked:Rt}=Object(Nt.a)({channelId:Oe}),Wt=Object(c.c)(Ue=>Object($.e)(Ue,Ye||"")),Ae=Object(c.c)(Ue=>Object(ee.d)(Ue,Oe)),$e=Ae?Object(na.d)(Ae):"",K=Object(ma.C)(Ae)||[],rt=Object(c.c)(Ue=>Object(ma.t)(Ue,Ae)),la=Object(c.c)(Ue=>Object(ua.a)(Ue,Ae)),zt=K.length-1;if(!ue&&V||Ke!==Pt.d.Search&&Rt)return null;let lt=null;if(X===Pt.i.Primary||Object(Ga.b)(w)){if(Object(Ot.b)(Ae))lt=t.a.createElement(Ot.a,{channelId:Oe,truncate:!0});else if(xe){let Ue="";$e==="mpim"&&zt&&(Ue=dt.t("DM with {count} people",{count:zt})),$e==="im"&&(Ue=dt.t("DM with {displayName}",{displayName:rt})),la&&(Ue=dt.t("DM with yourself")),lt=t.a.createElement("div",{className:"p-canvas_inline_channel_entity--permalink__channel_name"},t.a.createElement(bt.a,{lines:1,breakWords:!1},t.a.createElement("span",null,Ue)))}}if(!xe&&it){if($e==="mpim"){const Ue=dt.t("{count} people can edit",{count:zt});lt=t.a.createElement(Kt.d,{tip:rt},t.a.createElement(bt.a,{lines:1,breakWords:!1},t.a.createElement("span",null,Ue)))}if($e==="im"){const Ue=dt.t("2 people can edit");lt=t.a.createElement("div",{className:"p-canvas_inline_channel_entity--permalink__channel_name"},t.a.createElement(bt.a,{lines:1,breakWords:!1},Ue))}la&&(lt=t.a.createElement("div",{className:"p-canvas_inline_channel_entity--permalink__channel_name"},t.a.createElement(bt.a,{lines:1,breakWords:!1},dt.t("For your eyes only"))))}if(lt){let Ue=Object(Ct.a)({channelId:Oe});return Ke===Pt.d.Search&&(Ue=Wt?Object(sa.N)(Wt,void 0):Ue),t.a.createElement(ra.a,{className:"p-canvas_inline_channel_entity--permalink",href:Ue},t.a.createElement(bt.a,{lines:1,breakWords:!1},lt))}return null},"CanvasInlineChannelEntity");vt.displayName="CanvasInlineChannelEntity";var kt=vt,ta=e("X1Cl");function Je(){return Je=Object.assign||function(Ge){for(var Oe=1;Oe<arguments.length;Oe++){var X=arguments[Oe];for(var V in X)Object.prototype.hasOwnProperty.call(X,V)&&(Ge[V]=X[V])}return Ge},Je.apply(this,arguments)}o(Je,"quip_channel_canvas_view_extends");const ft=new G.b("slack-docs"),nt=425,jt={display:"contents"},Bt=o(Ge=>{let{id:Oe,isTile:X,transitionFocusTo:V,columnWidth:w,lastReadTs:ue}=Ge;const xe=Object(n.useRef)(null),[Ke,Ye]=Object(n.useState)(null),it=Object(u.useDispatch)(),[Rt,Wt]=Object(n.useState)(!1),{fileIdOrQuipThreadId:Ae}=Object(M.i)(Oe),$e=Object(M.h)({id:Ae}),K=Object(c.c)(At=>Object(A.d)(At,"canvas_new_edits_pill")==="on"),rt=Object(c.c)(At=>Object(A.d)(At,"canvas_header_image")==="on"),la=Object(c.c)(ia.n),zt=Object(b.a)(Oe),{isChannelSpace:lt,channelId:Ue}=Object(g.a)({fileId:Ae}),{windowId:Sa,getSiblingView:$a}=Object(n.useContext)(L.a),wa=Object(c.c)(re.a),Ma=Object(c.c)(At=>{var sn;return(sn=$a(At,{container:Pt.i.Primary}))===null||sn===void 0?void 0:sn.id}),Ia=la?Ma:wa,dn=Object(c.c)(At=>Ue?Object(ee.d)(At,Ue):Object(v.a)(Ia)?Object(ee.d)(At,Ia):null),nn=Object(U.a)(dn),{isLinkedCanvasDeleted:ya}=nn,za=lt||ya,Na=Ue?Object(x.a)(Ue,Sa):void 0,{enableSectionNavigation:pn,sectionIndex:Yt}=Object(I.c)(I.b.Header,!0),{sectionIndex:Ya}=Object(I.c)(I.b.Banner,!0),qa=Object(n.useCallback)(At=>new He.a({...At,shouldIncludeBack:!0}),[]),Ht=Object(n.useCallback)(()=>it(Object(ht.b)({uiState:{reason:Re.a.ShowDocFlexpane},params:{entityId:$e}})),[it,$e]);if(!za)return null;const Xt=o(()=>Ue?t.a.createElement(kt,{channelId:Ue}):null,"renderSubtitle");Xt.displayName="renderSubtitle";const Da=Object(z.a)(),Ft=o(()=>t.a.createElement("div",{className:"p-quip_flexpane--quip_canvas_sideview__body"},ya?t.a.createElement(f.a,{uiComponentName:i.UiComponentName.QUIP_HARD_DELETED_CHANNEL_CANVAS},t.a.createElement(j.a,{file:Da,isChannelLinkedCanvasDeleted:ya})):t.a.createElement(Le,{entityId:Oe,hideToolbar:!Rt,uiComponentName:X?i.UiComponentName.QUIP_TILE_EMBED:i.UiComponentName.QUIP_FLEXPANE_EMBED,onQuipRender:K||rt?At=>Ye(At):void 0,getCommentsUiProvider:qa,inFlexpane:!0,lastReadTs:ue})),"renderBody");Ft.displayName="renderBody";const ba=o(()=>t.a.createElement(R.a,{id:Oe,shouldTruncate:!!w&&w<nt,columnWidth:w,docEmbed:Ke,lastReadTs:ue}),"renderActionIcons");ba.displayName="renderActionIcons";const Ra={quipEntityId:$e,viewIdForTileContents:p.a.DOCS,viewParamsForTileContents:{quipDocId:$e},afterFlexpaneClosed:()=>{var At;(At=xe.current)===null||At===void 0||At.track({action:i.UiAction.CLICK}),V({focusKey:d.c.MESSAGE_PANE_MESSAGE_INPUT,forceFocus:!0})},sectionNavigationProps:{id:"QuipHeaderView",index:Yt,enableSectionNavigation:pn}},Ca=t.a.createElement(ve.a,{id:I.a.Footer,index:Ya,enableSectionNavigation:!0},t.a.createElement(yt.c,Je({},Dt)));return t.a.createElement("div",{style:jt,onFocus:()=>Wt(!0),onBlur:()=>Wt(!1)},t.a.createElement(f.a,{eventId:i.EventId.QUIP_CHANNEL_SPACE_CLOSE,clogImpression:!1,channelId:Ue||"",trackClogRef:At=>{xe.current={track:At}}},t.a.createElement(C.a,{id:Na,focusKey:d.c.QUIP_DOCS,dataQa:"quip_flexpane",className:"p-quip_flexpane p-quip_flexpane--quip_canvas_sideview","aria-label":`${zt}, ${ft.t("Channel canvas")}`,bodyContent:Ft(),titleContent:ft.t("Canvas"),footerContent:Ca,footerClassName:"p-quip_flexpane__megaphone_footer",additionalButtonsContent:ba(),viewId:p.a.DOCS,subtitleContent:Xt(),headerProps:Ra,focus:Ht,footerTabIndex:0})))},"QuipFlexpane");Bt.displayName="QuipFlexpane";var Ee=m.a=Object(_.a)(Object(l.b)(Bt))},mpbA:function(k,m,e){"use strict";e.d(m,"a",function(){return c});var n=e("SQ0V"),t=e("Yi49"),u=e("8gAR"),f=e("3bak"),i=e("u2ZK");const c=Object(n.c)("Fetches the details of the pending shared channel invite",(b,M,d)=>b(Object(i.a)(d)).then(g=>{var _;const p=g.invite,{channel:l,inviting_user:C,inviting_team:R}=p,L=(_=p.visibility)===null||_===void 0?void 0:_.team;if(L&&L.id!==p.inviting_team.id){const A={id:L.id,name:L.name,enterprise_id:p.inviting_team.id};b(Object(t.a)({team:A,isExternal:!0}))}return b(Object(u.a)({channels:[l]})),b(Object(f.a)({members:[C]})),b(Object(t.a)({team:R,isExternal:!0})),g}));c.meta={name:"createThunk",key:"createThunkgetSharedInviteInfo",description:"Fetches the details of the pending shared channel invite"}},nMOw:function(k,m,e){k.exports=e.p+"nfx-welcome-modal-de-DE-02c7477.gif"},nZ5K:function(k,m,e){"use strict";e.r(m),e.d(m,"BaseThreeDaysLeftTrialBanner",function(){return z});var n=e("q1tI"),t=e.n(n),u=e("Cfcg"),f=e("ifKl"),i=e("nNoG"),c=e("ktUG"),b=e("G0eX"),M=e("beVI"),d=e("ohbk"),g=e("uVZW"),_=e("/0Xg"),p=e("TiPP"),l=e("Trx9"),C=e("Sid4"),R=e("vDCl"),L=e("I0j/"),A=e("37+L"),ee=e("BfA7"),x=e("UmHn"),U=e("JSZ7");const G=new i.b("trial_expiration_banners"),re={notification:g.h.TRIAL_THREE_DAYS_LEFT};let z=o(class extends n.PureComponent{getButtonProps(){const{isAdmin:B,isTeamOnStandardPlan:F,goToPaidBenefitsPage:S,navigateToPaidBenefitsPage:J,shouldUseNavigate:se,upgradeActionUrl:W}=this.props,Y=G.t("Upgrade Now"),ve=G.t("Learn More"),de=W,_e=F?void 0:Object(_.w)({planLevel:_.k.plus.id}),Pe=f.a,Z=F?se?J:S:f.a,te={elementName:"upgrade_now"},$={elementName:"find_out_more"},ye=!1,ge=!0;return B?{primaryCTAText:Y,primaryCTAHref:de,onPrimaryCTAClick:Pe,primaryCTAClogProps:te,closeOnPrimaryCTAClick:ye,secondaryCTAText:ve,secondaryCTAHref:_e,onSecondaryCTAClick:Z,secondaryCTAClogProps:$,closeOnSecondaryCTAClick:ge}:{primaryCTAText:ve,primaryCTAHref:_e,onPrimaryCTAClick:Z,primaryCTAClogProps:$,closeOnPrimaryCTAClick:ge,secondaryCTAText:Y,secondaryCTAHref:de,onSecondaryCTAClick:Pe,secondaryCTAClogProps:te,closeOnSecondaryCTAClick:ye}}getPropsForPlan(){const{isTeamOnStandardPlan:B,numDaysLeft:F}=this.props;return B?{headingText:F===1?G.t("It\u2019s the last day of your Slack Pro free trial"):G.t("Your trial of Slack Pro ends in {numDaysLeft} days",{numDaysLeft:F}),bodyText:G.t("Add your payment details to keep features like Slack Connect channels, unlimited huddles, and an unlimited message and file history.")}:{headingText:F===1?G.t("It\u2019s the last day of your Slack Business+ free trial"):G.t("Your trial of Slack Business+ ends in {numDaysLeft} days",{numDaysLeft:F}),bodyText:G.t("Add your payment details to keep features like Slack Connect channels, unlimited huddles, SAML-based SSO, and an unlimited message and file history.")}}render(){const{isTeamOnStandardPlan:B}=this.props,{headingText:F,bodyText:S}=this.getPropsForPlan(),{primaryCTAText:J,primaryCTAHref:se,onPrimaryCTAClick:W,primaryCTAClogProps:Y,secondaryCTAText:ve,closeOnPrimaryCTAClick:de,secondaryCTAHref:_e,onSecondaryCTAClick:Pe,secondaryCTAClogProps:ne,closeOnSecondaryCTAClick:Z}=this.getButtonProps();return t.a.createElement(l.a,{clogImpression:!0,eventId:c.EventId.UPGRDEXP_TRIAL,uiComponentName:c.UiComponentName.TRIAL_THREE_DAY_REMINDER_BANNER,uiComponentVariant:B?"standard_trial":"plus_trial"},t.a.createElement(C.b,{headingText:F,iconType:"clock-o",theme:R.b.LIGHT_PURPLE,bodyText:S,primaryCTAText:J,primaryCTAHref:se,primaryCTAClogProps:Y,onPrimaryCTAClick:W,secondaryCTAClogProps:ne,closeOnPrimaryCTAClick:de,secondaryCTAText:ve,secondaryCTAHref:_e,onSecondaryCTAClick:Pe,closeOnSecondaryCTAClick:Z,notificationPrefs:re,bannerContainerClass:"p-trials_notification"}))}},"ThreeDaysLeftTrialBanner");z.displayName="ThreeDaysLeftTrialBanner";const v=o(I=>{const B=Object(M.g)(I),F=Object(b.K)(B);return{isTeamOnStandardPlan:F,upgradeActionUrl:Object(_.z)(I,{action:_.t.CHECKOUT,productLevel:F?_.k.standard.id:_.k.plus.id})}},"mapStateToProps"),j=o(I=>({goToPaidBenefitsPage:()=>I(Object(d.a)({id:p.a})),navigateToPaidBenefitsPage:()=>I(Object(L.a)(Object(A.R)(x.a.PaidBenefits)))}),"mapDispatchToProps");m.default=Object(ee.a)(Object(u.a)(v,j)(z))},o1uv:function(k,m,e){k.exports=e.p+"best-in-class-msg-limit-day-83-banner-illo-light-122bebf.png"},o9mU:function(k,m,e){k.exports=e.p+"nfx-welcome-modal-en-IN-3551638.gif"},oHyA:function(k,m,e){"use strict";e.d(m,"a",function(){return re});var n=e("q1tI"),t=e.n(n),u=e("/MKj"),f=e("YUBf"),i=e("SQ0V"),c=e("3l96"),b=e("eBYm"),M=e("3K9K"),d=e("nNoG"),g=e("Lgge"),_=e("zxER"),p=e("beVI"),l=e("+kJ4"),C=e("3S9f"),R=e("9+Yh"),L=e("rarT"),A=e("i454"),ee=e("EN2b");function x(){return x=Object.assign||function(v){for(var j=1;j<arguments.length;j++){var I=arguments[j];for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(v[B]=I[B])}return v},x.apply(this,arguments)}o(x,"_extends");const U=new d.b("shared_workspaces"),G=o(v=>{let{id:j}=v;const I=Object(u.useDispatch)(),B=Object(_.c)(p.g),F=Object(n.useCallback)(()=>{I(Object(l.a)())},[I]),[S,J]=Object(n.useState)([]),[se,W]=Object(n.useState)(!1),[Y,ve]=Object(n.useState)(null);var de;const _e=(de=j||(B==null?void 0:B.id))!==null&&de!==void 0?de:"",Pe=Object(_.c)(te=>Object(C.a)(te,_e)),ne=Object(n.useCallback)(()=>{W(!0),ve(null),g.a.all(S.map($=>{var ye,ge;if(!($==null||(ye=$.entity)===null||ye===void 0)&&ye.isEmail){var je;return I(Object(R.a)({reason:"invite-to-shared-workspace",workspaceId:_e,email:$==null||(je=$.entity)===null||je===void 0?void 0:je.id}))}return I(Object(L.a)({reason:"invite-to-shared-workspace",workspaceId:_e,userId:$==null||(ge=$.entity)===null||ge===void 0?void 0:ge.id}))})).then(()=>{I(Object(ee.a)({workspaceId:_e,entities:S}))}).catch($=>ve({name:($==null?void 0:$.name)||null,method:($==null?void 0:$.method)||null})).finally(()=>{W(!1)})},[S,I,_e]),Z=Object(n.useCallback)(te=>{J(te),Y&&S.length>te.length&&ve(null)},[Y,S.length]);return Pe?t.a.createElement(f.a,{isOpen:!0,centered:!0,showCloseButton:!0,shouldCloseOnOverlayClick:!0,closeModal:F},t.a.createElement(f.i,null,t.a.createElement(f.l,{title:U.t("Add people to this shared workspace")})),t.a.createElement(f.d,null,t.a.createElement(f.e,null,Y&&t.a.createElement(A.b,{error:Y}),t.a.createElement("div",{className:"padding_top_50 padding_bottom_50"},t.a.createElement(M.a,{selectedEntities:S,onSelectedItemsChange:Z})))),t.a.createElement(f.g,null,t.a.createElement(f.h,null,t.a.createElement(f.c,{type:"outline",onClick:F},U.t("Close")),t.a.createElement(b.a,{type:"primary",onClick:ne,disabled:S.length===0||!!Y,loading:se},U.t("Add People To This Workspace"))))):null},"InviteToSharedWorkspaceModal");G.displayName="InviteToSharedWorkspaceModal";const re=Object(i.c)("Opens the Slack Connect Workspace Invite Modal",(v,j,I)=>{v(Object(c.a)({element:t.a.createElement(G,x({},I)),isStackable:!1}))});re.meta={name:"createThunk",key:"createThunkopenInviteToSharedWorkspaceModal",description:"Opens the Slack Connect Workspace Invite Modal"};var z=G},"oe+B":function(k,m,e){"use strict";e.r(m),e.d(m,"BaseMobileAwarenessDmPromo",function(){return ne});var n=e("q1tI"),t=e.n(n),u=e("nNoG"),f=e("WIr4"),i=e("Cfcg"),c=e("+tZp"),b=e("qDEp"),M=e("nFQW"),d=e("E3dU"),g=e("xwCZ"),_=e("gVOt"),p=e("XZo2"),l=e("Trx9"),C=e("uVZW"),R=e("eWGC"),L=e("2XL1"),A=e("DEph"),ee=e("z5hj"),x=e("ktUG"),U=e("E97Y"),G=e("kBd7"),re=e("HKlo"),z=e("ifKl"),v=e("/MKj"),j=e("BHdc"),I=e("T1zM"),B=e("Tevt");const F=new u.b("setup_page"),S={action:x.UiAction.CLICK,elementName:"opt_out_dismiss_all",onClick:{enableClogAction:!0}},J=o(ye=>{let{linkClassName:ge,onSkipAllTips:je=z.a}=ye;const pe=Object(v.useDispatch)(),Ve=Object(n.useCallback)(()=>{je(),pe(Object(I.f)({pref:"onboarding_tip_opt_out",value:!0}))},[pe,je]);return t.a.createElement(l.a,{stepVariant:"opt-out",clogImpression:!0},t.a.createElement(B.a,{autoClogProps:S,className:Object(j.default)("p-skip_all_tips__link",ge),"data-qa":"skip_all_tips",onClick:Ve},F.t("Skip all tips")))},"SkipAllTipsLink");J.displayName="SkipAllTipsLink";var se=e("3l96"),W=e("8Wv3"),Y=e("UQe9"),ve=e.n(Y);const de=new u.b("mobile_awareness_dm_promo"),_e={elementName:"submit",action:x.UiAction.OPEN,onClick:{enableClogAction:!0}},Pe={elementName:"close_x",elementType:x.ElementType.X,action:x.UiAction.CLOSE,onClick:{enableClogAction:!0}};let ne=o(class extends n.PureComponent{componentDidUpdate(){if(this.shouldRender()){var ge,je;this.props.recordMegaphoneEvent(C.f.IMPRESSION),(ge=this.mobileAwarenessDmPromoRef)===null||ge===void 0||(je=ge.current)===null||je===void 0||je.focus()}}componentDidMount(){this.shouldRender()&&this.props.recordMegaphoneEvent(C.f.IMPRESSION)}shouldRender(){const{channelId:ge,channelIsIm:je,mobileAwarenessDmPromoChannelId:pe}=this.props;return!(!je||ge!==pe)}openDownloadMobileAppModal(){const{sendFallbackEmail:ge,openModal:je,dismissPromo:pe}=this.props;je({element:t.a.createElement(W.a,{eventId:x.EventId.EDUCATION_MOBILE_AWARENESS_DM_PROMO})}),ge({reason:ee.b.TRIGGER_MOBILE_FALLBACK_EMAIL,eventHandler:ee.a.MOBILE_PROMO_FALLBACK_EVENT_HANDLER,subtype:ee.c.MOBILE_AWARENESS_DIRECT_MESSAGE_PROMO}),pe()}handleDismiss(){const{recordMegaphoneEvent:ge,dismissPromo:je,transitionFocusTo:pe}=this.props;ge(C.f.DISMISS),je(),pe({focusKey:re.c.MESSAGE_PANE_MESSAGE_INPUT})}render(){const{offlineMemberName:ge}=this.props;if(!this.shouldRender())return null;const je=de.t("Hands holding a mobile phone"),pe=de.t("Stay connected, on the go"),Ve=de.rt("It looks like {offlineMemberName} is away right now. Get a ping as soon as they respond \u2014 no matter where you are \u2014 with the Slack mobile app.",{offlineMemberName:ge}),Fe=de.t("Get Slack for Mobile");return t.a.createElement(l.a,{eventId:x.EventId.EDUCATION_MOBILE_AWARENESS_DM_PROMO,uiStep:x.UiStep.DOWNLOAD_MOBILE_DM_PROMO,clogImpression:!0},t.a.createElement("div",{className:"p-mobile_awareness_dm_promo","data-qa":"mobile-awareness-dm_promo__banner"},t.a.createElement("img",{alt:je,src:ve.a}),t.a.createElement("div",{className:"p-mobile_awareness_dm_promo__copy"},t.a.createElement("h3",null,pe),t.a.createElement("p",null,Ve),t.a.createElement(b.f,{"data-qa":"mobile-awareness-dm__download",onClick:this.openDownloadMobileAppModal,autoClogProps:_e,ref:this.mobileAwarenessDmPromoRef},Fe),t.a.createElement(J,{onSkipAllTips:this.handleDismiss})),t.a.createElement(M.a,{"data-qa":"mobile-awareness-dm__x-dismiss","aria-label":de.t("Close",{fallbackHash:"58c4b41d2ebda1fea125db2cfbbf5c2e1db07152",fallbackHashNs:"download_ssb_banner"}),autoClogProps:Pe,icon:"times",className:"p-mobile_awareness_dm_promo__close",onClick:this.handleDismiss})))}constructor(ge){super(ge),this.mobileAwarenessDmPromoRef=t.a.createRef(),Object(f.a)(this,["openDownloadMobileAppModal","handleDismiss"])}},"MobileAwarenessDmPromo");ne.displayName="MobileAwarenessDmPromo";const Z=o((ye,ge)=>{let{channelId:je}=ge;const pe=Object(d.d)(ye,je),Ve=Object(_.a)(pe),Fe=Object(g.g)(ye,Ve),Le=Object(p.n)(ye),He=Object(c.a)(ye,Fe),Re=pe&&Object(U.g)(pe);return{offlineMemberName:He,mobileAwarenessDmPromoChannelId:Le,channelIsIm:Re}},"mapStateToProps"),te=o(ye=>({recordMegaphoneEvent:ge=>ye(Object(R.b)({notificationName:C.h.MOBILE_AWARENESS_DIRECT_MESSAGE_PROMO,action:ge})),dismissPromo:()=>ye(Object(L.r)("not a channel")),sendFallbackEmail:function(){for(var ge=arguments.length,je=new Array(ge),pe=0;pe<ge;pe++)je[pe]=arguments[pe];return ye(Object(A.a)(...je))},openModal:function(){for(var ge=arguments.length,je=new Array(ge),pe=0;pe<ge;pe++)je[pe]=arguments[pe];return ye(Object(se.a)(...je))}}),"mapDispatchToProps");var $=m.default=Object(i.a)(Z,te)(Object(G.a)(ne))},py4k:function(k,m,e){"use strict";var n=e("1wEm"),t=e("bPB8"),u=e("zmn3"),f=e("CpTu"),i=e("vPIQ"),c=e("qAkX"),b=e("fujP"),M=e("Cfcg"),d=e("G4qV"),g=e("EsgF"),_=e("i5Ig"),p=e("Pw4T"),l=e("s4P+"),C=e("5IZy"),R=e("RVJP"),L=e("XZo2"),A=e("ZqOP"),ee=e("60Ys"),x=e("jB41"),U=e("2XL1"),G=e("3mmX"),re=e("SQ0V"),z=e("RV0M"),v=e("QKJg"),j=e("2VFn");const I=Object(re.c)("clear the highlight timestamp from the redux store",(h,a,s,r)=>{let{channelId:E,container:D}=s;const{container:P,windowId:H,activeTab:q,shouldUseNavigate:oe}=r(z.a);if(oe){if(!E||!P||P!==D)return;H===j.c?h(Object(v.h)({windowId:j.c,tab:q,container:P,uiState:{[E]:{highlightTs:null,highlightLazy:null}}})):h(Object(v.h)({windowId:H,container:P,uiState:{[E]:{highlightTs:null,highlightLazy:null}}}));return}h(Object(U.b)())});I.meta={name:"createThunk",key:"createThunkclearMessagePaneHighlightTs",description:"clear the highlight timestamp from the redux store"};var B=I,F=e("Xf7J"),S=e("NK7x"),J=e("6CnZ"),se=e("S1JE"),W=e("B1/X"),Y=e("E3dU"),ve=e("UIhb"),de=e("ciPa"),_e=e("9Gfp"),Pe=e("Wn1n"),ne=e("JGaU"),Z=e("W/Or"),te=e("HPAj"),$=e("34VX"),ye=e("I27i"),ge=e("W29z"),je=e("zm5I"),pe=e("YBS9"),Ve=e("2IFS"),Fe=e("+l5E"),Le=e("9068"),He=e("ivZv"),Re=e("TA7N"),ht=e("B+uu"),yt=e("XXd4"),gt=e("ISSR"),pt=e("vfvl"),mt=e("Yauy"),Dt=e("y/Pn"),Pt=e("G0eX"),Ot=e("beVI"),Kt=e("E97Y");const ea=o((h,a)=>{const s="1612310400";return!!(Object(mt.f)(a)>s&&Object(Dt.a)(a)&&!Object(Kt.h)(a)&&!Object(Dt.b)(a)&&!Object(gt.a)(a)&&!Object(pt.a)(a)&&Object(Pt.K)(Object(Ot.g)(h))&&Object(yt.a)(h,a))},"maybeShowUnfurledJoiners");var Nt=e("BfA7"),na=e("fLNI"),sa=e("ko5w"),ma=e("g05w"),ua=e("pZC0"),ra=e("j7fZ"),bt=e("xcHN"),Ct=e("mzZe"),Ga=e("yxNq"),oa=e("O86Y"),ia=e("GlHf"),dt=e("2um6"),vt=e("ZKjC");const kt=Object(vt.b)((h,a)=>{var s,r;return(h==null||(s=h.channelsMeta)===null||s===void 0||(r=s.convertToPrivateChannel)===null||r===void 0?void 0:r[a])||!1});kt.meta={name:"createSelector",key:"createSelectorgetIsChannelConversionInProgress",description:(h,a)=>{var s,r;return(h==null||(s=h.channelsMeta)===null||s===void 0||(r=s.convertToPrivateChannel)===null||r===void 0?void 0:r[a])||!1}};var ta=e("HJPt");function Je(h){let{state:a,rolledMessages:s,channelId:r,currentUserId:E}=h;const D=Object(i.a)(s,P=>{if(Object(He.a)(a,{ts:P.ts,channelId:r})){const H=Object(Fe.n)(P),q=H&&H.hasLink;return!Object(Fe.eb)(P,E)&&(Object(Fe.Q)(P)||Object(Fe.P)(P)||q)}return!1});return D?D.ts:null}o(Je,"getLatestThreadableMessageTsWithAttachmentOrLink");var ft=e("ccuj");function nt(h){let{rolledMessages:a}=h;const s=Object(i.a)(a,r=>!!Object(ft.a)(r));return s?s.ts:null}o(nt,"getLatestMessageTsWithThread");function jt(h){let{state:a,rolledMessages:s,channelId:r}=h;const E=Object(i.a)(s,D=>Object(He.a)(a,{ts:D.ts,channelId:r}));return E?E.ts:null}o(jt,"getLatestMessageTsEligibleForThread");var Bt=e("USm0");function Ee(h){let{rolledMessages:a,currentUserId:s,teamId:r,experimentRichTextGroupOn:E}=h;const D=Object(i.a)(a,P=>Object(Fe.eb)(P,s)||P.subtype?!1:Object(Bt.a)(P,s,[],r,{ignoreAtHereMentions:!0,ignoreHighlightWords:!0,ignoreAtEveryoneMentions:!0,ignoreAtChannelMentions:!0},E));return D?D.ts:null}o(Ee,"getLatestUserMessageTsWithMention");var Ge=e("6Mvn");function Oe(h){let{state:a,rolledMessages:s,currentUserId:r}=h;const E=Object(i.a)(s,D=>Object(Fe.eb)(D,r)||D.subtype?!1:Object(Ge.a)(a,D));return E?E.ts:null}o(Oe,"getLatestMessageTsEligibleForReaction");var X=e("IaLB"),V=e("v5z3"),w=e("QbPB"),ue=e("qLhO"),xe=e("n0Pp"),Ke=e("ytio"),Ye=e("dmdh"),it=e("tUtw"),Rt=e("4YJR"),Wt=e("Muja"),Ae=e("ifKl"),$e=e("q1tI"),K=e.n($e),rt=e("BHdc"),la=e("mYQK"),zt=e.n(la),lt=e("lhZz"),Ue=e("uVZW");const Sa=K.a.lazy(()=>Promise.resolve().then(e.bind(null,"dELU"))),$a=K.a.lazy(()=>Promise.resolve().then(e.bind(null,"cuvd"))),wa=K.a.lazy(()=>Promise.resolve().then(e.bind(null,"u0ou"))),Ma=K.a.lazy(()=>Promise.resolve().then(e.bind(null,"HPr9"))),Ia=K.a.lazy(()=>Promise.resolve().then(e.bind(null,"J17o"))),dn=K.a.lazy(()=>Promise.resolve().then(e.bind(null,"Zi3E"))),nn=K.a.lazy(()=>Promise.resolve().then(e.bind(null,"oe+B"))),ya=K.a.lazy(()=>Promise.resolve().then(e.bind(null,"ALk5"))),za=K.a.lazy(()=>Promise.resolve().then(e.bind(null,"nZ5K"))),Na=K.a.lazy(()=>Promise.resolve().then(e.bind(null,"XDr/")));var Yt={spaceName:Ue.g.MESSAGE_PANE,notifications:{[Ue.h.EDUCATION_TEAM_DISCOUNT]:{component:Sa},[Ue.h.ESC_TRIAL]:{component:$a},[Ue.h.JAPAN_SEND_BUTTON]:{component:wa},[Ue.h.LOCAL_DISCOUNT_AWARENESS]:{component:Ma},[Ue.h.MESSAGE_LIMIT_APPROACHING]:{component:Ia},[Ue.h.MESSAGE_LIMIT_JUST_REACHED]:{component:dn},[Ue.h.MOBILE_AWARENESS_DIRECT_MESSAGE_PROMO]:{component:nn},[Ue.h.REPACKAGING_ANNOUNCEMENT_BANNER]:{component:ya},[Ue.h.TRIAL_THREE_DAYS_LEFT]:{component:za},[Ue.h.SUPPORT_UPGRADE_DECISION_SHARED_CHANNEL_BANNER]:{component:Na}}};const Ya=K.a.lazy(()=>Promise.resolve().then(e.bind(null,"Y40X")));var qa={spaceName:Ue.g.WELCOME_SPACE,notifications:{[Ue.h.IA4_NFX_EDUCATION]:{component:Ya}}},Ht=e("DmfU"),Xt=e("tstp"),Da=e("SpyO"),Ft=e("rCFu"),ba=e("uKXT"),Ra=e("U28S");const Ca=100,At=1e3,sn=300,ke=1e3,ae=500,Te=60;let De=o(class{isEnabled(){return this.isEnabledForClientStats()||this.isEnabledForPRQMetrics()}rafHandler(){this.isEnabledForClientStats()&&this.rafHandlerForClientStats(),this.isEnabledForPRQMetrics()&&this.rafHandlerForPRQMetrics(),this.isEnabled()&&window.requestAnimationFrame(this.rafHandler)}resetCountersForClientStats(){this.beachballs=0,this.frameRates=[],this.stutters=0,this.lastRafHandlerTimeForClientStats=window.performance.now(),this.fpsIndex=0,this.fpsStartTime=null}rafHandlerForClientStats(){if(!this.isEnabledForClientStats())return;const a=window.performance.now(),s=a-this.lastRafHandlerTimeForClientStats;if(this.lastRafHandlerTimeForClientStats=a,s>At?(this.beachballs+=1,this.beachballsTotal+=1):s>Ca&&(this.stutters+=1,this.stuttersTotal+=1),this.fpsIndex===0&&(this.fpsStartTime=a),this.fpsIndex+=1,this.fpsIndex===sn){const r=(a-this.fpsStartTime)/1e3,E=Math.floor(this.fpsIndex/r);this.fpsIndex=0,this.frameRates.push(E)}}startClientStats(){this.isEnabled()||window.requestAnimationFrame(this.rafHandler),this.enabledForClientStats=!0,this.resetCountersForClientStats()}stopClientStats(){this.enabledForClientStats=!1}storeClientStats(){const a=Object(p.a)();if(a.count("stutters",this.stutters),a.count("beachballs",this.beachballs),!Object(b.a)(this.frameRates)){const s=Object(ba.a)(this.frameRates);let r;const E=this.frameRates.sort(),D=Math.floor(E.length/2);E.length%2===1?r=E[D]:r=(E[D-1]+E[D])/2,a.store("fps_min",s),a.store("fps_median",r)}this.stutters=void 0,this.beachballs=void 0,this.frameRates=void 0}isEnabledForClientStats(){return!!this.enabledForClientStats}getTotalBeachballCount(){return this.beachballsTotal}getTotalStutterCount(){return this.stuttersTotal}resetCountersForPRQMetrics(){this.histJankyWindows={},this.histFrameRenderTime={},this.durationMs=0,this.lastRafHandlerTimeForPRQMetrics=void 0,this.nextJankyWindowSampleIntervalNumber=1,this.framesInPreviousJankyWindowSample=0,this.framesInCurrentJankyWindowSample=0}recordJankyWindows(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(s<1)return;const r=Math.max(Te-a,0);this.histJankyWindows[r]=(this.histJankyWindows[r]||0)+s}sampleJankyWindows(){const a=Object(Ra.d)(this.durationMs,9)>ae*this.nextJankyWindowSampleIntervalNumber,s=Math.floor(this.durationMs/ae),r=s-this.nextJankyWindowSampleIntervalNumber;a&&(this.durationMs>=ke&&(this.recordJankyWindows(0,r-1),this.recordJankyWindows(this.framesInCurrentJankyWindowSample,r>0?1:0),this.recordJankyWindows(this.framesInCurrentJankyWindowSample+this.framesInPreviousJankyWindowSample)),this.nextJankyWindowSampleIntervalNumber=s+1,this.framesInPreviousJankyWindowSample=r>0?0:this.framesInCurrentJankyWindowSample,this.framesInCurrentJankyWindowSample=0),this.framesInCurrentJankyWindowSample+=1}rafHandlerForPRQMetrics(){if(!this.isEnabledForPRQMetrics())return;const a=window.performance.now();if(typeof this.lastRafHandlerTimeForPRQMetrics>"u"){this.lastRafHandlerTimeForPRQMetrics=a;return}const s=a-this.lastRafHandlerTimeForPRQMetrics,r=Object(Ra.d)(Math.round(s,0),2);this.histFrameRenderTime[r]=(this.histFrameRenderTime[r]||0)+1,this.lastRafHandlerTimeForPRQMetrics=a,this.durationMs+=s,this.sampleJankyWindows()}startPRQMetrics(){this.isEnabled()||window.requestAnimationFrame(this.rafHandler),this.enabledForPRQMetrics=!0,this.resetCountersForPRQMetrics()}stopPRQMetrics(){this.enabledForPRQMetrics=!1}isEnabledForPRQMetrics(){return!!this.enabledForPRQMetrics}getPRQMetrics(){return{durationMs:Math.round(this.durationMs),histJankyWindows:this.histJankyWindows,histFrameRenderTime:this.histFrameRenderTime}}constructor(){this.enabledForPRQMetrics=!1,this.enabledForClientStats=!1,this.resetCountersForClientStats(),this.resetCountersForPRQMetrics(),this.beachballsTotal=0,this.stuttersTotal=0,this.rafHandler=this.rafHandler.bind(this)}},"ResponsivenessMetrics");De.instance=null;function Qe(){return De.instance===null&&(De.instance=new De),De.instance}o(Qe,"getDefaultInstance");const Vt=Qe().startClientStats.bind(De.instance),ha=Qe().stopClientStats.bind(De.instance),aa=Qe().storeClientStats.bind(De.instance),en=Qe().isEnabledForClientStats.bind(De.instance),_n=Qe().getTotalBeachballCount.bind(De.instance),Ka=Qe().getTotalStutterCount.bind(De.instance),ka=Qe().startPRQMetrics.bind(De.instance),vn=Qe().stopPRQMetrics.bind(De.instance),ga=Qe().isEnabledForPRQMetrics.bind(De.instance),on=Qe().getPRQMetrics.bind(De.instance);var qt=e("ktUG"),La=e("qMw6"),jn=e("AkM1"),ct=e("vJtL"),pa=e("mkut"),Ta=e("F294"),Qa=e("OZf9"),fn=e("yIs4"),mn=e("NFsq"),In=e("Fsnq"),we=e("RQuH"),Qt=e("F2y5"),_a=e("h5+L"),un=e("pHS2"),yn=e("ukIz"),_s=e("UXvI"),Rn=e("hbEN"),is=e("wd/R"),Pa=e.n(is),An=e("oSkh"),Kn=e("NBUf"),Ln=e("rEgV"),ls=e("A/mR"),cs=e("xXOU"),Zn=e("mLC8"),ds=e("j0Mw"),Is=e("QKxg"),Gt=e("haNl"),tn=e("Lgge"),gn=e("KQ0X"),ys=e("LpvA"),To=e("rIJ2"),Sn=e("cqtq"),Me=e("38Ns"),_o=e("HmUJ"),xa=e("WxSN"),Ua=e("nNoG"),kn=e("/0Xg"),ms=e("Trx9"),Ps=e("/qcS"),eo=e("Tevt");const Xn=new Ua.b("message_pane_foreword"),js={onClick:{enableClogAction:!0},elementName:"learn_more",isPrimaryCTA:!0};let En=o(class extends $e.PureComponent{render(){const{clientTheme:a,withBookmarksBar:s}=this.props,r=Object(kn.w)({entryPoint:"limited_history_alert",feature:kn.j.UNLIMITED_MESSAGES}),E=Object(rt.default)("p-message_pane__limited_history_alert",{[`p-message_pane__limited_history_alert--${a}`]:a!=="light","p-message_pane__limited_history_alert--with-bookmarks-bar":s});return K.a.createElement(ms.a,{eventId:qt.EventId.GROWTH_PRICING,uiComponentName:qt.UiComponentName.LIMITED_HISTORY_ALERT,clogImpression:!0},K.a.createElement("div",{className:E},K.a.createElement(Ps.b,{text:":speech_balloon:",emojiSize:Ps.a.MEDIUM,className:"p-message_pane__limited_history_speech_emoji"}),"\xA0",Xn.rt("<b>There\u2019s more to this conversation.</b> To see and search this conversation\u2019s full history, upgrade to one of our paid plans."),"\xA0",K.a.createElement(eo.a,{href:r,target:"_blank",rel:"noopener noreferrer",autoClogProps:js},Xn.t("Learn More"))))}},"LimitedHistoryAlert");En.displayName="LimitedHistoryAlert",En.defaultProps={clientTheme:"light",withBookmarksBar:!1};var As=En,to=e("kumq"),ao=e("ttFx"),wo=e("8HS2"),Io=e("k1/1"),no=e("+RFF"),Ss=e("K7S6"),yo=e("kBd7"),so=e("orxu"),Ms=e("gz6s"),Ns=e("HKlo"),Ds=e("j3hA"),oo=e("7bnc"),Po=e("lo9x"),jo=e("MoKx"),$n=e("LvvF");function Rs(){return Rs=Object.assign||function(h){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(h[r]=s[r])}return h},Rs.apply(this,arguments)}o(Rs,"_extends");let ro=o(class extends $e.Component{markMsgUnread(a){const{channel:s,ts:r}=a;this.props.setUnreadPoint({channelId:s,unreadTs:r})}render(){return K.a.createElement(jo.a,Rs({},this.props,{markMsgUnread:this.markMsgUnread}))}constructor(a){super(a),this.markMsgUnread=this.markMsgUnread.bind(this)}},"MessageWrapper");ro.displayName="MessageWrapper";function Ls(h){return{setUnreadPoint:a=>{let{channelId:s,unreadTs:r}=a;return h(Object(W.a)({channelId:s,unreadTs:r}))}}}o(Ls,"mapDispatchToProps");function io(h,a){return{isSenderHidden:Object($n.b)(h,a.msg.user)}}o(io,"mapStateToProps");var Mn=Object(Po.a)(Object(M.a)(io,Ls)(ro)),us=e("UnJt"),lo=e("JoAr"),Hn=e("FWtP"),Ao=e("Yqz7"),xs=e("kRU7"),So=e("icpA"),qn=e("psHO"),Mo=e("6R8Z"),Nn=e("c+dP"),hs=e("cVbZ"),es=e("YUBf"),No=e("+kJ4");const ps=new Ua.b("message-list");let co=o(class extends $e.Component{onDateChange(a){var s,r,E,D;const P=Pa()(a,"YYYY-MM-DD").format("X");(r=(s=this.props).jumpToTimestamp)===null||r===void 0||r.call(s,P),(D=(E=this.props).closeModal)===null||D===void 0||D.call(E)}render(){const a=this.props.channel&&this.props.channel.created?Pa()(this.props.channel.created,"X").format("YYYY-MM-DD"):void 0;return K.a.createElement(es.a,{maxWidth:358,closeModal:this.props.closeModal,contentLabel:ps.t("Jump to a specific date")},K.a.createElement(es.i,null,K.a.createElement(es.l,{title:ps.t("Jump to a specific date")})),K.a.createElement(es.d,{className:"p-jump_to_date_modal__content"},K.a.createElement(hs.a,{key:"date-picker",disableDatesBefore:a,disableDatesAfter:Pa()().format("YYYY-MM-DD"),onDateChange:this.onDateChange})))}constructor(a){super(a),this.onDateChange=this.onDateChange.bind(this)}},"JumpToDateModal");co.displayName="JumpToDateModal";const Us=o((h,a)=>{let{channelId:s}=a;return{channel:Object(Y.d)(h,s)}},"jump_to_date_modal_mapStateToProps"),vs=o(h=>({closeModal:()=>h(Object(No.a)())}),"jump_to_date_modal_mapDispatchToProps");var Do=Object(M.a)(Us,vs)(co),mo=e("3l96"),Bs=e("ZobM"),Dn=e("3kjJ");const va=new Ua.b("message-list"),Ws="MOST_RECENT";function Pn(h){let{dividerDate:a,channelLatestMessageDate:s,channelCreatedDate:r,channelHasYesterday:E}=h;const D=Pa()(),P=Pa()().subtract(1,"day"),H=Object(Dn.a)(a,P),q=Object(Dn.a)(a,r),oe=Object(Dn.a)(D,s),ce=Object(Dn.a)(s,P),Ie=Pa()().subtract(1,"week").startOf("week"),at=Pa()().subtract(1,"month").startOf("month"),Ze=Pa()(s).isAfter(Ie),Mt=Pa()(s).isAfter(at);let Ut=va.t("Most recent"),Oa=Ws;oe&&(Ut=va.t("Today"),Oa=Pa()().startOf("day").format("X")),ce&&(Oa=Pa()().subtract(1,"days").startOf("day").format("X"),Ut=va.t("Yesterday"));const Fa=[];return Fa.push({label:Ut,timestamp:Oa}),!H&&!ce&&E&&Fa.push({label:va.t("Yesterday"),timestamp:P.startOf("day").format("X")}),Ze&&Fa.push({label:va.t("Last week"),timestamp:Ie.format("X")}),Mt&&Fa.push({label:va.t("Last month"),timestamp:at.format("X")}),q||Fa.push({label:va.t("The very beginning"),timestamp:r.unix().toFixed(6)}),Fa}o(Pn,"dayDividerJumperMenuOptions");function ts(){return ts=Object.assign||function(h){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(h[r]=s[r])}return h},ts.apply(this,arguments)}o(ts,"day_divider_jumper_extends");const uo=new Ua.b("message-list"),me=o(h=>{let{date:a,channelId:s,sticky:r=!0,jumpToTimestamp:E=Ae.a,channelCreatedTime:D,latestMessage:P="",hasYesterday:H,openModal:q=Ae.a,isDisabled:oe}=h;const ce=o(Oa=>{const Fa=Pn({dividerDate:Pa()(a),channelLatestMessageDate:Pa.a.unix(parseInt(P,10)),channelCreatedDate:Pa.a.unix(D),channelHasYesterday:H}),da=[K.a.createElement(Nn.c,{key:"menu-item-header",label:uo.t("Jump to\u2026")})];return Fa.forEach(an=>{da.push(K.a.createElement(Nn.b,{label:an.label,onSelected:()=>{E(an.timestamp)}}))}),K.a.createElement(Nn.f,ts({},Oa),da,K.a.createElement(Nn.d,null),K.a.createElement(Nn.b,{label:uo.t("Jump to a specific date"),onSelected:()=>{q({element:K.a.createElement(Do,{channelId:s,jumpToTimestamp:E})})}}))},"renderMenu");ce.displayName="renderMenu";const Ie=a/1e3,at=Object(lo.a)(Ie,"{day_divider_pretty}"),Ze=Object(rt.default)("c-message_list__day_divider__label","c-message_list__day_divider__label--jump_to_date",{"c-message_list__day_divider__label--non_sticky":!r,"c-message_list__day_divider__label--disabled":oe}),Mt=Object(rt.default)("margin_left_25",{display_none:oe}),Ut=uo.t("Jump to date",{fallbackHash:"288a688737367ddf02810e053e4385e5be1fde70",fallbackHashNs:"classic_nav"});return K.a.createElement("div",{className:Ze,"data-qa":"day-divider-label"},K.a.createElement(Nn.e,{position:"bottom-left",renderMenu:ce,offsetY:5,isDisabled:oe},K.a.createElement(Mo.a,{className:"c-message_list__day_divider__label__pill","aria-label":Ut},at,K.a.createElement("span",{className:Mt},K.a.createElement(Bs.a,{name:"caret-down",inline:!0})))))},"DayDividerJumper");me.displayName="DayDividerJumper";const N=o(h=>({openModal:function(){for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return h(Object(mo.a)(...s))}}),"day_divider_jumper_mapDispatchToProps");var fe=Object(M.a)(null,N)(me),he=e("VS5W"),Be=e("Cr5z"),ze=e("Yv4i"),We=e("QcWC"),qe=e("9MPI"),Tt=e("c1EY"),ot=e("OPL4");const Lt=Object(Hn.a)(function(h){for(var a=arguments.length,s=new Array(a>1?a-1:0),r=1;r<a;r++)s[r-1]=arguments[r];const E=Object(f.a)(s,P=>P.type==="message"&&(P.ts||"")>h);if(E)return E.ts;const D=Object(i.a)(s,P=>P.type==="message"&&(P.ts||"")<h);return D?D.ts:null},2),O=Io.b,T=no.a,y=new Ua.b("message-list"),Q=40,le=28,Ne="MESSAGE-LIST",be=24*60*60*1e3,ie={ABOVE:1,VISIBLE:2,BELOW:3},Ce="0000000000.000001",st=o(h=>`${Math.floor(h/1e3)}.000000`,"formatTimestampForRequest"),et=Object(Hn.a)(h=>h.reduce((a,s)=>{const{ts:r,type:E}=s;return E!=="message"||!r||(a[r]=!0),a},{}));let Et=o(class extends ys.a{getInstantSlackChannelPrefs(){const{channelId:a,experimentAdoptionInstantSlackGroupTreatment:s,isInstantSlackInviteeSession:r,instantSlackChannelPrefs:E,fetchAndUpsertInstantSlackChannelPrefThunk:D}=this.props;(s||r)&&!E&&a&&D(a)}componentDidMount(){const{hasKeyboardFocus:a,highlightTs:s,doneHighlighting:r}=this.props;a&&s&&r&&r(),this.getInstantSlackChannelPrefs()}componentDidUpdate(a){const{channelId:s,timestamps:r}=this.props;r!==a.timestamps&&(this.hasYesterday=this.getHasYesterday()),this.keyToScrollTo&&this.list&&(this.list.scrollToKey(this.keyToScrollTo,{lazy:this.lazyScroll}),this.keyToScrollTo=null),this.maybeFocusOnTimestamp(),this.props.focusRequestedTs&&this.props.setFocusRequestedTs&&this.props.setFocusRequestedTs();const E=this.props.isLoading||this.props.isLoadingOlder;Object(ct.a)(this.onJump)&&!E&&this.props.timestamps&&this.props.timestamps.length&&(this.onJump(),this.onJump=null),!!a.isFileExpanding&&!this.props.isFileExpanding?this.layout.setStickToBottom(!1):this.layout.setStickToBottom(!!(this.props.reachedEnd||this.props.prevReachedEnd)),this.onListScrolled(),s!==a.channelId&&this.props.clearPersistentKeys&&(this.props.clearPersistentKeys(),this.getInstantSlackChannelPrefs()),this.switchingChannels&&s===a.channelId&&(this.switchingChannels=!1)}shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved(){return!this.switchingChannels}getFocusTransitionListeners(a,s){for(var r=arguments.length,E=new Array(r>2?r-2:0),D=2;D<r;D++)E[D-2]=arguments[D];return{[Ns.c.MESSAGE_PANE_MESSAGE_LIST]:P=>{const{id:H}=P||{},{focusNearestSurroundingMessage:q,focusOnlyIfWasRecentlyFocused:oe,ts:ce,focusHistoryState:Ie,focusLastVisibleMessageInView:at,focusMostRecentMessage:Ze}=(P==null?void 0:P.uiState)||{};if(H!==s)return!1;const Mt=(Ie==null?void 0:Ie.lastFocusTs)||ce;return!Mt&&!at&&!Ze||q&&!Lt(Mt,...E)||oe&&Mt!==a.getInitialActiveItem()?!1:(this.transitionFocusToMessage(P),!0)}}}getListProps(a,s,r,E,D,P,H,q,oe,ce,Ie,at,Ze,Mt,Ut){const Oa=this.groupTimestampsByDay(E),Fa=Object(pa.a)(Oa).sort(),da=[],an=[],Zs=[],Xs=this.findTimestampClosestToStartTs(),os=D;let $s=Xs,fo=null;H&&(an.push(Ce),da.push({type:"foreword",ts:Ce}),this.shouldShowLimitedHistoryAlert()&&(an.push("limited_history"),da.push({type:"limited_history"})));const ir=(Object(Ta.a)(E)||"")<=P||H;return Object(Qa.a)(Fa,(go,lr)=>{const Fn=parseInt(go,10),Go=Oa[go],qs=`${go}.${q}`,Jn=ir&&Object(Ta.a)(Go)===os;Jn&&(fo=da.length,r===P&&($s=qs)),da.push({type:"dayDividerLabel",day:Fn,showDayDividerAsUnread:Jn}),oe&&Zs.push({key:qs,index:an.length}),an.push(qs),(lr>0||H||at)&&(da.push({type:"dayDivider",day:Fn,showDayDividerAsUnread:Jn,...Jn&&{firstUnreadTs:os},channelId:q}),an.push(`${go}divider`)),!at&&!Ze&&lr===0&&Ut&&(an.push("loading"),da.push({type:"loading"}));let Eo;Object(Qa.a)(Go,(rs,Oo)=>{if(ir&&Oo!==0&&rs===os){fo=da.length;const Kr="unreadDivider";an.push(Kr),da.push({type:"unread",day:Fn,firstUnreadTs:os,channelId:q}),r===P&&($s=os)}da.push({type:"message",ts:rs,previousMessageTs:Eo,day:{ts:Fn}}),an.push(rs),Eo=rs})}),H&&r&&r<(Object(Ta.a)(E)||"")&&($s=Ce),Mt&&!Ut&&!ce&&!Ie&&(an.push("loadingSpinner"),da.push({type:"loadingSpinner"})),{keys:an,rows:da,stickyItems:Zs,anchor:$s,unreadIndex:fo,firstVisibleUnreadTs:os,startTs:Xs}}getUnrelatedUpdateProps(a,s,r,E,D,P,H){for(var q=arguments.length,oe=new Array(q>7?q-7:0),ce=7;ce<q;ce++)oe[ce-7]=arguments[ce];return{firstVisibleUnreadTs:a,isGhostLastRead:s,highlightTs:r,lastTimestamp:Object(c.a)(oe),reachedEnd:E,isLimited:D,isSlackbotIm:P,useStickyDayDividers:H}}transitionFocusToMessage(a){const{isBannerVisible:s}=this.props,{ts:r,focusHistoryState:E,focusLastVisibleMessageInView:D,focusNearestSurroundingMessage:P,focusMostRecentMessage:H}=(a==null?void 0:a.uiState)||{},q=(E==null?void 0:E.lastFocusTs)||r;if(H){this.scrollToMostRecentMessage(!0);return}if(D){this.list.focusLastItemInView(!0);return}if(P){this.list.focusOnKey(Lt(q,...this.rows));return}const oe=s?this.ANCHOR_OFFSET:0;this.jumpToTimestamp({ts:q,offset:oe,onJump:()=>{this.list.setActiveItem(q),this.list.scrollToKey(q,{lazy:this.lazyScroll})}})}maybeFocusOnTimestamp(){const{timestampToJumpTo:a}=this.state;if(!a)return;const{channelId:s,latest:r,transitionFocusTo:E}=this.props;let D=!1,P=a===r?a:this.getTimestampOfFirstMessageForDay(`${a*1e3}`);P||(P=`${a*1e3}`,D=!0),E&&E({focusKey:Ns.c.MESSAGE_PANE_MESSAGE_LIST,focusMetadata:{id:s,uiState:{ts:P,focusNearestSurroundingMessage:D}}}),this.setState(()=>({timestampToJumpTo:null}))}maybeFocusOnLastVisibleMessage(a){const{focusLastVisibleMessageInChannel:s}=this.props;s&&a.focusLastVisibleMessageInChannel!==s&&(this.list.focusLastItemInView(),this.props.setFocusLastVisibleMessageInChannel(!1))}findTimestampClosestToStartTs(){const{startTs:a,timestamps:s}=this.props;return!s||!s.length?!1:a?Object(f.a)(s,r=>r>=a):null}focus(){this.list.focus()}blur(){this.list.blur()}setListRef(a){this.list=a}jumpToUnread(a){const{lastReadTs:s,firstUnreadTs:r,hasKeyboardFocus:E}=this.props,D=a&&a.type==="keydown"&&E,P=Object(fn.a)(this.unreadIndex)&&this.keys[this.unreadIndex];if(P){D?this.list.focusOnKey(r):this.list.scrollToKey(P);return}this.jumpToTimestamp({ts:s||"",onJump:()=>{this.props.hasKeyboardFocus&&this.list.setActiveItem(this.props.firstUnreadTs)}})}jumpToDate(a){const s=a||this.props.latest;this.jumpToTimestamp({ts:s||"",offset:0,onJump:()=>{this.setState(()=>({timestampToJumpTo:s}))}})}isAtBottom(){if(!this.list)return!1;const a=this.list.getScrollTop(),s=this.layout.getTotalHeight(),r=this.height;return a+r>=Math.floor(s)-(this.STICKY_EPSILON||0)}getUnreadLinePlacement(){var a;if(typeof this.unreadIndex!="number")return this.props.latest&&this.props.lastReadTs&&this.props.lastReadTs>this.props.latest?ie.BELOW:ie.ABOVE;if(!this.list)return ie.ABOVE;let s;((a=this.rows[this.unreadIndex])===null||a===void 0?void 0:a.type)==="dayDividerLabel"&&(s=this.list.getScrollTop()-Q/2);const{start:r,end:E}=this.list.getVisibleRange(s);return this.unreadIndex<r?ie.ABOVE:this.unreadIndex<E?ie.VISIBLE:ie.BELOW}getVisibleRows(a){if(!this.list)return[];const{start:s,end:r}=this.list.getVisibleRange(void 0,a);return this.rows.slice(s,r)}getScrollmarkForFocusedItem(a){const s=a===Ce?(this.props.timestamps||[])[0]:a;return{mark:a,offset:this.layout.getTop(s)-this.list.getScrollTop()}}getScrollmark(a){let{force:s=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.list||!this.layout)return null;const r=this.state.hasKeyboardFocus?this.list.getActiveItem():this.previouslyActiveItem;if(this.previouslyActiveItem=null,r){const{mark:q,offset:oe}=this.getScrollmarkForFocusedItem(r);return Object(l.a)({teamId:this.props.teamId}).info(Ne,`getScrollmark reason:${a} channelId:${this.props.channelId} state.hasKeyboardFocus:${this.state.hasKeyboardFocus} props.hasKeyboardFocus:${this.props.hasKeyboardFocus} initialActiveItem:${r} mark:${q} offset:${oe}`),{mark:q,offset:oe}}const E=this.list.getScrollTop();if(!s&&this.layout.shouldStickToBottom(E))return Object(l.a)({teamId:this.props.teamId}).info(Ne,`getScrollmark reason:${a} channelId:${this.props.channelId} at end`),null;const D=this.props.timestamps,P=this.layout.findAnchor(D||[],D||[],E+this.ANCHOR_OFFSET),H=this.layout.getTop(P||"")-E;return Object(l.a)({teamId:this.props.teamId}).info(Ne,`getScrollmark reason:${a} channelId:${this.props.channelId} mark:${P} offset:${H}`),{mark:P,offset:H}}onScroll(){this.useAnchor=!1,this.layout.setAnchor(!1),this.debouncedOnListScrolled(),this.props.onScroll&&this.props.onScroll()}onSelectionChange(a){this.node&&this.setState(()=>({isSelecting:a}))}isFocusableItem(a){const s=this.rows[a.index];return s?!!{message:!0,foreword:!0,dayDividerLabel:!0,unread:!0}[s.type]:!1}onListScrolled(){const a=this.getVisibleRows(!1),s=this.getVisibleRows(!0);Object(Wt.a)(a,this.visibleRows)&&Object(Wt.a)(s,this.partiallyVisibleRows)||(this.visibleRows=a,this.partiallyVisibleRows=s,this.props.onVisibleRowsChanged&&this.props.onVisibleRowsChanged(a,s))}onShiftPageUp(){const a=this.getTimestampOfPrevDay();if(!a)return;const{hasKeyboardFocus:s}=this.state;if(this.list.isScrolledToTop()&&this.props.reachedStart&&s){this.list.setActiveItem(this.getTimestampOfFirstMessageForDay(a));return}const r=st(a),E=this.props.isBannerVisible?this.ANCHOR_OFFSET:le;this.jumpToTimestamp({ts:r,offset:E,onJump:()=>{const D=this.getTimestampOfFirstMessageForDay(a);s&&this.list.setActiveItem(D),this.list.scrollToKey(D,{lazy:this.lazyScroll})}})}onShiftPageDown(){const a=this.getTimestampOfNextDay();if(!a)return;const{hasKeyboardFocus:s}=this.state;if(this.list.isScrolledToBottom()&&this.props.reachedEnd&&s){this.list.setActiveItem(this.getTimestampOfFirstMessageForDay(a));return}const r=st(a),E=this.props.isBannerVisible?this.ANCHOR_OFFSET:le;this.jumpToTimestamp({ts:r,offset:E,onJump:()=>{const D=this.getTimestampOfFirstMessageForDay(a);s&&this.list.setActiveItem(D),this.list.scrollToKey(D,{lazy:this.lazyScroll})}})}onEnd(){const a=this.state.hasKeyboardFocus;return this.scrollToMostRecentMessage(a),!1}onArrowKeyRight(){const{channelId:a,timestamps:s,blurredMessages:r,dispatchNavigateToThread:E}=this.props,D=this.list.getActiveItem();!D||Object(mn.a)(r,D)||!Object(mn.a)(s,D)||!a||E({channelId:a,ts:D})}onItemArrowKeyDown(a){const s=a.id,r=this.rows[this.rows.length-1];if(!(r&&s===r.ts))return;const{transitionFocusTo:E}=this.props;a.preventDefault(),E&&E({focusKey:Ns.c.MESSAGE_PANE_MESSAGE_INPUT})}onItemEnterKeyDown(a){let{id:s,target:r}=a;const E=this.keys.indexOf(s),D=this.rows[E];if(!(D&&D.type==="dayDividerLabel"))return;const H=r.querySelector("button");H&&(H.focus(),H.click())}onItemContextMenu(a,s,r){let{hasKeyboardFocus:E}=r;const{clogger:D}=this.props;Object(xs.a)(a)&&this.isMessageRow(s)&&(a.preventDefault(),D.track(qt.EventId.MSG_ACTIONS_CONTEXT_MENU,{contexts:{ui_context:{action:qt.UiAction.CONTEXT_MENU,ui_properties:{view_context:La.a.MESSAGE_PANE,client_has_keyboard_focus:E}}}}))}onItemFocusEnter(a){let{id:s}=a;this.props.updateFocusHistoryState({lastFocusTs:s})}renderContextMenuForItem(a,s){const{rollups:r,channelId:E,blurredMessages:D}=this.props,P=r?r[a||""]:void 0,{targetBounds:H,onCloseRequested:q}=s;return Object(mn.a)(D,a)?(q(),null):K.a.createElement(Ao.a,{ts:a,channelId:E||"",messageContainerType:La.a.MESSAGE_PANE,rollup:P,targetBounds:H,onCloseRequested:q})}onItemKeyDown(a){const{key:s}=a;if(s==="ArrowDown"){this.onItemArrowKeyDown(a);return}s==="Enter"&&this.onItemEnterKeyDown(a)}onFocusEnter(a){this.setState(()=>({hasKeyboardFocus:a.isKeyboardFocus}),()=>{this.props.onFocusEnter&&this.props.onFocusEnter(a)})}onFocusLeave(a){this.state.hasKeyboardFocus&&(this.previouslyActiveItem=a.activeItem),this.setState(()=>({hasKeyboardFocus:!1}),()=>{this.props.onFocusLeave&&this.props.onFocusLeave(a)})}onMessageMount(a){Object(Gt.i)(a)}scrollToMostRecentMessage(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{reachedEnd:s,timestamps:r}=this.props,E=s?(r||[])[(r?r.length:0)-1]:"",D=this.rows,P=D[D.length-1];if((P&&P.type)==="foreword"){var q;(q=this.list)===null||q===void 0||q.focusLastItemInView();return}this.jumpToTimestamp({ts:E,onJump:()=>{if(!a)return;const oe=this.rows,ce=oe[oe.length-1];(ce&&ce.type)==="message"&&(this.list.setActiveItem(ce.ts),this.list.scrollToKey(ce.ts,{lazy:this.lazyScroll}))}})}scrollToOffset(){for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];this.list&&this.list.scrollToOffset(...s)}shouldShowLimitedHistoryAlert(){const{isLimited:a,isSlackbotIm:s}=this.props;return a&&s}requestHistory(){let{oldest:a,latest:s}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=this.viewLoadLastChannelId!==this.props.channelId,E=this.props.requestHistory?this.props.requestHistory({oldest:a,latest:s}):tn.a.resolve();E&&r&&(this.viewLoadLastChannelId=this.props.channelId,this.viewLoadFetchStatus=Ft.b,E.tap(()=>{this.viewLoadFetchStatus=Ft.a}).tapCatch(()=>{this.viewLoadFetchStatus=Ft.c}))}requestAround(){if(this.state.isLoading)return!1;if(this.props.reachedEnd)return this.requestOlder();if(this.props.reachedStart)return this.requestNewer();Object(l.a)({teamId:this.props.teamId}).info(Ne,`requestAround channelId: ${this.props.channelId} isLoading: ${this.state.isLoading} timestamps: ${Object(In.a)(this.props.timestamps)} reachedStart: ${this.props.reachedStart} reachedEnd: ${this.props.reachedEnd}`);const{oldest:a,latest:s,timestamps:r,startTs:E}=this.props;if(Object(b.a)(r)&&!E)return this.requestHistory({});const D=a||r&&Object(Ta.a)(r)||E,P=s||r&&Object(c.a)(r)||E,H=this.requestHistory({latest:D,oldest:P});return H&&this.setState(()=>({isLoading:!0,isLoadingOlder:!1})),H}requestOlder(){if(this.state.isLoading)return!1;const{oldest:a,timestamps:s,startTs:r}=this.props,E=a||s&&Object(Ta.a)(s)||r,D=this.requestHistory({latest:E});return D&&this.setState(()=>({isLoading:!0,isLoadingOlder:!0})),D}requestNewer(){if(this.state.isLoading)return!1;const{latest:a,timestamps:s,startTs:r}=this.props,E=a||s&&Object(c.a)(s)||r,D=this.requestHistory({oldest:E});return D&&this.setState(()=>({isLoading:!0,isLoadingOlder:!1})),D}renderMessage(a,s){let{key:r,hasFocus:E,itemId:D,isInView:P,hasContextMenu:H}=s;const{ts:q,previousMessageTs:oe}=a;Object(us.d)(q||"")&&this.props.closeAndReportNotificationReadSpan({timestamp:q||""}),Object(us.d)(q||"")&&this.props.closeAndReportNotificationReadSpan({timestamp:q||""});const ce=Object(c.a)(this.props.timestamps),Ie=!this.props.hasKeyboardFocus&&q&&q===this.props.highlightTs,at=P&&this.props.hasKeyboardFocus,Mt=q&&q===this.props.ariaAnnounceMessageTs&&this.props.makeMessageSummary?this.props.makeMessageSummary({ts:q,channelId:this.props.channelId,hideTimestamp:!0}):null;if(this.scrollMetricsGatheringEnabled){this.messagesRendered[a.ts||""]=!0;const Ut=Object(pa.a)(this.messagesRendered).length;Ut%this.loadingHistoriesPerHowManyMessages===0&&this.debounceBatchMessagesSeen(),Ut%this.loadingHistoriesPerHowManyMessagesHighEnd===0&&this.debounceBatchMessagesSeenHighEnd()}return K.a.createElement(Be.a,{listKey:r||"",setPersistentKey:this.props.setPersistentKey},Ut=>{let{setRowPersistence:Oa}=Ut;return K.a.createElement(Mn,{channelId:this.props.channelId,teamId:this.props.teamId,ts:q,key:q,prevTs:oe,focused:E,renderActionsOffscreen:at,theme:this.props.theme,rollup:this.props.rollups?this.props.rollups[q||""]:void 0,parentId:D,isLast:q===ce,showingContextBar:this.props.showingContextBar,highlight:Ie,clearHighlight:this.props.doneHighlighting,ariaAnnounceText:Mt,clearAriaAnnounceMessageTs:this.props.clearAriaAnnounceMessageTs,onMediaPlaybackInProgressChanged:Oa,onMount:this.onMessageMount,isInView:P,hasContextMenu:H,shouldFadeInOnTrialStart:this.props.unlockMessages,onMessageLimitTrialStart:this.props.onMessageLimitTrialStart})})}renderForeword(){const{canPostInChannel:a,isLimited:s,onMessageLimitTrialStart:r,isFloatingTrialStartBannerVisible:E}=this.props;return K.a.createElement(xa.a,{key:"message-list-foreword",channelType:this.props.channelType,channelId:this.props.channelId||"",clientTheme:this.props.clientTheme,isLimited:s,showUnfurledJoiners:this.props.showUnfurledJoiners,canPostInChannel:a,onMessageLimitTrialStart:r,isFloatingTrialStartBannerVisible:E})}renderRow(a){let{key:s,hasFocus:r,itemId:E,isInView:D,hasContextMenu:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const H=this.rows[a];if(!H||!H.type)return null;switch(H.type){case"message":return this.renderMessage(H,{key:s,hasFocus:r,itemId:E,isInView:D,hasContextMenu:P});case"dayDividerLabel":return K.a.createElement(fe,{key:H.day,date:H.day,sticky:this.props.useStickyDayDividers,channelId:this.props.channelId,jumpToTimestamp:this.jumpToDate,getTimestampOfFirstMessageForDay:this.getTimestampOfFirstMessageForDay,channelCreatedTime:this.props.channelCreatedTime||0,hasYesterday:this.hasYesterday,latestMessage:this.props.latest,isUnread:H.showDayDividerAsUnread});case"dayDivider":return K.a.createElement(qn.a,{key:H.day,date:H.day,isUnread:H.showDayDividerAsUnread,ghost:this.props.isGhostLastRead,unreadMarkerKey:this.props.channelId,unreadTs:H==null?void 0:H.firstUnreadTs,channelId:H.channelId});case"unread":return K.a.createElement(So.a,{key:`unread=${this.props.lastReadTs}`,ghost:this.props.isGhostLastRead,unreadMarkerKey:this.props.channelId});case"loading":return this.debounceCountHistoryLoadSeen(),K.a.createElement(wo.a,{channelId:this.props.channelId||""});case"loadingSpinner":return K.a.createElement(ao.a,null);case"foreword":return this.renderForeword();case"limited_history":var q;return K.a.createElement(As,{clientTheme:this.props.clientTheme,withBookmarksBar:(q=this.props)===null||q===void 0?void 0:q.experimentIaBookmarksHideShowGroupTreatment});default:return null}}getAriaLabelForRow(a){let{index:s,includeDate:r}=a;const{channelId:E,makeMessageSummary:D,hasKeyboardFocus:P}=this.props;if(!P||!D)return;const H=this.rows[s];if(!H||!H.type||H.type!=="message")return;const{ts:q,previousMessageTs:oe,day:ce}=H,Ie=this.props.rollups?this.props.rollups[q]:void 0;return D({channelId:E,ts:q,previousMessageTs:oe,day:ce,rollup:Ie,viewContext:La.a.MESSAGE_PANE,includeDate:r})}isMessageRow(a){return et(this.rows)[a||""]}UNSAFE_componentWillReceiveProps(a){if(a.channelId!==this.props.channelId&&(this.viewLoadFetchStatus=Ft.c),this.setState(s=>a.isLoading===s.isLoading&&a.isLoadingOlder===s.isLoadingOlder?null:(Object(l.a)({teamId:this.props.teamId}).info(Ne,`componentWillReceiveProps isLoading: ${a.isLoading} isLoadingOlder: ${a.isLoadingOlder} timestamps: ${Object(In.a)(a.timestamps)}`),{isLoading:a.isLoading,isLoadingOlder:a.isLoadingOlder})),a.channelId!==this.props.channelId||a.startTs!==this.props.startTs||a.highlightTs&&a.highlightTs!==this.props.highlightTs||(a.timestamps||[]).length&&!(this.props.timestamps||[]).length){this.useAnchor=!0;const s=a.startTs,r=this.props.timestamps,E=a.timestamps,D=Pa.a.unix(this.props.channelCreatedTime||0).unix().toFixed(6);if((Object(we.a)(s,Object(Qt.a)(Object(Ta.a)(r)),Object(_a.a)(Object(c.a)(r)))||s===D)&&a.channelId===this.props.channelId){const P=Object(i.a)(E,H=>H<=(a.startTs||""));this.keyToScrollTo=P||s,this.lazyScroll=a.highlightLazy,this.useAnchor=!1}}a.channelId!==this.props.channelId&&(this.heightCache&&this.heightCache.invalidate(),this.list&&this.list.resetRendered&&this.list.resetRendered(),Object(l.a)({teamId:this.props.teamId}).info(Ne,`Switching channels: ${a.channelId} timestamps: ${Object(In.a)(a.timestamps)}`),this.switchingChannels=!0),a.lastReadTs!==this.props.lastReadTs&&(this.unreadIndex=null)}groupTimestampsByDay(a){return Object(un.a)(a,s=>Object(Me.a)(s))}getTimestampsForDays(a){return Object(pa.a)(this.groupTimestampsByDay(a)).sort()}getTimestampOfDayClosestToTop(){const{start:a}=this.list.getVisibleRange(),s=this.rows[a];if(s){if(s.type==="dayDivider"||s.type==="dayDividerLabel")return s.day.toString();if(s.type==="message")return s.day.ts.toString()}}getStartTimestampForDayNavigation(){return this.state.hasKeyboardFocus?Object(Me.a)(this.list.getInitialActiveItem()):this.getTimestampOfDayClosestToTop()}getTimestampOfPrevDay(){const a=this.getStartTimestampForDayNavigation(),s=this.getTimestampOfFirstMessageForDay(a);if(!s||s&&!this.list.isItemInView(s))return a;const r=this.getTimestampsForDays(this.props.timestamps||[]),D=Object(yn.a)(r,a)-1;return r[D]}getTimestampOfNextDay(){const a=this.getStartTimestampForDayNavigation(),s=this.getTimestampsForDays(this.props.timestamps||[]),r=Object(yn.a)(s,a),E=s[r+1];return E||(parseInt(a,10)+be).toString()}getTimestampOfFirstMessageForDay(a){const s=this.getTimestampsForDays(this.props.timestamps||[]),r=Object(yn.a)(s,a);if(r<0||r===0&&!this.props.reachedStart)return;const D=this.groupTimestampsByDay(this.props.timestamps||[])[a];return D?D[0]:void 0}getHasYesterday(){const{timestamps:a}=this.props;if(!a||a.length===0)return!1;const s=Object(ls.r)(Object(c.a)(a),{returnMoment:!0});if(Object(Kn.a)(s))return!0;if(!Object(Ln.a)(s))return!1;const r=Object(ls.r)(Object(Ta.a)(a),{returnMoment:!0});return!Object(Ln.a)(r)}jumpToTimestamp(a){let{ts:s,offset:r,onJump:E}=a;Object(ct.a)(E)&&(this.onJump=E),this.props.jumpToTimestamp&&this.props.jumpToTimestamp({ts:s,offset:r}),this.props.setFocusRequestedTs&&this.props.setFocusRequestedTs(s)}getSeparatorLabel(a){let{rowType:s,showDayDividerAsUnread:r,date:E}=a;if(s==="unread")return y.t("Start of unread messages.",{fallbackHash:"12062cb2685ccc8bba0f778ab3ebe9b4db056a5b"});const D=Object(lo.a)(E/1e3,"{day_divider_pretty}");return r?y.t("{date} Start of unread messages. Press enter to select a date to jump to.",{date:D,fallbackHash:"89fbf7e22ea495b603f376338a72541f346409a0"}):y.t("{date} Press enter to select a date to jump to.",{date:D})}getPropsForItem(a){let{index:s,isInitialFocusInRange:r}=a;const E=this.rows[s],D=E&&E.type;if(!D)return;const P=D==="dayDividerLabel",H=D==="dayDivider",oe=P||D==="unread",ce=oe?this.getSeparatorLabel({rowType:D,showDayDividerAsUnread:E.showDayDividerAsUnread,date:E.day}):this.getAriaLabelForRow({index:s,includeDate:!!r});let Ie;if(D==="message"){const{channelId:at,container:Ze}=this.props,Mt=E==null?void 0:E.ts;Ie=this.props.makeAriaLabelledByForMessage({channelId:at,ts:Mt,container:Ze})}return{...H&&{role:"presentation"},...oe&&{"aria-roledescription":y.t("separator")},...Ie?{"aria-labelledby":Ie}:{"aria-label":ce}}}render(){if(this.props.isOffline&&Object(b.a)(this.props.timestamps))return K.a.createElement(to.a,null);let a,s,r,E;({keys:this.keys,rows:this.rows,stickyItems:s,anchor:a,unreadIndex:this.unreadIndex,firstVisibleUnreadTs:r,startTs:E}=this.getListProps(!!this.props.isLimited,!!this.props.isSlackbotIm,this.props.startTs||"",this.props.timestamps||[],this.props.firstUnreadTs||"",this.props.lastReadTs||"",!!this.props.reachedStart,this.props.channelId||"",!!this.props.useStickyDayDividers,!!this.props.reachedEnd,!!this.props.prevReachedEnd,this.state.degraded,this.state.isSelecting,!!this.state.isLoading,!!this.state.isLoadingOlder)),this.layout.setAnchor(this.useAnchor&&a,this.useAnchor&&this.props.startTsOffset),!this.useAnchor&&this.keyToScrollTo&&Object(fn.a)(this.props.startTsOffset)&&(this.layout.anchorOffset=this.props.startTsOffset);const D=this.props.hasKeyboardFocus?void 0:this.props.highlightTs,P=this.getUnrelatedUpdateProps(r,!!this.props.isGhostLastRead,D||"",!!this.props.reachedEnd,!!this.props.isLimited,!!this.props.isSlackbotIm,!!this.props.useStickyDayDividers,...this.props.timestamps||[]),H=this.state.degraded?T:O,q=(()=>{if(this.state.isLoading)return null;const ce=this.rows[this.rows.length-1],Ie=ce&&ce.type;return this.props.startTs===Ce||E===!1&&Ie==="foreword"?Ce:E===null&&Ie==="message"?ce.ts:r||E||null})(),oe=!!this.props.timestamps&&!!this.props.timestamps.length;return K.a.createElement(so.a,{listeners:this.getFocusTransitionListeners(this.list,this.props.channelId||"",...this.rows)},K.a.createElement(Is.a,{label:Zn.a.ChannelSwitch,id:Object(gn.a)({teamId:this.props.teamId,channelId:this.props.channelId||""}),visible:oe,upToDate:oe&&(this.viewLoadFetchStatus!==Ft.b||this.viewLoadFetchStatus===Ft.a),requiredSync:this.viewLoadFetchStatus===Ft.b,viewName:"chat"}),K.a.createElement(ds.a,{visible:oe,upToDate:oe&&(this.viewLoadFetchStatus!==Ft.b||this.viewLoadFetchStatus===Ft.a),requiredSync:this.viewLoadFetchStatus===Ft.b,viewName:"chat"}),K.a.createElement(An.a,null,ce=>{let{width:Ie,height:at}=ce;if(Ie===0||at===0){if(this.list){const Ut=this.getScrollmark();Ut?this.layout.setAnchor(Ut.mark,Ut.offset):this.layout.setAnchor(null)}return null}Ie!==this.width&&(this.heightCache&&this.heightCache.invalidate(),this.width=Ie),this.height=at;const Ze=Object(rt.default)("c-message_list c-message_list--floating",{"c-message_list--context_bar_showing":this.props.showingContextBar,"c-message_list--dark":this.props.clientTheme==="dark"});let Mt=0;return this.props.experimentIaBookmarksHideShowGroupTreatment&&this.props.isBookmarksVisible&&(Mt=Ds.a),K.a.createElement(H,{ref:this.setListRef,className:Ze,id:this.listId,"aria-label":this.props["aria-label"],height:at,width:Ie,keys:this.keys,persistentKeys:this.props.persistentKeys,rowRenderer:this.renderRow,layout:this.layout,stickyItems:s,stickyOffsetTop:Mt,stickyOffsetTopAnimated:this.props.experimentIaBookmarksHideShowGroupTreatment,stickyZIndex:199,loadAround:this.requestAround,loadPre:this.requestOlder,loadPost:this.requestNewer,isLoading:this.state.isLoading,reachedStart:this.props.reachedStart,reachedEnd:this.props.reachedEnd||this.props.prevReachedEnd,fadeScrollbar:!0,onScroll:this.onScroll,onSelectionChange:this.onSelectionChange,onEnd:this.onEnd,onFocusEnter:this.onFocusEnter,onFocusLeave:this.onFocusLeave,keyCommands:this.keyCommands,useGlobalKeyboardShortcuts:this.props.useGlobalKeyboardShortcuts,disableKeyboardShortcuts:this.props.overlayIsOpen,isFocusableItem:this.isFocusableItem,unrelatedUpdateProps:P,initialActiveItem:q,getPropsForItem:this.getPropsForItem,isOffline:this.props.isOffline,onItemKeyDown:this.onItemKeyDown,onItemContextMenu:this.onItemContextMenu,onItemFocusEnter:this.onItemFocusEnter,renderContextMenuForItem:this.renderContextMenuForItem,shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved:this.shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved,onOverflow:this.props.onOverflow})}))}constructor(a){super(a);const s=Object(Ss.a)();this.state={degraded:s,isLoading:!!a.isLoading,isLoadingOlder:!!a.isLoadingOlder,isSelecting:!1,hasKeyboardFocus:!1,isFileExpanding:!1,timestampToJumpTo:null};const{ANCHOR_OFFSET:r,STICKY_EPSILON:E,heightCache:D,layout:P}=Object(he.a)({clientTheme:a.theme||"",shouldExcludeFirstItemFromGravity:()=>!1,shouldStickToBottom:!!(!a.isFileExpanding||a.reachedEnd||a.prevReachedEnd),shouldUseDegradedList:s});if(this.ANCHOR_OFFSET=r,this.STICKY_EPSILON=E,this.heightCache=D,this.layout=P,this.keys=[],this.rows=[],this.visibleRows=[],this.partiallyVisibleRows=[],this.unreadIndex=null,this.list=null,this.useAnchor=!0,this.keyToScrollTo=null,this.width=0,this.hasRenderedOneMessage=!1,this.hasYesterday=this.getHasYesterday(),this.getListProps=Object(Hn.a)(this.getListProps,2),this.getUnrelatedUpdateProps=Object(Hn.a)(this.getUnrelatedUpdateProps),this.requestAround=this.requestAround.bind(this),this.requestOlder=this.requestOlder.bind(this),this.requestNewer=this.requestNewer.bind(this),this.requestHistory=this.requestHistory.bind(this),this.renderRow=this.renderRow.bind(this),this.setListRef=this.setListRef.bind(this),this.getAriaLabelForRow=this.getAriaLabelForRow.bind(this),this.getPropsForItem=this.getPropsForItem.bind(this),this.onScroll=this.onScroll.bind(this),this.onListScrolled=this.onListScrolled.bind(this),this.onFocusEnter=this.onFocusEnter.bind(this),this.onFocusLeave=this.onFocusLeave.bind(this),this.onItemKeyDown=this.onItemKeyDown.bind(this),this.onItemFocusEnter=this.onItemFocusEnter.bind(this),this.debouncedOnListScrolled=Object(Sn.a)(this.onListScrolled,150),this.isFocusableItem=this.isFocusableItem.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this),this.focus=this.focus.bind(this),this.transitionFocusToMessage=this.transitionFocusToMessage.bind(this),this.maybeFocusOnTimestamp=this.maybeFocusOnTimestamp.bind(this),this.getFocusTransitionListeners=Object(Hn.a)(this.getFocusTransitionListeners.bind(this),2),this.onShiftPageUp=this.onShiftPageUp.bind(this),this.onShiftPageDown=this.onShiftPageDown.bind(this),this.onEnd=this.onEnd.bind(this),this.onArrowKeyRight=this.onArrowKeyRight.bind(this),this.onMessageMount=this.onMessageMount.bind(this),this.jumpToDate=this.jumpToDate.bind(this),this.scrollToOffset=Object(_s.a)(this.scrollToOffset.bind(this),200),this.onItemContextMenu=this.onItemContextMenu.bind(this),this.renderContextMenuForItem=this.renderContextMenuForItem.bind(this),this.shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved=this.shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved.bind(this),this.switchingChannels=!1,this.messagesRendered={},this.loadingHistoriesSeen=0,this.loadingHistoriesSeenHighEnd=0,this.loadingHistoriesPerHowManyMessages=84,this.loadingHistoriesPerHowManyMessagesHighEnd=500,this.scrollMetricsGatheringEnabled=Object(To.a)(1)||this.props.featureTinyspeck,this.scrollMetricsGatheringEnabled){const H=Object(lt.getStateByTeamId)(a.teamId),q=Object(p.d)({state:H});this.debounceBatchMessagesSeen=Object(Rn.a)(()=>{q.store("modern_history_load_seen_per_84_messages",this.loadingHistoriesSeen,{allow_zero:!0}),this.loadingHistoriesSeen=0},1e3),this.debounceBatchMessagesSeenHighEnd=Object(Rn.a)(()=>{q.store("modern_history_load_seen_per_500_messages",this.loadingHistoriesSeenHighEnd,{allow_zero:!0}),this.loadingHistoriesSeenHighEnd=0},1e3)}this.keyCommands=[{keys:["shift+pagedown"],handler:this.onShiftPageDown},{keys:["shift+pageup"],handler:this.onShiftPageUp},{keys:["right"],handler:this.onArrowKeyRight}],this.debounceCountHistoryLoadSeen=Object(Rn.a)(()=>{this.loadingHistoriesSeen+=1,this.loadingHistoriesSeenHighEnd+=1},1e3),this.viewLoadFetchStatus=Ft.c,this.viewLoadLastChannelId=null}},"MessageList");Et.displayName="MessageList",Et.defaultProps={timestamps:[],requestHistory:()=>tn.a.resolve(),isGhostLastRead:!1,setUnreadPoint:Ae.a,isFileExpanding:!1,isLoading:!1,isLoadingOlder:!1,reachedStart:!1,reachedEnd:!1,prevReachedEnd:!1,onScroll:Ae.a,onVisibleRowsChanged:Ae.a,doneHighlighting:Ae.a,clearAriaAnnounceMessageTs:Ae.a,closeAndReportNotificationReadSpan:Ae.a,isLimited:!1,isSlackbotIm:!1,useStickyDayDividers:!0,theme:"light",featureTinyspeck:!1,jumpToTimestamp:Ae.a,isScreenReaderEnabled:!1,onFocusEnter:Ae.a,onFocusLeave:Ae.a,isBannerVisible:!1,setFocusRequestedTs:Ae.a,canStartOrOpenThread:Ae.a,telemeter:{store:Ae.a,measure:Ae.a},isOffline:!1,clientTheme:"light",focusLastVisibleMessageInChannel:!1,setFocusLastVisibleMessageInChannel:Ae.a,setFocusMessageInput:Ae.a,showingContextBar:!1,channelCreatedTime:null,hasKeyboardFocus:!1,canPostInChannel:!0,persistentKeys:[],setPersistentKey:Ae.a,clearPersistentKeys:Ae.a,showUnfurledJoiners:!1,overlayIsOpen:!1,useGlobalKeyboardShortcuts:!0,onMessageLimitTrialStart:Ae.a,unlockMessages:!1};const ut=o((h,a)=>{let{channelId:s}=a;return{focusLastVisibleMessageInChannel:!!Object(L.c)(h),showingContextBar:!!Object(_o.a)(h,s),channelCreatedTime:Object(mt.f)(Object(Y.d)(h,s)),isBookmarksVisible:Object(sa.g)(h,s),experimentIaBookmarksHideShowGroupTreatment:s?!!Object(na.c)(h,s):!1,overlayIsOpen:Object(ge.g)(h),experimentAdoptionInstantSlackGroupTreatment:Object(R.d)(h,"adoption_instant_slack")==="treatment",isInstantSlackInviteeSession:Object(We.a)(h),instantSlackChannelPrefs:s?!!Object(qe.a)(h,s,ze.a):void 0,clogger:Object(C.a)({state:h})}},"message_list_mapStateToProps"),tt=o(h=>({setFocusLastVisibleMessageInChannel:a=>h(Object(U.j)(a)),setFocusMessageInput:a=>h(Object(U.k)(a)),closeAndReportNotificationReadSpan:a=>h((s,r)=>Object(us.a)(r(),a)),fetchAndUpsertInstantSlackChannelPrefThunk:a=>h(Object(ze.b)({channelId:a})),updateFocusHistoryState:a=>h(Object(Tt.b)(a)),makeAriaLabelledByForMessage:a=>{let{channelId:s,ts:r,container:E}=a;return h(Object(ot.a)({channelId:s,ts:r,container:E}))},dispatchNavigateToThread:a=>h(Object(oo.a)(a))}),"message_list_mapDispatchToProps"),_t={FOREWORD_TS:Ce},It=Et,Jt=Object(Nt.a)(It),wt=Object(Be.b)(Jt),hn=Object(yo.a)(Object(Ms.a)(wt)),ja=Object(cs.b)(hn,{name:"MessageList"});var rn=Object(M.a)(ut,tt,null,{forwardRef:!0})(ja),Ja=rn,Ea=e("rq2v"),Za=e("/MKj"),Zt=e("zxER"),Wa=e("s9Q6"),Aa=e("sK3r"),Xa=e("beWg"),On=e("u0LO"),Ha=e("dHXs"),St=e("iUFw"),bn=e("cj00"),fs=e.n(bn),$t=e("PA8C"),ln=e.n($t),Fs=e("BZp1"),Va=e("tVK8");const Vn=new Ua.b("trial_slack_connect_awareness"),gs={onClick:{enableClogAction:!0},elementName:"learn_more"},Gn={onClick:{enableClogAction:!0},elementName:"start_free_trial",isPrimaryCTA:!0},Cn=o(h=>{let{channelId:a}=h;const s=On.c.SlackConnectDmTrialOfferBanner;if(!Object(Fs.b)(a,s))return null;const E=K.a.createElement("img",{alt:"",srcSet:`${fs.a} 1x, ${ln.a} 2x`}),D=Vn.rt("With a free, {trialDuration}-day trial of a Slack\u2019s Pro plan, you can work with external people not just one-on-one, but also as a team in channels. Give it a go \u2014 no credit card required.",{trialDuration:30,fallbackHash:"4ea3867685721a2fd4e82c793f920f8b43182716"}),P=K.a.createElement(Ha.a,{"data-qa":"slack_connect_dm_trial_offer_banner-start_trial",autoClogProps:Gn,reason:"slack_connect_dm_trial_offer_banner",context:Xa.a.scdmFreeStartTrialBanner,promoType:kn.q.PaidFeatureTrial,promoSubtype:kn.p.SharedChannels},Vn.t("Start Trial")),H=K.a.createElement(St.a,{type:"outline","data-qa":"slack_connect_dm_trial_offer_banner-learn_more",href:"/connect",autoClogProps:gs},Vn.t("Learn More"));return K.a.createElement(ms.a,{eventId:qt.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:qt.UiComponentName.SLACK_CONNECT_DM_TRIAL_OFFER_BANNER,clogImpression:!0},K.a.createElement(Va.a,{uiComponent:s,heading:Vn.t("Bring both your teams into the same room"),image:E,bodyContent:D,"data-qa":"slack_connect_dm_trial_offer_banner",primaryCTA:P,secondaryCTA:H}))},"SlackConnectDMTrialOfferBanner");Cn.displayName="SlackConnectDMTrialOfferBanner";var Ks=Cn,Es=e("GVvR"),as=e("/cL/");const Os=new Ua.b("trial_slack_connect_awareness"),Tn={onClick:{enableClogAction:!0},elementName:"learn_more"},ks={onClick:{enableClogAction:!0},elementName:"upgrade",isPrimaryCTA:!0},xn=o(h=>{let{channelId:a}=h;const s=Object(Fs.b)(a,On.c.SlackConnectDmTrialIneligibleBanner),r=Object(Zt.c)(Ot.g);if(!s)return null;const E=K.a.createElement("img",{alt:"",srcSet:`${fs.a} 1x, ${ln.a} 2x`}),D=Os.rt("On a paid plan, you can add as many people as you need to a channel, even if they\u2019re not from {teamName}.",{teamName:Object(Pt.h)(r)}),P=K.a.createElement(as.a,{"data-qa":"slack_connect_dm_trial_ineligible_banner-upgrade",autoClogProps:ks},Os.t("See Upgrade Options")),H=K.a.createElement(St.a,{type:"outline","data-qa":"slack_connect_dm_trial_ineligible_banner-learn_more",href:"/connect",autoClogProps:Tn},Os.t("Learn More"));return K.a.createElement(ms.a,{eventId:qt.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:qt.UiComponentName.SLACK_CONNECT_DM_TRIAL_INELIGIBLE_BANNER,clogImpression:!0},K.a.createElement(Va.a,{uiComponent:On.c.SlackConnectDmTrialIneligibleBanner,heading:Os.t("Loop in the rest of your team \u2014 and theirs, too"),image:E,bodyContent:D,"data-qa":"slack_connect_dm_trial_ineligible_banner",primaryCTA:P,secondaryCTA:H}))},"SlackConnectDMTrialIneligibleBanner");xn.displayName="SlackConnectDMTrialIneligibleBanner";var Hs=xn,Ro=e("stkM");const Vs=o(h=>{let{channelId:a}=h;const s=Object(Za.useDispatch)(),r=kn.q.PaidFeatureTrial,E=kn.p.SharedChannels,D=Object(Zt.c)(Ie=>Object(Pt.H)(Object(Ot.g)(Ie))),P=Object(Zt.c)(Ie=>Object(Wa.c)(Ie,r,E)),H=Object(Zt.c)(Ie=>Object(Wa.b)(Ie,r,E)),[q,oe]=Object($e.useState)(!1);Object($e.useEffect)(()=>{s(Object(Ro.a)({campaignType:r,campaignSubType:E,context:Aa.b.slackConnectDMBanner,reason:"slack_connect_dm_banner"}))},[s,r,E]),Object($e.useEffect)(()=>{D||oe(!0)},[D]),Object($e.useEffect)(()=>{oe(!1)},[a]);let ce=null;return D?H||(P?ce=K.a.createElement(Ks,{channelId:a}):ce=K.a.createElement(Hs,{channelId:a})):ce=K.a.createElement(Es.b,{channelId:a,showTrialStartedVersion:q}),ce},"SlackConnectDMBannerContainer");Vs.displayName="SlackConnectDMBannerContainer";var ho=Vs,Lo=e("cvlP"),Gs=e("DneB"),xt=e("QygJ"),ws=e("+CZ0"),wn=e("gj2Z"),zs=e("GNR7");const Un=Object(vt.b)((h,a,s,r,E,D,P)=>{const H=Object(X.h)(h);return(H==null?void 0:H.tip)!==V.f.Huddles||Object(it.b)(h,r)?!1:Object(zs.a)(h,r)!==null&&!s&&H.state!==V.g.Success?!0:P===r?!1:H.state===V.g.Success?!0:H.state===V.g.Explainer?!a:!Object(wn.a)(h,{channelId:r,getSiblingView:E,shouldUseNavigate:D,wasUserEverInActiveHuddleInCurrentChannel:s})||a});Un.meta={name:"createSelector",key:"createSelectorshouldDismissHuddlesTip",description:(h,a,s,r,E,D,P)=>{const H=Object(X.h)(h);return(H==null?void 0:H.tip)!==V.f.Huddles||Object(it.b)(h,r)?!1:Object(zs.a)(h,r)!==null&&!s&&H.state!==V.g.Success?!0:P===r?!1:H.state===V.g.Success?!0:H.state===V.g.Explainer?!a:!Object(wn.a)(h,{channelId:r,getSiblingView:E,shouldUseNavigate:D,wasUserEverInActiveHuddleInCurrentChannel:s})||a}};var xo=e("7s2w"),po=e("xO6X"),vo=e("3vtZ"),zn=e("mQiU");function ns(){return ns=Object.assign||function(h){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(h[r]=s[r])}return h},ns.apply(this,arguments)}o(ns,"with_huddles_tip_extends");const Ys=o(h=>{const a=Object($e.memo)(Object($e.forwardRef)((s,r)=>{const{getSiblingView:E,shouldUseNavigate:D}=Object($e.useContext)(zn.a),P=Object(Za.useDispatch)(),H=Object(xt.a)(s.channelId),q=Object(Gs.b)(ws.g),oe=Object(vo.E)(q);var ce;const Ie=Object(xo.a)((ce=s.channelId)!==null&&ce!==void 0?ce:""),at=Object(Zt.c)(da=>Object(wn.a)(da,{channelId:s.channelId,getSiblingView:E,shouldUseNavigate:D,wasUserEverInActiveHuddleInCurrentChannel:Ie})),Ze=Object(Zt.c)(da=>Object(X.d)(da,{tip:V.f.Huddles})),Mt=Object(Zt.c)(X.Y);var Ut;const Oa=Object(Zt.c)(da=>Un(da,oe,Ie,(Ut=s.channelId)!==null&&Ut!==void 0?Ut:"",E,D,H)),Fa=at&&Ze;return Object($e.useEffect)(()=>{Mt&&(Fa?P(Object(w.a)({tip:V.f.Huddles,tipState:V.g.Flag})):Oa&&(P(Object(Rt.k)(null)),P(Object(po.a)({delay:Lo.b}))))},[P,Mt,Oa,Fa]),K.a.createElement(h,ns({},s,{ref:r}))}));return a.displayName=`withHuddlesTip(${h.displayName})`,a},"withHuddlesTip");Ys.displayName="withHuddlesTip";var bs=e("wuDf"),Yn=e("Ph7z"),Xe=e("TZ1i"),fa=e("rm53"),cn=e("OvM9"),zo=e("ax9K"),ur=e("khjP"),Uo=e("P1uz"),hr=e("xisU"),Yo=e("WIr4"),Qs=e("kBpe"),Qo=e("RB1+"),Bo=e("U3SE"),pr=e("cYXZ"),vr=e("gPPH"),Cs=e("qDEp");const Wo=new Ua.b("messages");function fr(h){let{jumpToRecent:a}=h;return K.a.createElement("div",{className:"p-archives_banner"},K.a.createElement(Cs.d,{className:"p-archives_banner__jump",onClick:a,"data-qa":"archives_banner"},K.a.createElement("span",{className:"margin_right_25"},K.a.createElement(Bs.a,{inline:!0,name:"arrow-down"})),Wo.t("Latest messages",{fallbackHash:"f7b7a48cdb86656094ebbba2551928988e3630d4"})))}o(fr,"ArchivesBanner");var Fo=e("gSGL"),Jo=e("C59p"),Bn=e("pu3F"),Zo=e("gpLM"),Ts=e("nWdO"),Wn=e("DPHH"),Ko=e("khnw");const Qn=new Ua.b("messages");let Xo=o(class extends $e.Component{onKeyDown(a){const s=[Ko.e,Ko.p];Object(mn.a)(s,a.keyCode)&&this.props.jumpOrMark(a)}render(){const{known:a,displayCount:s,opacity:r,unreadPlacement:E,jumpOrMark:D,markAsRead:P}=this.props,H=a?"":"+";let q=s;!a&&q>10&&(q=Math.floor(q/10)*10);let oe=Qn.t("{count, plural, =1 {#{certainty} new message} other {#{certainty} new messages}}",{certainty:H,count:q});(!q||q===1&&!a)&&(oe=Qn.t("New messages"));let ce="",Ie=K.a.createElement(K.a.Fragment,null);Object(Qs.i)()&&(Object(Qs.p)()?ce=Qn.t("\u2318J"):ce=Qn.t("Ctrl+J"),Ie=K.a.createElement(K.a.Fragment,null,K.a.createElement(Wn.a,{label:Wn.b.CmdOrCtrl,tooltip:!0,className:"margin_left_25"}),K.a.createElement(Wn.a,{label:"J",tooltip:!0})));const at=K.a.createElement(K.a.Fragment,null,K.a.createElement("br",null),K.a.createElement(Wn.a,{label:"esc",tooltip:!0})),Ze=E===ie.ABOVE?"arrow-up":"arrow-down",Mt=Object(rt.default)("p-message_pane__unread_banner p-message_pane__banner");return K.a.createElement("div",{className:Mt},K.a.createElement("div",{className:"p-message_pane__unread_banner__banner"},K.a.createElement(Ts.c,{tip:Qn.rt("Jump {jumpShortcutKeys}",{jumpShortcutKeys:Ie}),position:"bottom",delay:Ts.a},K.a.createElement(Cs.d,{className:"p-message_pane__unread_banner__msg",onMouseDown:D,onKeyDown:this.onKeyDown,style:{opacity:r},"aria-label":Qn.t("Jump to first unread message ({jumpShortcut})",{jumpShortcut:ce})},K.a.createElement("span",{className:"margin_right_25"},K.a.createElement(Bs.a,{inline:!0,name:Ze})),oe)),K.a.createElement(Ts.c,{tip:Qn.rt("Mark as read {markAsReadShorcutKeys}",{markAsReadShorcutKeys:at}),position:"bottom",delay:Ts.a},K.a.createElement(Cs.d,{className:"p-message_pane__unread_banner__close_icon",onClick:P,"aria-label":Qn.t("Mark as read (esc)")},K.a.createElement(Bs.a,{inline:!0,name:"close"})))))}constructor(a){super(a),this.onKeyDown=this.onKeyDown.bind(this)}},"UnreadBannerButtons");Xo.displayName="UnreadBannerButtons";var ko=Xo;const gr=1e3,Er=80,Ho={ABOVE:1,VISIBLE:2,BELOW:3};let Vo=o(class extends $e.PureComponent{UNSAFE_componentWillReceiveProps(a){if(a.channelId!==this.props.channelId&&this.animation&&this.animation.cancel(),this.state.hasUnreads&&!a.hasUnreads){const s=gr,r=a.ghost?s:0;this.startFade(r);return}this.setState(()=>({hasUnreads:a.hasUnreads,displayCount:a.displayCount,since:a.since,unreadPlacement:a.unreadPlacement,opacity:1}))}componentWillUnmount(){this.animation&&this.animation.cancel()}onAnimationEnd(){this.setState(()=>({hasUnreads:!1,opacity:1}),()=>{this.props.onHide&&this.props.onHide()})}onAnimationTick(a){let{value:s,nextTick:r}=a;this.animation&&(this.setState(()=>({opacity:s})),r())}jumpOrMark(a){this.state.unreadPlacement===Ho.VISIBLE?this.markAsRead(a):(this.props.jumpToUnread&&this.props.jumpToUnread(a),this.props.transitionFocusToPrimaryView&&this.props.transitionFocusToPrimaryView(),a.preventDefault())}markAsRead(a){a.stopPropagation(),Object(l.b)().action("UNREAD-BANNER",`Mark ${this.props.channelId} read`),this.props.markMostRecentMsgRead&&this.props.channelId&&this.props.markMostRecentMsgRead({channelId:this.props.channelId,reason:Bn.N.CLICKED}),this.animation&&this.animation.cancel(),this.onAnimationEnd(),this.props.transitionFocusToPrimaryView&&this.props.transitionFocusToPrimaryView()}startFade(a){this.animation=Object(Jo.a)({delay:a,fromValue:1,toValue:0,duration:Er,easing:"easeInQuad",onTick:this.onAnimationTick,onComplete:this.onAnimationEnd})}render(){const{hasUnreads:a,since:s,displayCount:r,unreadPlacement:E,opacity:D}=this.state,{known:P,channelId:H}=this.props;return!a||!s||!(Object(Fo.a)(s)?Math.floor(parseFloat(s)):Math.floor(s))||E===Ho.VISIBLE?null:K.a.createElement(ko,{known:P,displayCount:r,opacity:D,unreadPlacement:E,jumpOrMark:this.jumpOrMark,markAsRead:this.markAsRead,channelId:H})}constructor(a){super(a),this.startFade=this.startFade.bind(this),this.onAnimationTick=this.onAnimationTick.bind(this),this.onAnimationEnd=this.onAnimationEnd.bind(this),this.jumpOrMark=this.jumpOrMark.bind(this),this.markAsRead=this.markAsRead.bind(this),this.animation=null,this.state={hasUnreads:a.hasUnreads,displayCount:a.displayCount,since:a.since,unreadPlacement:a.unreadPlacement,opacity:1}}},"UnreadBanner");Vo.displayName="UnreadBanner",Vo.defaultProps={displayCount:0,unreadPlacement:Ho.VISIBLE};const Or={transitionFocusToPrimaryView:()=>Object(Zo.d)()};var $o=Object(M.a)(null,Or)(Vo),br=e("aha9"),Cr=e("oEDn"),Tr=e("n3Fi");const qo=Object(re.c)("User has dismissed search in-product education",h=>{h(Object(Tr.b)())});qo.meta={name:"createThunk",key:"createThunksearchInProductEducationDismiss",description:"User has dismissed search in-product education"};var _r=e("ZE3X"),er=e("blur");const Js=new Ua.b("search");let tr=o(class extends $e.PureComponent{isVisible(){return this.props.showSearchScrollbackTip}onClickBannerContent(a){const{channelForCurrentInFilterQuery:s,openFromScrollSearchTipBanner:r,clogger:E}=this.props;a.stopPropagation(),a.preventDefault(),E.track(qt.EventId.SEARCH_SCROLL_TIP_CLICK,{channel_id:s==null?void 0:s.id}),r()}onClose(a){const{channelForCurrentInFilterQuery:s,recordLastDismissedScrollSearchTooltipTimestamp:r,incrementScrollerSearchInProductEducationDismissalCount:E,searchInProductEducationDismiss:D,clogger:P,refocusList:H}=this.props;a.stopPropagation(),a.preventDefault(),P.track(qt.EventId.SEARCH_SCROLL_TIP_DISMISS,{channel_id:s==null?void 0:s.id}),r(),E(),D(),H==null||H()}onEscape(a){a.key==="Escape"&&this.onClose(a)}focus(){var a,s;(a=this.searchTipButtonRef)===null||a===void 0||(s=a.current)===null||s===void 0||s.focus()}render(){const{showSearchScrollbackTip:a}=this.props;return a&&K.a.createElement("div",{className:"p-message_pane__search_tip_banner",role:"dialog",onKeyDown:this.onEscape,"aria-label":Js.t("Tip",{fallbackHash:"9713cc83f3030948afaff535d9c5e6e77ea1a83f",fallbackHashNs:"slack-docs"})},K.a.createElement(Cs.d,{ref:this.searchTipButtonRef,className:"p-message_pane__search_tip_banner_content",onClick:this.onClickBannerContent,"aria-label":Js.t("Try {command} f to search this channel",{command:Wn.b.CmdOrCtrl,fallbackHash:"0e225cdd2f07078969c6226d1587e3ba3957da36"})},Js.rt("<strong>Tip</strong>: Try {command} {f} to search this channel",{command:K.a.createElement(Wn.a,{label:Wn.b.CmdOrCtrl,slim:!0}),f:K.a.createElement(Wn.a,{label:"F",slim:!0})})),K.a.createElement(Ts.c,{tip:Js.t("Close"),position:"bottom"},K.a.createElement(Cs.d,{className:"p-message_pane__search_tip_banner_action","aria-label":Js.t("Close"),onClick:this.onClose},K.a.createElement(Cr.a,{inline:!0,type:"times-small"}))))}constructor(a){super(a),Object(Yo.a)(this,["onClose","onEscape","onClickBannerContent","focus"]),this.searchTipButtonRef=K.a.createRef()}},"SearchTipBanner");tr.displayName="SearchTipBanner";const ar=o(h=>({showSearchScrollbackTip:Object(A.b)(h),clogger:Object(C.a)({state:h}),channelForCurrentInFilterQuery:Object(br.a)(h)}),"search_tip_banner_mapStateToProps"),ca={searchInProductEducationDismiss:qo,openFromScrollSearchTipBanner:_r.h,incrementScrollerSearchInProductEducationDismissalCount:er.f,recordLastDismissedScrollSearchTooltipTimestamp:er.l};var Ir=Object(M.a)(ar,ca,null,{forwardRef:!0})(tr),nr=e("i9y5");const sr=new Ua.b("mpdm_audience_expansion");var ss=Object($e.memo)(()=>Object(Zt.c)(ta.a)?K.a.createElement("div",{className:"c-message_list__pill_banner"},K.a.createElement("div",{className:"c-message_list__pill_banner__label"},K.a.createElement(nr.a,{className:"c-message_list__pill_banner__label_icon",color:"blue",size:"medium"}),K.a.createElement("span",{className:"c-message_list__pill_banner__label_text"},sr.t("Converting, this might take awhile\u2026")))):null),yr=e("cu33"),Yr=e("jTDL"),Qr=e("u4cD"),xi=e("k7gI");const Ur=o(h=>{let{onMessageLimitTrialStart:a}=h;Object(Za.useDispatch)()(Object(Qr.b)({spaceName:Ue.g.MESSAGE_PANE}));const r=Object($e.useCallback)(E=>{E.animationName==="fade"&&a({showFloatingTrialStartBanner:!1})},[a]);return K.a.createElement("div",{className:"p-message_pane_banner__container",onAnimationEnd:r},K.a.createElement(Yr.a,{className:Object(rt.default)("p-message_pane_banner","p-message_limit_floating_trial_banner"),margins:!1,uiStep:qt.UiStep.LIMITED_HISTORY_TRIAL_START}))},"LimitedHistoryFloatingTrialStartBanner");Ur.displayName="LimitedHistoryFloatingTrialStartBanner";var Jr=Ur;function or(){return or=Object.assign||function(h){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(h[r]=s[r])}return h},or.apply(this,arguments)}o(or,"message_pane_extends");const Zr=new Ua.b("message-list");class rr extends $e.PureComponent{componentDidMount(){this.recordAndTrackTimeToVisible(),this.bindKeyEventListeners(),document.hasFocus()?this.recordSessionFrameStats():window.addEventListener("focus",this.recordSessionFrameStats)}UNSAFE_componentWillReceiveProps(a){const s=this.props.channelId;if(this.setState(H=>{const q=this.getUnreadLinePlacement();if(!a.isLoading&&!Object(b.a)(a.timestamps)){const oe=a.reachedEnd===!1&&!a.prevReachedEnd;if(oe!==H.showingArchiveBanner)return{...H,unreadPlacement:q,showingArchiveBanner:oe}}return H.unreadPlacement!==q?{...H,unreadPlacement:q}:H}),this.setState(H=>{const q=this.getUnreadBannerDisplayCount(),oe=!!(q&&q>0);return{...H,showingUnreadBanner:oe}}),s&&a.channelId!==s){try{this.messageImpressionLogger.flushAllVisibleMessages()}catch(q){this.props.logger.error("message_pane_unable_log_message_impressions","MessagePane unable to log message impressions",q)}const H=this.list&&this.list.getScrollmark("channel_change");if(!this.props.isChildWindow){var r,E;(E=(r=this.props).saveScrollmark)===null||E===void 0||E.call(r,{channelId:s,scrollmark:H})}if(this.props.isConversationViewsEnabled&&this.props.isChildWindow&&this.props.windowId!==j.c&&H){var D,P;(P=(D=this.props).maybeSaveChildWindowScrollmark)===null||P===void 0||P.call(D,{windowId:this.props.windowId||"",container:this.props.container,channelId:s,scrollmark:H})}this.historyRateLimiter.reset(),this.recordAndTrackTimeToUsable(qt.TimingStatus.ABANDONED),this.state.caughtError&&this.setState(()=>({caughtError:!1}))}a.teamId!==this.props.teamId&&this.attachMessageImpressionsLogger(a.teamId,a.clogger)}componentDidUpdate(a){if(this.props.isProgressiveDisclosureEnabled&&this.props.latest&&this.props.latest!==a.latest){if(this.props.latestMessageTsForProgressiveDisclosureReacjiFlag&&this.props.isEligibleToUpdateReacjiAnchoredMessageTs){var s,r;(r=(s=this.props).setProgressiveDisclosureLastMessageTsForMegaphoneControlledTip)===null||r===void 0||r.call(s,this.props.latestMessageTsForProgressiveDisclosureReacjiFlag)}else if(this.props.latestMessageTsForProgressiveDisclosureThreadsFlag&&this.props.isEligibleToUpdateThreadsAnchoredMessageTs){var E,D;(D=(E=this.props).setProgressiveDisclosureLastMessageTsForMegaphoneControlledTip)===null||D===void 0||D.call(E,this.props.latestMessageTsForProgressiveDisclosureThreadsFlag)}}if(this.list){var P,H;const Ze=this.isUnreadLineVisible();(H=(P=this.props).setUnreadLineVisibility)===null||H===void 0||H.call(P,Ze)}(this.props.reachedStart===!0&&this.props.reachedEnd===!0||this.props.timestamps&&this.props.timestamps.length>0)&&this.recordAndTrackTimeToUsable(qt.TimingStatus.COMPLETED);const{channelId:q,experimentCheckChannelConnectivityForDmsGroupOn:oe,isShared:ce,teamId:Ie,type:at}=this.props;oe&&q&&Ie&&q!==a.channelId&&ce&&(at==="im"||at==="mpim")&&Object(Ht.a)(Ie,q)}componentDidCatch(a){this.setState(()=>({caughtError:!0})),this.props.logger.error("MessagePane componentDidCatch:",a,"message_pane_componentDidCatch")}componentWillUnmount(){var a,s;const r=this.list&&this.list.getScrollmark("unmount"),E=this.props.channelId;if(!this.props.isChildWindow){var D,P;(P=(D=this.props).saveScrollmark)===null||P===void 0||P.call(D,{channelId:E||"",scrollmark:r})}if(this.props.isConversationViewsEnabled&&this.props.isChildWindow&&this.props.windowId!==j.c&&r){var H,q;(q=(H=this.props).maybeSaveChildWindowScrollmark)===null||q===void 0||q.call(H,{windowId:this.props.windowId||"",container:this.props.container,channelId:E||"",scrollmark:r})}this.sendSessionFrameStats(),window.removeEventListener("focus",this.recordSessionFrameStats),this.unbindKeyEventListeners(),(s=(a=this.props).setMessagePaneHasUnmounted)===null||s===void 0||s.call(a,!0);try{this.messageImpressionLogger.flushAllVisibleMessages()}catch(oe){this.props.logger.error("message_pane_unable_log_message_impressions","MessagePane unable to log message impressions",oe)}}onKeyDown(a){var s;const{key:r,shiftKey:E}=a,{overlayIsOpen:D,channelId:P,hasKeyboardFocus:H,firstUnreadTs:q,sendMessageToAnnouncerAPI:oe}=this.props;if(D)return;const ce=this.list,Ie=this.list.list,at=Zr.t("No unread messages",{fallbackHash:"dd7561b8a510f9c5ea7f80eba593dbaa668fbf72",fallbackHashNs:"reminders"});if(r==="j"&&Object(Qs.i)()&&Object(Bo.a)(a)){!q&&oe&&oe({assertive:!0,message:at,uuid:Object(vr.a)()});const Fa=Ie==null?void 0:Ie.getActiveItem();H&&!Fa&&this.focus(),this.list.jumpToUnread(a);return}const Ze=(s=this.searchTipBannerRef)===null||s===void 0?void 0:s.current;if(r==="ArrowUp"&&(Ze!=null&&Ze.isVisible())){Ze==null||Ze.focus();return}if(H)return;const Mt=La.a.MESSAGE_PANE,Ut=Object(Qo.a)({viewContext:Mt,channelId:P});if(Ut&&Ut.hasFocus()&&Ut.isEmpty()){if(r==="PageUp"){E?ce.onShiftPageUp(a):Ie.onKeyDownPageUp(a);return}if(r==="PageDown"){E?ce.onShiftPageDown(a):Ie.onKeyDownPageDown(a);return}if(r==="Home"){Ie.onKeyDownHome(a);return}r==="End"&&Ie.onKeyDownEnd(a)}}onUnreadBannerHide(){this.setState(()=>({showingUnreadBanner:!1}))}onVisibleRowsChanged(a,s){var r,E;if(!this.list)return;const D=this.getUnreadLinePlacement();this.setState(()=>({unreadPlacement:D}));const P=this.isUnreadLineVisible();(E=(r=this.props).setUnreadLineVisibility)===null||E===void 0||E.call(r,P);try{this.messageImpressionLogger.setCurrentlyVisibleMessages((s||[]).filter(Ie=>Ie.type==="message").map(Ie=>({ts:Ie.ts,channel:this.props.channelId})))}catch(Ie){this.props.logger.error("message_pane_unable_log_message_impressions","MessagePane unable to log message impressions",Ie)}if(this.list.isAtBottom()){var H,q;(q=(H=this.props).searchInProductEducationReset)===null||q===void 0||q.call(H)}if(this.props.showUnfurledJoiners&&!this.props.hasSeenUnfurledJoinersForeword&&((s||[]).some(Ie=>Ie.type==="foreword")||a.some(Ie=>Ie.type==="foreword"))){var oe,ce;(ce=(oe=this.props).setHasSeenUnfurledJoinersForeword)===null||ce===void 0||ce.call(oe,!0)}}getUnreadBannerDisplayCount(){const{timestamps:a,lastReadTs:s,unreadCount:r,reachedEnd:E}=this.props;return a&&a.length&&E?a.filter(D=>D>(s||0)).length:r||void 0}getUnreadLinePlacement(){var a;return!(!((a=this.props.timestamps)===null||a===void 0)&&a.length)&&!this.props.unreadCountKnown||!this.list?ie.VISIBLE:this.list.getUnreadLinePlacement()}setListRef(a){this.list=a}attachMessageImpressionsLogger(a,s){if(this.messageImpressionLogger)try{this.messageImpressionLogger.flushAllVisibleMessages()}catch(r){this.props.logger.error("message_pane_unable_log_message_impressions","MessagePane unable to log message impressions",r)}this.messageImpressionLogger=new ur.a({teamId:a,clogger:s,messageViewLocation:Uo.a.CHANNEL})}bindKeyEventListeners(){document.addEventListener("keydown",this.onKeyDown,!1)}unbindKeyEventListeners(){document.removeEventListener("keydown",this.onKeyDown,!1)}blur(){this.list.blur()}focus(){this.list.focus()}isUnreadLineVisible(){const{isGhostLastRead:a,unreadCount:s,reachedEnd:r,isLoading:E}=this.props;return E?!1:!!(!a&&this.list.getUnreadLinePlacement()===ie.VISIBLE||!s&&r&&this.list.isAtBottom())}jumpToMostRecent(){var a,s;(s=(a=this.props).jumpToTimestamp)===null||s===void 0||s.call(a,{ts:null})}jumpToUnread(a){this.list.jumpToUnread(a)}recordAndTrackTimeToUsable(a){if(this.props.bootInFlight){this.staleTimestamps||(this.staleTimestamps=this.props.timestamps);return}if(Object.keys(this.prqMetrics.usableVisible).length===0)return;if(this.props.windowLastBlurEvent!==0){this.prqMetrics.usableVisible={};return}if(!Object(Da.b)(Object(lt.getStateForClientStore)()))return;Object(lt.dispatchForClientStore)(Object(Xt.b)(!1));const s=this.props.telemeter.measure("navigationStart","prq_time_to_usable",null,{return_unprocessed:!0}).unprocessed;this.props.telemeter.store(`prq_time_to_usable_${this.props.bootType}`,s),(this.staleTimestamps?!Object(Wt.a)((this.props.timestamps||[]).sort(),this.staleTimestamps.sort()):!1)&&this.props.telemeter.count("prq_time_to_usable_required_sync"),Object(Ft.g)(s,"APP_ICON",!0,this.props.teamId,this.props.enterpriseId,this.props.sessionId,this.props.currentUserId,a),this.prqMetrics.usableVisible={},this.props.logger.info("PERF",`Logged time to usable (TTU): ${s}`)}recordAndTrackTimeToVisible(){var a,s;if(this.props.hasMessagePaneUnmounted&&!this.props.bootInFlight)return;if(this.props.windowLastBlurEvent!==0){this.prqMetrics.usableVisible={};return}if(!Object(Da.c)(Object(lt.getStateForClientStore)()))return;Object(lt.dispatchForClientStore)(Object(Xt.c)(!1));const r=this.props.telemeter.measure("navigationStart","prq_time_to_visible",null,{return_unprocessed:!0}).unprocessed;this.props.telemeter.store(`prq_time_to_visible_${this.props.bootType}`,r),this.prqMetrics.usableVisible={[this.props.channelId||""]:r},Object(Ft.h)(r,"APP_ICON",!1,this.props.teamId,this.props.enterpriseId,this.props.sessionId,this.props.currentUserId),(s=(a=this.props).setMessagePaneHasUnmounted)===null||s===void 0||s.call(a,!0),this.props.logger.info("PERF",`Logged time to visible (TTV): ${r}`)}recordSessionFrameStats(){window.removeEventListener("focus",this.recordSessionFrameStats),window.addEventListener("blur",this.sendSessionFrameStats),window.addEventListener("beforeunload",this.sendSessionFrameStats),Object(Ft.e)(this.props.teamId,this.props.enterpriseId,qt.EventId.PRQ_SESSION_FRAME_STATS)&&ka()}requestHistory(a){let{oldest:s,latest:r}=a;var E,D;const{channelId:P,type:H,reachedStart:q,reachedEnd:oe,logger:ce}=this.props;if(q&&oe)return!1;let Ie=s,at=r;if(at&&q){if(!Ie)return!1;at=null}if(Ie&&oe){if(!at)return!1;Ie=null}if(this.historyRateLimiter.isRequestPending({oldest:s,latest:r}))return!1;if(this.historyRateLimiter.shouldPreventHistoryRequest({oldest:s,latest:r}))return this.beaconedRateLimit?ce.warn("MESSAGE_PANE",`message_pane_request_rate_limited ${P} ${s}_${r}`):(ce.error({channelId:P,latestTs:at,oldestTs:Ie},"message_pane_request_rate_limited"),this.beaconedRateLimit=!0),!1;this.beaconedRateLimit=!1;const Ze="message-pane/requestHistory",Mt=(D=(E=this.props).fetchHistory)===null||D===void 0?void 0:D.call(E,{channelId:P||"",type:H||"",oldest:Ie,latest:at,reason:Ze});return Mt&&this.historyRateLimiter.logHistoryRequest({oldest:Ie,latest:at,promise:Mt}),Mt}sendSessionFrameStats(){if(window.addEventListener("focus",this.recordSessionFrameStats),window.removeEventListener("blur",this.sendSessionFrameStats),window.removeEventListener("beforeunload",this.sendSessionFrameStats),!ga())return;vn();const a=on();a.durationMs!==0&&Object(Ft.f)(a.durationMs,a.histFrameRenderTime,a.histJankyWindows,this.props.teamId,this.props.enterpriseId,this.props.sessionId,this.props.currentUserId)}renderArchivesBanner(){return this.state.showingArchiveBanner?K.a.createElement(fr,{jumpToRecent:this.jumpToMostRecent}):null}renderDegradedBanner(){return K.a.createElement(jn.a,null,K.a.createElement(yr.a,null))}renderMessagePaneBanner(){const{channelId:a,isExternalIm:s,isWelcomeDmTipOpen:r}=this.props,E=s?K.a.createElement(ho,{channelId:a||""}):null;return this.state.showFloatingTrialStartBanner?K.a.createElement(Jr,{onMessageLimitTrialStart:this.onMessageLimitTrialStart}):E||!r&&K.a.createElement(Ea.c,or({},Yt,{channelId:a||"",onTrialStart:this.onMessageLimitTrialStart}))}renderWelcomeSpace(){return this.props.isChildWindow?null:K.a.createElement(Ea.c,or({},qa))}renderSearchScrollbackTip(){return K.a.createElement(Ir,{ref:this.searchTipBannerRef,refocusList:this.focus})}renderUnreadBanner(){const{unreadCount:a,unreadCountKnown:s,lastReadTs:r,channelId:E,isGhostLastRead:D,markMostRecentMsgRead:P,isArchived:H,showSearchScrollbackTip:q,isChannelConversionInProgress:oe}=this.props;return H||q||oe?null:K.a.createElement($o,{channelId:E||void 0,hasUnreads:!!(a&&a>0),displayCount:this.getUnreadBannerDisplayCount(),known:s,since:r,ghost:D,unreadPlacement:this.state.unreadPlacement,jumpToUnread:this.jumpToUnread,markMostRecentMsgRead:P,onHide:this.onUnreadBannerHide})}renderConvertingBanner(){const{isChannelConversionInProgress:a}=this.props;return a?K.a.createElement(ss,null):null}renderMessageList(){const{type:a,channelDisplayName:s,isShared:r,isOrgShared:E,isYou:D,isMuted:P,hasUnreads:H,hasDraft:q,isArchived:oe,unreadCount:ce,badgeCount:Ie,canPostInChannel:at,isFileExpanding:Ze,clientTheme:Mt,showSearchScrollbackTip:Ut,isDegradedMode:Oa,isChannelConversionInProgress:Fa,showUnfurledJoiners:da}=this.props,an=(!H||this.state.unreadPlacement===ie.VISIBLE)&&!this.ieOrEdge&&!Ut&&!Oa&&!Fa,Zs=Object(cn.a)({type:a,displayName:s,isShared:r,isOrgShared:E,isYou:D,isMuted:P,hasUnreads:H,hasDraft:q,isArchived:oe,unreadCount:ce,badgeCount:Ie,canPost:at,isSelected:!1,userActive:!1,isTyping:!1}),Xs=Object(bt.f)(this.props.currentThreadKey||void 0,La.a.THREAD);return K.a.createElement(Ja,{ref:this.setListRef,channelId:this.props.channelId||void 0,"aria-label":Zs,timestamps:this.props.timestamps,startTs:this.props.startTs||void 0,startTsOffset:this.props.startTsOffset||void 0,highlightTs:this.props.highlightTs||void 0,highlightLazy:this.props.highlightLazy,ariaAnnounceMessageTs:this.props.ariaAnnounceMessageTs||void 0,focusRequestedTs:this.props.focusRequestedTs,requestHistory:this.requestHistory,lastReadTs:this.props.lastReadTs,isGhostLastRead:this.props.isGhostLastRead,rollups:this.props.rollups||void 0,isLoading:this.props.isLoading,isLoadingOlder:this.props.isLoadingOlder,setUnreadPoint:this.props.setUnreadPoint,reachedStart:this.props.reachedStart,reachedEnd:this.props.reachedEnd,prevReachedEnd:this.props.prevReachedEnd,oldest:this.props.oldest,latest:this.props.latest,onVisibleRowsChanged:this.onVisibleRowsChanged,doneHighlighting:this.props.clearHighlightTs,clearAriaAnnounceMessageTs:this.props.clearAriaAnnounceMessageTs,channelType:this.props.type,isLimited:this.props.isLimited,blurredMessages:this.props.blurredMessages,isSlackbotIm:this.props.isSlackbotIm,useStickyDayDividers:an,theme:this.props.theme,channelSessionId:this.props.channelSessionId||void 0,firstUnreadTs:this.props.firstUnreadTs||void 0,messageContainerType:La.a.MESSAGE_PANE,featureTinyspeck:this.props.featureTinyspeck,teamId:this.props.teamId||void 0,enterpriseId:this.props.enterpriseId||void 0,sessionId:this.props.sessionId||void 0,windowLastFocusEvent:this.props.windowLastFocusEvent||void 0,currentUserId:this.props.currentUserId||void 0,jumpToTimestamp:this.props.jumpToTimestamp,makeMessageSummary:this.props.makeMessageSummary,isScreenReaderEnabled:this.props.isScreenReaderEnabled,isBannerVisible:this.state.showingUnreadBanner,setFocusRequestedTs:this.props.setFocusRequestedTs,showThreadIfThreadable:this.props.isPerKeyThreadMetadataOn?this.props.metadataShowThreadIfThreadable:this.props.showThreadIfThreadable,currentThreadKey:this.props.currentThreadKey||void 0,canStartOrOpenThread:this.props.canStartOrOpenThread,threadListId:Xs,isFileExpanding:Ze,isOffline:this.props.isOffline,clientTheme:Mt,canPostInChannel:at,showUnfurledJoiners:da,useGlobalKeyboardShortcuts:!0,onMessageLimitTrialStart:this.onMessageLimitTrialStart,unlockMessages:this.state.unlockMessages,isFloatingTrialStartBannerVisible:this.state.showFloatingTrialStartBanner,onOverflow:this.props.onOverflow})}onMessageLimitTrialStart(a){let{showFloatingTrialStartBanner:s,unlockMessages:r}=a;this.setState(E=>({...E,showFloatingTrialStartBanner:s,unlockMessages:r}))}render(){if(this.state.caughtError)return null;if(this.props.unavailableTeamId)return K.a.createElement(zo.a,{channelId:this.props.channelId,unavailableTeamId:this.props.unavailableTeamId});if(!this.props.channelId||this.props.isSpaceshipFileChannel||this.props.isListFileChannel)return null;const{experimentIaBookmarksHideShowGroupTreatment:a,isBookmarksVisible:s}=this.props,r=Object(rt.default)("p-message_pane p-message_pane--classic-nav","p-message_pane--scrollbar-float-adjustment",{"p-message_pane--ie":this.ieOrEdge,"p-message_pane--with-bookmarks-bar":a,"p-message_pane--with-bookmarks-bar-open":a&&s}),E=Object(rt.default)("p-message_pane__top_banners",{"p-message_pane__top_banners--with-bookmarks-bar":a,"p-message_pane__top_banners--with-bookmarks-bar-open":a&&s}),D=Object(rt.default)("p-message_pane__banners_with_bookmarks_bar",{"p-message_pane__banners_with_bookmarks_bar--open":s});return K.a.createElement("div",{ref:this.messagePaneRef,className:r,"data-qa":"message_pane"},K.a.createElement("div",{className:E},K.a.createElement(bs.a,null),K.a.createElement(Yn.a,{destinationId:this.props.channelId}),this.renderDegradedBanner(),this.renderUnreadBanner(),this.renderConvertingBanner(),this.renderSearchScrollbackTip()),a?K.a.createElement("div",{className:D},this.renderMessagePaneBanner()):this.renderMessagePaneBanner(),this.renderWelcomeSpace(),this.renderMessageList(),this.renderArchivesBanner())}constructor(a){super(a),this.list=null,Object(Yo.a)(this,["onKeyDown","onVisibleRowsChanged","onUnreadBannerHide","setListRef","requestHistory","jumpToMostRecent","jumpToUnread","focus","renderSearchScrollbackTip","sendSessionFrameStats","recordSessionFrameStats","onMessageLimitTrialStart"]),this.messagePaneRef=K.a.createRef(),this.searchTipBannerRef=K.a.createRef(),this.state={showingArchiveBanner:!1,showingUnreadBanner:!1,unreadPlacement:ie.VISIBLE,showFloatingTrialStartBanner:!1,unlockMessages:!1},this.historyRateLimiter=new hr.a,this.prqMetrics={usableVisible:{}},this.ieOrEdge=zt.a.msie||zt.a.msedge,this.attachMessageImpressionsLogger(a.teamId,a.clogger)}}o(rr,"message_pane_BaseMessagePane"),rr.displayName="BaseMessagePane",rr.defaultProps={logger:{error:Ae.a},clogger:{track:Ae.a},channelDisplayName:void 0,type:"channel",isExternalIm:!1,theme:"light",timestamps:[],reachedStart:!1,reachedEnd:!1,prevReachedEnd:!1,oldest:void 0,latest:void 0,fetchHistory:Ae.a,lastReadTs:void 0,isGhostLastRead:!1,unreadCount:0,unreadCountKnown:!1,startTs:null,startTsOffset:null,highlightTs:null,ariaAnnounceMessageTs:null,highlightLazy:void 0,focusRequestedTs:void 0,rollups:null,isLoading:!1,isLoadingOlder:!1,setUnreadPoint:Ae.a,markMostRecentMsgRead:Ae.a,setUnreadLineVisibility:Ae.a,clearHighlightTs:Ae.a,clearAriaAnnounceMessageTs:Ae.a,jumpToTimestamp:Ae.a,saveScrollmark:Ae.a,maybeSaveChildWindowScrollmark:Ae.a,isArchived:!1,isLimited:!1,isSlackbotIm:!1,overlayIsOpen:!1,channelSessionId:null,firstUnreadTs:null,featureTinyspeck:!1,teamId:null,enterpriseId:null,sessionId:null,hasMessagePaneUnmounted:!1,setMessagePaneHasUnmounted:Ae.a,currentUserId:null,isShared:!1,isOrgShared:!1,isYou:!1,isMuted:!1,hasUnreads:!1,hasDraft:!1,badgeCount:0,windowLastBlurEvent:null,windowLastFocusEvent:null,makeMessageSummary:void 0,isScreenReaderEnabled:!1,setFocusRequestedTs:Ae.a,showThreadIfThreadable:Ae.a,metadataShowThreadIfThreadable:Ae.a,currentThreadKey:void 0,canStartOrOpenThread:Ae.a,unavailableTeamId:"",canPostInChannel:!0,searchInProductEducationReset:Ae.a,bootInFlight:!1,bootType:null,isFileExpanding:!1,isOffline:!1,clientTheme:"light",isProgressiveDisclosureEnabled:!1,latestMessageTsForProgressiveDisclosureReacjiFlag:void 0,isEligibleToUpdateReacjiAnchoredMessageTs:!0,latestMessageTsForProgressiveDisclosureThreadsFlag:void 0,isEligibleToUpdateThreadsAnchoredMessageTs:!0,showSearchScrollbackTip:!1,isDegradedMode:!1,isChannelConversionInProgress:!1,showUnfurledJoiners:!1,hasSeenUnfurledJoinersForeword:!1,setHasSeenUnfurledJoinersForeword:Ae.a,isBookmarksVisible:!1,isSpaceshipFileChannel:!1,isListFileChannel:!1,experimentIaBookmarksHideShowGroupTreatment:!1,isConversationViewsEnabled:!1,maybeShowProgressiveDisclosureTip:Ae.a,setProgressiveDisclosureLastMessageTsForMegaphoneControlledTip:Ae.a,hasKeyboardFocus:!1,sendMessageToAnnouncerAPI:Ae.a,isChildWindow:!1,windowId:j.c,container:null,isWelcomeDmTipOpen:!1,experimentCheckChannelConnectivityForDmsGroupOn:!1};var Xr=Object(pr.a)(Object(Ms.a)(Object(fa.a)(Ys(Object(Xe.a)(rr,{updateStore:h=>{let{instance:a,dispatch:s}=h;const r=a.list&&a.list.getScrollmark("with_serialization");s(Object(F.a)({channelId:a.props.channelId,scrollmark:r}))}}))))),$r=e("y8dB"),qr=e("i9jZ"),ei=e("LrWZ"),Br=e("l2Je"),Pr=e("XnQF");const Wr=Object(re.c)("Save the child window scrollmark when the user moves away from the view",(h,a,s)=>{let{windowId:r,container:E,channelId:D,scrollmark:P}=s;var H,q;const oe=a(),ce=Object(Pr.b)(oe,{windowId:r}),Ie=Object(Pr.c)(oe,{windowId:r}),at=Object(Pr.a)(oe,{windowId:r});if(ce>0){var Ze;if(Object(ei.a)(Ie))return;const Oa=at[Ie];if((Oa==null||(Ze=Oa.primary)===null||Ze===void 0?void 0:Ze.id)!==D)return;h(Object(Br.g)({windowId:r,index:Ie,viewParams:{startTs:P==null?void 0:P.mark,startTsOffset:P==null?void 0:P.offset}}));return}const Mt=at[0],Ut=at[1];if((Mt==null||(H=Mt.primary)===null||H===void 0?void 0:H.id)===D){h(Object(v.g)({windowId:r,container:E,params:{startTs:P==null?void 0:P.mark,startTsOffset:P==null?void 0:P.offset}}));return}(Ut==null||(q=Ut.primary)===null||q===void 0?void 0:q.id)===D&&h(Object(Br.g)({windowId:r,index:1,viewParams:{startTs:P==null?void 0:P.mark,startTsOffset:P==null?void 0:P.offset}}))});Wr.meta={name:"createThunk",key:"createThunkmaybeSaveChildWindowScrollmark",description:"Save the child window scrollmark when the user moves away from the view"};var ti=e("HVk8"),ai=e("uVdA"),Fr=e("v7mh"),ni=e("lLIM"),si=e("OaiI");const oi=Object(d.b)(g.a,Ga.a),ri=17,ii=oi([h=>h,(h,a)=>a,(h,a,s)=>s],(h,a,s)=>{let{timestamps:r,start:E,end:D,reachedStart:P,reachedEnd:H,prevReachedEnd:q}=h;if(!H&&!q&&r&&r.length-Object(n.a)(r,s)<ri)return{messages:[],rollups:{},reachedStart:!1,reachedEnd:!1};var oe;const ce=r.map(Ze=>(oe=a[Ze])!==null&&oe!==void 0?oe:{ts:Ze,isUnknown:!0}).filter(Ze=>!Object(Le.b)(Ze)&&!Object(Fe.fb)(Ze)),{rollups:Ie,messages:at}=Object($r.a)(ce);return{messages:at,timestamps:Object(t.a)(Object(u.a)(at,Ze=>Ze==null?void 0:Ze.ts)),rollups:Ie,reachedStart:P,reachedEnd:H,prevReachedEnd:q,oldest:E,latest:D}});function li(h){let{state:a,channelId:s,timestamps:r,rollups:E,lastReadTs:D}=h;const P=Object(_e.a)(a);return Object(f.a)(r,H=>{const oe=Object(ve.b)(a,s,H,!1);return oe?E[H]?Object.values(E[H]).map(Ze=>Ze.ts).filter(ti.a).map(Ze=>Object(ve.b)(a,s,Ze)).some(Ze=>Object(Re.a)(Ze,D,P)):Object(Re.a)(oe,D,P):!1})}o(li,"getFirstUnreadTs");function ci(h){let{state:a,rolledMessages:s}=h;const r=Object(i.a)(s,E=>{if(E!=null&&E.isUnknown)return!1;const D=Object(ht.a)(E),P=Object(pe.a)(a,D);return P?!!P.length:!1});return r?r.ts:null}o(ci,"getLatestMessageTsWithReactions");const di=o((h,a)=>{var s,r;const{shouldUseNavigate:E,container:D,getSiblingView:P,isChildWindow:H}=a,q=E?P(h,{container:D??j.i.Primary}):void 0,oe=E&&q?q.id:a.channelId||Object(Pe.a)(h),ce=Object(Y.d)(h,oe),Ie=Object(_e.i)(h,"feature_tinyspeck"),at=Object(_e.a)(h),Ze=Object(oa.g)(h),Mt=Object(oa.d)(h),Ut=Object(L.b)(h),Oa=Object(L.f)(h),Fa=Object(ia.i)(h),da=Object(ia.j)(h),an=Object(bt.b)(h,{shouldUseNavigate:E,getSiblingView:P}),Zs=Object(p.d)({state:h}),Xs=Object(l.a)({state:h}),os=Object(C.a)({state:h}),$s=Object(ue.a)(h),fo=Object(ia.c)(h),ir=Object(ai.a)(h);if(!ce)return{featureTinyspeck:Ie,currentUserId:at,teamId:Ze,enterpriseId:Mt,sessionId:Ut,hasMessagePaneUnmounted:Oa,windowLastBlurEvent:Fa,windowLastFocusEvent:da,telemeter:Zs,logger:Xs,clogger:os,bootInFlight:$s,bootType:fo};const go=Object(it.b)(h,oe),lr=!!(oe&&Object(it.c)(h,oe));let Fn=Object(mt.z)(h,ce),Go=!1;const qs=E&&D?(s=P(h,{container:D}))===null||s===void 0||(r=s.uiState)===null||r===void 0?void 0:r.ghostLastRead:Object(L.e)(h);qs&&qs!==Fn&&(Fn=qs,Go=!0);let Jn,Eo,rs,Oo;if(a.columnIdentifier==="inspector"||a.shouldUseNavigate){var jr,Ar;if(Jn=H?a.startTs:a.startTs||((jr=Object(L.r)(h,oe))===null||jr===void 0?void 0:jr.mark),Eo=H?a.startTsOffset:a.startTsOffset||((Ar=Object(L.r)(h,oe))===null||Ar===void 0?void 0:Ar.offset),a.shouldUseNavigate){var Sr,Mr,Nr,Dr;rs=q==null||(Sr=q.uiState)===null||Sr===void 0||(Mr=Sr[oe])===null||Mr===void 0?void 0:Mr.highlightTs,Oo=q==null||(Nr=q.uiState)===null||Nr===void 0||(Dr=Nr[oe])===null||Dr===void 0?void 0:Dr.highlightLazy}else rs=a.highlightTs,Oo=a.highlightLazy}else Jn=Object(L.l)(h),Eo=Object(L.m)(h),rs=Object(L.k)(h),Oo=Object(L.j)(h);const vi=Object(L.i)(h),fi=Object(mt.R)(ce),kr=Object(J.j)(h,oe,Fn),gi=kr&&kr.reachedEnd,Ei=Object(L.b)(h),Oi=Object(de.a)(h),cr=Object(J.h)(h,oe,Jn||void 0),bi=!1,Ci=Object(ve.d)(h,oe||"",cr&&cr.timestamps?cr.timestamps:[],bi),{timestamps:Rr,messages:bo,rollups:Lr,reachedStart:Ti,reachedEnd:_i,prevReachedEnd:Ii,oldest:yi,latest:Pi}=ii(cr,Ci,Jn);(Object(Kt.l)(ce)&&!Object(mt.db)(ce)||Object(gt.a)(ce))&&(Fn=Object(c.a)(Rr));const ji=li({state:h,channelId:oe||"",timestamps:Rr||[],rollups:Lr,lastReadTs:Fn||""}),Ai=Object(dt.j)(h);let Hr;Object(mt.tb)(h,ce)&&(Hr=Object(mt.Q)(h,ce));const Si=Object(ua.a)(ce)&&!!Object(Ye.i)(h,ce,!0),Mi=Object(si.isListsEnabled)(h)&&Object(ua.a)(ce)&&!!Object(Ye.h)(h,ce,!0),Ni=Object(Ke.a)(h);let Vr,Gr=!0,wr,zr=!0;if(Object(X.Y)(h)&&Object(mt.db)(ce)){if(Object(X.d)(h,{tip:V.f.Threads})){const Co=nt({rolledMessages:bo}),dr=Co?null:Je({state:h,rolledMessages:bo,channelId:oe||"",currentUserId:at});let mr;Object(X.jb)(h)===V.f.Threads&&(mr=jt({state:h,rolledMessages:bo,channelId:oe||""})),Vr=Co||dr||mr}if(Object(X.sb)(h,{tip:V.f.Threads})&&(Gr=!1),Object(X.d)(h,{tip:V.f.Reacji})){const Co=Ee({rolledMessages:bo,currentUserId:at,teamId:Ze||"",experimentRichTextGroupOn:ir}),dr=Co?null:ci({state:h,rolledMessages:bo}),mr=!Co&&!dr?Oe({state:h,rolledMessages:bo,currentUserId:at}):null;wr=Co||dr||mr}}Object(X.sb)(h,{tip:V.f.Reacji})&&(zr=!1);const Di=Object(sa.g)(h,oe),Ri=Object(na.c)(h,oe||"");return{isFileExpanding:Ni,channelId:oe,type:Object(Kt.d)(ce),isExternalIm:Object(ra.a)(ce),channelDisplayName:Object(mt.t)(h,ce,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}),timestamps:Rr,reachedStart:Ti,reachedEnd:_i,prevReachedEnd:Ii,oldest:yi,latest:Pi,lastReadTs:Fn,isGhostLastRead:Go,unreadCount:fi,unreadCountKnown:gi,startTs:Jn,startTsOffset:Eo,highlightTs:rs,ariaAnnounceMessageTs:vi,highlightLazy:Oo,focusRequestedTs:Object(L.d)(h),rollups:Object(b.a)(Lr)?_.b:Lr,isArchived:Object(gt.a)(ce),isLoading:go,isLoadingOlder:lr,isLimited:!!(oe&&Object(J.g)(h,oe)),blurredMessages:Object(J.d)(h,oe),isSlackbotIm:Object(mt.pb)(ce),overlayIsOpen:Object(ge.g)(h),channelSessionId:Ei,theme:Oi,firstUnreadTs:ji,featureTinyspeck:Ie,teamId:Ze,enterpriseId:Mt,sessionId:Ut,hasMessagePaneUnmounted:Oa,windowLastBlurEvent:Fa,windowLastFocusEvent:da,currentUserId:at,badgeCount:Object(Y.c)(h,ce),isShared:Object(Dt.a)(ce),isOrgShared:Object(ma.a)(ce),isMuted:!!(oe&&Object(S.b)(h,oe)),hasUnreads:!!Object(mt.R)(ce),hasDraft:!!(oe&&Object(mt.v)(h,oe)),isScreenReaderEnabled:Ai,currentThreadKey:an,unavailableTeamId:Hr,canPostInChannel:!!(oe&&Object(Ct.b)(h,oe)),telemeter:Zs,logger:Xs,clogger:os,bootInFlight:$s,bootType:fo,isOffline:!Object(ye.d)(h),clientTheme:Object(je.a)(h),isProgressiveDisclosureEnabled:Object(X.Y)(h),latestMessageTsForProgressiveDisclosureReacjiFlag:wr,isEligibleToUpdateReacjiAnchoredMessageTs:zr,latestMessageTsForProgressiveDisclosureThreadsFlag:Vr,isEligibleToUpdateThreadsAnchoredMessageTs:Gr,showSearchScrollbackTip:Object(A.b)(h),isDegradedMode:Object(xe.l)(h),isChannelConversionInProgress:!!(oe&&Object(ta.a)(h)&&kt(h,oe)),showUnfurledJoiners:ea(h,ce),hasSeenUnfurledJoinersForeword:Object(L.g)(h),isBookmarksVisible:Di,isSpaceshipFileChannel:Si,isListFileChannel:Mi,experimentIaBookmarksHideShowGroupTreatment:Ri,isConversationViewsEnabled:Object(qr.a)(h),isPerKeyThreadMetadataOn:Object(te.a)(h),isWelcomeDmTipOpen:Object(ni.d)(h),experimentCheckChannelConnectivityForDmsGroupOn:Object(R.d)(h,"check_channel_connectivity_for_dms")==="on"}},"connected_message_pane_mapStateToProps");function mi(h,a){let{shouldUseNavigate:s,windowId:r,container:E,activeTab:D}=h;return(P,H)=>{if(s&&E)if(r===j.c){var q;const ce=Object(Fr.g)(H(),{tab:D,container:E}),Ie=ce==null||(q=ce.uiState)===null||q===void 0?void 0:q.unreadLineVisible;Ie!==a&&(Object(l.a)({getState:H}).info("CHECK-UNREADS",`unreadLineVisible updated in main window container ${E}: ${Ie} -> ${a}`),P(Object(v.h)({windowId:j.c,tab:D,container:E,uiState:{unreadLineVisible:a}})))}else{var oe;const ce=Object(Fr.d)(H(),{windowId:r,container:E}),Ie=ce==null||(oe=ce.uiState)===null||oe===void 0?void 0:oe.unreadLineVisible;Ie!==a&&(Object(l.a)({getState:H}).info("CHECK-UNREADS",`unreadLineVisible updated in child window ${r} container ${E}: ${Ie} -> ${a}`),P(Object(v.h)({windowId:r,container:E,uiState:{unreadLineVisible:a}})))}else{const ce=Object(L.u)(H());ce!==a&&(Object(l.a)({getState:H}).info("CHECK-UNREADS",`unreadLineVisible updated: ${ce} -> ${a}`),P(Object(U.u)(a)))}}}o(mi,"checkAndSetUnreadLineVisibility");const ui=o(h=>(a,s)=>Object(He.a)(s(),h),"canStartOrOpenThreadStateWrapper"),hi=Object(d.a)(h=>h,(h,a)=>a.shouldUseNavigate,(h,a)=>a.windowId,(h,a)=>a.container,(h,a)=>a.activeTab,(h,a)=>a.view,(h,a,s,r,E,D)=>({fetchHistory:P=>h(Object(x.a)(P)),setUnreadPoint:P=>h(Object(W.a)(P)),markMostRecentMsgRead:P=>h(Object(se.a)(P)),setUnreadLineVisibility:P=>h(mi({shouldUseNavigate:a,windowId:s,container:r,activeTab:E},P)),clearHighlightTs:()=>h(B({channelId:D==null?void 0:D.id,container:r})),clearAriaAnnounceMessageTs:()=>h(Object(U.a)()),jumpToTimestamp:P=>h(Object(G.a)({...P})),saveScrollmark:P=>h(Object(F.a)(P)),setMessagePaneHasUnmounted:P=>h(Object(U.q)(P)),makeMessageSummary:P=>h(Object($.a)(P)),setFocusRequestedTs:P=>h(Object(U.l)(P)),canStartOrOpenThread:P=>h(ui(P)),showThreadIfThreadable:P=>h(Object(ne.a)(P)),metadataShowThreadIfThreadable:P=>h(Object(Z.a)(P)),searchInProductEducationReset:()=>h(Object(ee.a)()),setHasSeenUnfurledJoinersForeword:P=>h(Object(U.n)(P)),maybeShowProgressiveDisclosureTip:P=>h(Object(w.a)(P)),setProgressiveDisclosureLastMessageTsForMegaphoneControlledTip:P=>h(Object(Rt.H)(P)),maybeSaveChildWindowScrollmark:P=>h(Wr(P))}));var pi=Object(Ve.b)(Object(Nt.a)(Object(M.a)(di,hi)(Xr))),Ui=m.a=pi},qISS:function(k,m,e){"use strict";e.r(m);var n=e("q1tI"),t=e.n(n),u=e("/MKj"),f=e("nNoG"),i=e("zxER"),c=e("uVZW"),b=e("03PU"),M=e("JoR1"),d=e("VOWE"),g=e.n(d),_=e("eWGC"),p=e("ktUG"),l=e("1z69"),C=e("aHgF"),R=e("Jq9w"),L=e("P7By"),A=e("N0zA"),ee=e("W1Ru");const x=new f.b("usecase_onboarding"),U={eventId:p.EventId.NEWXP_TEAM_CREATE,elementName:c.h.USECASE_ONBOARDING_APPS_COACHMARK,elementType:p.ElementType.COACHMARK,onClick:{enableClogAction:!0},megaphoneSpaceName:c.g.WELCOME_SPACE,megaphoneNotificationName:c.h.USECASE_ONBOARDING_APPS_COACHMARK,clogImpression:!0},G=o(re=>{let{children:z}=re;const v=Object(u.useDispatch)(),j=Object(i.c)(Pe=>!!Object(M.u)(Pe,"a11y_animations")),I=Object(i.c)(C.c),B=l.b[c.h.USECASE_ONBOARDING_APPS_COACHMARK],F=Object(n.useCallback)(()=>t.a.createElement(R.a,{currentStep:B,totalSteps:l.c}),[B]),S=Object(n.useCallback)(()=>e.e("gantry-v2-async-lottie-apps-coachmark.json").then(e.t.bind(null,"sXZ0",3)),[]),J=Object(n.useCallback)(()=>t.a.createElement("div",{className:"p-usecase_onboarding_coachmark_loading p-usecase_onboarding_coachmark_loading__apps"}),[]),se=Object(n.useMemo)(()=>j?t.a.createElement(L.a,{getAnimationImport:S,autoplay:!0,loop:!0,svgClassName:"p-usecase_onboarding_coachmark_lottie",renderLoading:J}):t.a.createElement("img",{alt:"","aria-hidden":!0,src:g.a,className:"p-usecase_onboarding_coachmark_gif"}),[S,j,J]);Object(n.useEffect)(()=>{v(Object(_.a)({notificationName:c.h.USECASE_ONBOARDING_APPS_COACHMARK,action:c.f.IMPRESSION}))},[v]);const{isOpen:W,closeCoachmark:Y,renderCoachmark:ve}=Object(A.a)(c.h.USECASE_ONBOARDING_APPS_COACHMARK,c.g.WELCOME_SPACE),de=Object(n.useCallback)(()=>Y(!0),[Y]);if(!W)return null;const _e=ve({arrowPosition:30,hero:se,title:I?x.t("Manage projects without leaving Slack"):"",bodyText:I?x.rt("Already using other project management tools? Connect them to Slack to make updating tasks or staying in the loop a breeze. <steps></steps>",{"<steps>":F}):"",closeCoachmark:de,onClickPrimaryButton:de,className:"p-usecase_onboarding_coachmark p-usecase_onboarding_coachmark--apps",primaryCallToActionText:I?x.t("Done"):"",ariaLabel:I?x.t("Already using other project management tools? Connect them to Slack to make updating tasks or staying in the loop a breeze. {currentStep} of {totalSteps}",{currentStep:B,totalSteps:l.c}):"",autoClogProps:U,width:l.a,offsetX:-10,offsetY:74,closeBackgroundStyle:"dark"});return t.a.createElement(b.b,{coachmarkElement:_e,orientation:"right"},z)},"UsecaseOnboardingAppsCoachmark");G.displayName="UsecaseOnboardingAppsCoachmark",m.default=G},"r/G2":function(k,m,e){k.exports=e.p+"convert-to-template-cbd7ddd.gif"},rCFu:function(k,m,e){"use strict";e.d(m,"c",function(){return _}),e.d(m,"b",function(){return p}),e.d(m,"a",function(){return l}),e.d(m,"g",function(){return L}),e.d(m,"h",function(){return A}),e.d(m,"f",function(){return ee}),e.d(m,"d",function(){return G}),e.d(m,"e",function(){return z});var n=e("5IZy"),t=e("G5NC"),u=e("vfQU"),f=e("Pw4T"),i=e("lhZz"),c=e("U28S"),b=e("Z7Ay"),M=e("rIJ2"),d=e("ktUG"),g=e("nNoG");const _=0,p=1,l=2;function C(v,j,I,B,F,S,J,se){if(!z(F,S,d.EventId.PRQ_CHANNEL_SWITCH_USABLE))return;let W,Y;switch(B){case _:default:W=d.TimingStatus.COMPLETED,Y=!1;break;case p:W=d.TimingStatus.ABANDONED,Y=!0;break;case l:W=d.TimingStatus.COMPLETED,Y=!0;break}const de={elapsed_time:Object(c.b)(v*1e3*1e3,0),target_channel_id:I,required_sync:Y,end_state:W,...x(J,j,se)},_e={userId:se,teamId:F,enterpriseId:S,locale:Object(g.m)()};Object(n.a)(_e).track(d.EventId.PRQ_CHANNEL_SWITCH_USABLE,de);const Pe=Object(i.getStoreInstanceByTeamId)(F),ne=Pe&&Pe.getState(),Z=Object(t.a)()?"channel_switch_usable_sonic":"channel_switch_usable_legacy";Object(f.d)({state:ne}).store(Z,Math.round(v))}o(C,"trackChannelSwitchUsable");function R(v,j,I,B,F,S,J,se){if(!z(F,S,d.EventId.PRQ_CHANNEL_SWITCH_VISIBLE))return;let W,Y;switch(B){case _:default:W=d.TimingStatus.COMPLETED,Y=!1;break;case p:W=d.TimingStatus.ABANDONED,Y=!0;break;case l:W=d.TimingStatus.COMPLETED,Y=!1;break}const de={elapsed_time:Object(c.b)(v*1e3*1e3,0),target_channel_id:I,required_sync:Y,end_state:W,...x(J,j,se)},_e={userId:se,teamId:F,enterpriseId:S,locale:Object(g.m)()};Object(n.a)(_e).track(d.EventId.PRQ_CHANNEL_SWITCH_VISIBLE,de);const Pe=Object(i.getStoreInstanceByTeamId)(F),ne=Pe&&Pe.getState(),Z=Object(t.a)()?"channel_switch_visible_sonic":"channel_switch_visible_legacy";Object(f.d)({state:ne}).store(Z,Math.round(v))}o(R,"trackChannelSwitchVisible");function L(v,j,I,B,F,S,J,se){if(!z(B,F,d.EventId.PRQ_TIME_TO_USABLE))return;const W=Object(c.b)(v*1e3*1e3,0),Y=U(),ve={elapsed_time:W+Y,desktop_elapsed_time:Y,required_sync:I,end_state:se,start_type:d.MetricStartType.COLD,target_type:d.MetricTargetType.CHANNEL,...x(S,j,J)},de={userId:J,teamId:B,enterpriseId:F,locale:Object(g.m)()};Object(n.a)(de).track(d.EventId.PRQ_TIME_TO_USABLE,ve)}o(L,"trackTimeToUsable");function A(v,j,I,B,F,S,J){if(!z(B,F,d.EventId.PRQ_TIME_TO_VISIBLE))return;const se=Object(c.b)(v*1e3*1e3,0),W=U(),Y={elapsed_time:se+W,desktop_elapsed_time:W,required_sync:I,end_state:d.TimingStatus.COMPLETED,start_type:d.MetricStartType.COLD,target_type:d.MetricTargetType.CHANNEL,...x(S,j,J)},ve={userId:J,teamId:B,enterpriseId:F,locale:Object(g.m)()};Object(n.a)(ve).track(d.EventId.PRQ_TIME_TO_VISIBLE,Y)}o(A,"trackTimeToVisible");function ee(v,j,I,B,F,S,J){if(!z(B,F,d.EventId.PRQ_SESSION_FRAME_STATS))return;const se={duration_ms:v,sample_filter:"entire_session",hist_frame_render_time:j,hist_janky_windows:I,...x(S,void 0,J)},W={userId:J,teamId:B,enterpriseId:F,locale:Object(g.m)()};Object(n.a)(W).track(d.EventId.PRQ_SESSION_FRAME_STATS,se)}o(ee,"trackSessionFrameStats");function x(v,j,I){const B=typeof I=="string"&&I.startsWith("W"),F={device:{id:"",make:navigator.platform,model:navigator.platform,os:Object(u.eb)()?"electron":"webapp",os_version:u.ac||""}};let S;if(j)switch(F.ui_context={action:j==="QUICK_SWITCH"?"keydown":"click",ui_component:j},j.toUpperCase()){case"APP_ICON":S=d.MetricTrigger.APP_ICON;break;case"MSG_PANE":S=d.MetricTrigger.MSG_PANE;break;case"SIDE_BAR":S=d.MetricTrigger.SIDE_BAR;break;case"QUICK_SWITCH":S=d.MetricTrigger.QUICK_SWITCH;break;default:S=d.MetricTrigger.UNKNOWN;break}const J={contexts:F,session_id:v,time:Date.now(),app_id:Object(t.a)()?"web_sonic":"web",is_tablet:!1,user_id:B?void 0:I,external_id:B?I:void 0,...re()};return j&&(J.trigger=S),J}o(x,"getCommonMetadata");function U(){if(Object(u.eb)()){const v=Object(u.Ic)();if(v!==void 0)return v*1e6;const j=Object(u.l)();if(j&&j.numTeamsAtLaunch!==void 0&&j.isInitialTeamBooted!==void 0&&j.numTeamsAtLaunch>0&&j.isInitialTeamBooted){const I=j.BOOT,B=j.PRELOAD_READY,F=Object(u.j)(I,B);return F>0?F*1e6:0}}return 0}o(U,"getDesktopElapsedTime");function G(){if(Object(u.eb)()){const v=Object(u.Hc)();if(v!==void 0)return v;const j=Object(u.l)();if(j&&j.numTeamsAtLaunch!==void 0&&j.isInitialTeamBooted!==void 0&&j.numTeamsAtLaunch>0){const I=j.PRELOAD_STARTED,B=j.PRELOAD_READY,F=Object(u.j)(I,B);return Math.floor(F)}}return 0}o(G,"getDesktopPreloadTime");function re(){if(Object(u.eb)()){const v=Object(u.B)();if(v){const j=v.prerelease?` (${v.prerelease})`:"",I=typeof v.prerelease=="string"?v.prerelease.match(/(alpha|beta|electron3|sonic)/i)&&v.prerelease.match(/(alpha|beta|electron3|sonic)/i)[1]:"production";let B;switch(I){case"alpha":case"electron3":B=d.ClientBuildType.ALPHA;break;case"beta":B=d.ClientBuildType.BETA;break;default:B=d.ClientBuildType.PRODUCTION;break}return{app_version:`${v.major}.${v.minor}.${v.patch}${j}`,release_version:`${v.major}.${v.minor}.${v.patch}`,build_type:B}}}return{app_version:"",release_version:"",build_type:d.ClientBuildType.PRODUCTION}}o(re,"getElectronInfo");function z(v,j,I){return["E12KS1G65"].includes(j)||["T024BE7LD","T5J4Q04QG"].includes(v)||["E27SFGS2W","E655JKQRX","E7RBBBXHB","E23RHNDU5","E5BRU6WAE","E4XV0NYS0","E7AN7J5RP","E3T9KQULR","E23RE8G4F","E46RWAPHC","E6GDLMBCM","E3U2DUYG4","E783C7HT4","E8YCM8N9L","E30MTJF0C","E4BGDDU1H","E56KHGV6G","E7U335QS3","E8RLKB40H","E61V1AN6R","E7SV3P9PU","E3ZLD3D42"].includes(j)&&Object(M.a)(10)||["E27SFGS2W"].includes(j)&&[d.EventId.PRQ_TIME_TO_USABLE,d.EventId.PRQ_TIME_TO_VISIBLE].includes(I)||[d.EventId.PRQ_TIME_TO_USABLE,d.EventId.PRQ_TIME_TO_VISIBLE].includes(I)?!0:(I===d.EventId.PRQ_SESSION_FRAME_STATS,Object(M.a)(10))}o(z,"isPRQEnabled"),Object(b.a)("prq",{getDesktopElapsedTime:U,getDesktopPreloadTime:G,getElectronInfo:re})},rarT:function(k,m,e){"use strict";e.d(m,"a",function(){return d});var n=e("9oTK"),t=e.n(n),u=e("m8R6"),f=e("2XU3"),i=e("WCk1"),c=e("s4P+"),b=e("pjW8");const M={FeatureNotEnabled:"feature_not_enabled",WorkspaceNotFound:"workspace_not_found",UserNotFound:"user_not_found",OperationNotAllowed:"operation_not_allowed",ActiveInvite:"active_invite",AlreadyInWorkspace:"already_in_workspace",CouldNotCreateInvite:"could_not_create_invite",RestrictedAction:"restricted_action"},d=Object(i.a)("externalWorkspaces.invites.sendByUser generated fetcher",function(){var g=Object(n.coroutine)(function*(_,p,l){try{const C=["reason"],R=Object(u.a)(l,C),L=Object(b.b)(R);return yield _(Object(f.apiCall)({method:"externalWorkspaces.invites.sendByUser",args:L,reason:l.reason}))}catch(C){throw Object(c.a)({getState:p}).error(`API call to externalWorkspaces.invites.sendByUser
				with reason ${l.reason} failed, initiated by generated fetcher`),C}});return function(_,p,l){return g.apply(this,arguments)}}());d.meta={name:"createFetcher",key:"createFetcherexternalWorkspacesInvitesSendByUserFetcher",description:"externalWorkspaces.invites.sendByUser generated fetcher"}},sGEr:function(k,m,e){k.exports=e.p+"external-workspace-envelope-success-a5b43fa.png"},sKvQ:function(k,m,e){"use strict";var n=e("SQ0V"),t=e("+ZQ6"),u=e("O86Y"),f=e("S8Va");const i=Object(n.c)("Reload view",(c,b,M)=>{let{id:d}=M;const g=b(),_=Object(u.g)(g);Object(t.a)(d)&&_&&Object(f.b)().fetchObjectWithId(_,d)});i.meta={name:"createThunk",key:"createThunkreloadView",description:"Reload view"},m.a=i},tVK8:function(k,m,e){"use strict";var n=e("q1tI"),t=e.n(n),u=e("zEKE"),f=e("BZp1");const i=o(b=>{let{uiComponent:M,image:d,heading:g,bodyContent:_,"data-qa":p,primaryCTA:l,secondaryCTA:C}=b;const R=Object(f.a)(M);return t.a.createElement("div",{className:"p-slack_connect_dm_trial_base_banner"},t.a.createElement(u.a,{image:d,heading:g,useRoundedCorners:!1,onDismiss:R,"data-qa":p,primaryCTA:l,secondaryCTA:C},_))},"SlackConnectDMTrialBaseBanner");i.displayName="SlackConnectDMTrialBaseBanner";var c=m.a=i},tstp:function(k,m,e){"use strict";e.d(m,"a",function(){return t}),e.d(m,"d",function(){return u}),e.d(m,"c",function(){return f}),e.d(m,"b",function(){return i});var n=e("DwFS");const t=Object(n.a)("Have we already sent boot metrics");t.meta={name:"createAction",key:"createActionsetShouldLogAppBootMetrics",description:"Have we already sent boot metrics"};const u=Object(n.a)("Should we log team switch metrics");u.meta={name:"createAction",key:"createActionsetShouldLogTeamSwitchMetrics",description:"Should we log team switch metrics"};const f=Object(n.a)("Set whether we should continue logging time to visible metrics");f.meta={name:"createAction",key:"createActionsetShouldLogTTVMetrics",description:"Set whether we should continue logging time to visible metrics"};const i=Object(n.a)("Set whether we should continue logging time to usable metrics");i.meta={name:"createAction",key:"createActionsetShouldLogTTUMetrics",description:"Set whether we should continue logging time to usable metrics"}},u0IL:function(k,m,e){k.exports=e.p+"nfx-welcome-modal-es-LA-cff2817.gif"},u0ou:function(k,m,e){"use strict";e.r(m),e.d(m,"test",function(){return G}),e.d(m,"BaseI18nJapanBetaSendBtnBanner",function(){return x});var n=e("q1tI"),t=e.n(n),u=e("/MKj"),f=e("zxER"),i=e("kBpe"),c=e("nNoG"),b=e("ktUG"),M=e("Ei7s"),d=e("JoR1"),g=e("uVZW"),_=e("qN/r"),p=e("Trx9"),l=e("Tevt"),C=e("Sid4");const R=new c.b("send_btn"),L={elementName:"got_it"},A={elementName:"preferences",onClick:{enableClogAction:!0}},ee={notification:g.h.JAPAN_SEND_BUTTON},x=o(re=>{let{onPrefLinkClick:z}=re;const v=o(()=>t.a.createElement("div",null,R.rt("Send a message with a quick click, or by pressing <Keys>keys</Keys>",{},()=>t.a.createElement("div",{className:"inline_block"},t.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},Object(i.p)()?"\u2318":"Ctrl"),t.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},"Enter"))),t.a.createElement("br",null),R.rt("Don\u2018t like the change? You can always switch back in <Link>your preferences</Link>.",{},j=>{let{text:I}=j;return t.a.createElement(l.a,{"data-qa":"i18n_japan_beta_send_btn_banner_pref_link",onClick:z,autoClogProps:A},I)})),"renderBodyText");return t.a.createElement(p.a,{clogImpression:!0,eventId:b.EventId.UPGRDEXP_I18N_BANNER,uiComponentName:b.UiComponentName.JAPAN_BETA_SEND_BTN_BANNER},t.a.createElement(C.b,{headingText:R.t("Just for Japan: a button for sending"),bodyText:v(),primaryCTAText:R.t("Got It"),primaryCTAClogProps:L,notificationPrefs:ee}))},"I18nJapanBetaSendBtnBanner");x.displayName="I18nJapanBetaSendBtnBanner";const U=o(()=>{const re=Object(u.useDispatch)(),z=Object(n.useRef)(!1),v=Object(f.c)(S=>!!Object(d.u)(S,"msg_input_send_btn")),j=Object(f.c)(S=>!!Object(d.u)(S,"msg_input_send_btn_auto_set")),I=Object(n.useCallback)(()=>{re(Object(M.a)(ee))},[re]),B=Object(n.useCallback)(()=>{re(Object(_.a)({activeSection:"advanced",activeSubsection:"input-options"}))},[re]),F=Object(n.useCallback)(()=>{B(),I()},[I,B]);return Object(n.useEffect)(()=>{z.current?I():z.current=!0},[I,v,j]),t.a.createElement(x,{onPrefLinkClick:F})},"ConnectedI18nJapanBetaSendBtnBanner");U.displayName="ConnectedI18nJapanBetaSendBtnBanner";const G={NOTIFICATION_PREFS:ee};m.default=U},usGY:function(k,m,e){"use strict"},"v/8X":function(k,m,e){"use strict";e.r(m);var n=e("q1tI"),t=e.n(n),u=e("zxER"),f=e("RWAF"),i=e("BfA7"),c=e("Fhhg"),b=e("CopC");const M=o(d=>{let{view:g}=d;var _,p,l,C;const R=Object(u.c)(L=>Object(f.a)(L,g&&g.id));return g?R?t.a.createElement(b.a,null):t.a.createElement(c.a,{channelId:g.id,startTs:(_=g.params)===null||_===void 0?void 0:_.startTs,startTsOffset:(p=g.params)===null||p===void 0?void 0:p.startTsOffset,highlightTs:(l=g.params)===null||l===void 0?void 0:l.highlightTs,highlightLazy:(C=g.params)===null||C===void 0?void 0:C.highlightLazy}):null},"ChannelView");M.displayName="ChannelView",m.default=t.a.memo(Object(i.a)(M))},v4p4:function(k,m,e){k.exports=e.p+"best-in-class-msg-limit-just-reached-banner-illo-dark-0be747a.png"},vMmh:function(k,m,e){"use strict";e.d(m,"a",function(){return u});var n=e("nNoG");const t=new n.b("countries"),u={Afghanistan:{name:t.t("Afghanistan"),code:"93",examplePhoneNumbers:["701234567"],shortCode:"AF"},Albania:{name:t.t("Albania"),code:"355",examplePhoneNumbers:["661234567"],shortCode:"AL"},Algeria:{name:t.t("Algeria"),code:"213",examplePhoneNumbers:["561234567"],shortCode:"DZ"},"American Samoa":{name:t.t("American Samoa"),code:"1684",examplePhoneNumbers:["(201) 555-5555"],shortCode:"AS"},Andorra:{name:t.t("Andorra"),code:"376",examplePhoneNumbers:["312 345"],shortCode:"AD"},Angola:{name:t.t("Angola"),code:"244",examplePhoneNumbers:["923 123 456"],shortCode:"AO"},Anguilla:{name:t.t("Anguilla"),code:"1264",examplePhoneNumbers:["(201) 555-5555"],shortCode:"AI"},Antarctica:{name:t.t("Antarctica"),code:"672",examplePhoneNumbers:["(201) 555-5555"],shortCode:"AQ"},"Antigua and Barbuda":{name:t.t("Antigua and Barbuda"),code:"1268",examplePhoneNumbers:["(201) 555-5555"],shortCode:"AG"},Argentina:{name:t.t("Argentina"),code:"54",examplePhoneNumbers:["91123456789"],shortCode:"AR"},Armenia:{name:t.t("Armenia"),code:"374",examplePhoneNumbers:["77123456"],shortCode:"AM"},Aruba:{name:t.t("Aruba"),code:"297",examplePhoneNumbers:["560 1234"],shortCode:"AW"},Australia:{name:t.t("Australia"),code:"61",examplePhoneNumbers:["412345678"],shortCode:"AU"},Austria:{name:t.t("Austria"),code:"43",examplePhoneNumbers:["664123456"],shortCode:"AT"},Azerbaijan:{name:t.t("Azerbaijan"),code:"994",examplePhoneNumbers:["401234567"],shortCode:"AZ"},Bahamas:{name:t.t("Bahamas"),code:"1242",examplePhoneNumbers:["(201) 555-5555"],shortCode:"BS"},Bahrain:{name:t.t("Bahrain"),code:"973",examplePhoneNumbers:["3600 1234"],shortCode:"BH"},Bangladesh:{name:t.t("Bangladesh"),code:"880",examplePhoneNumbers:["1812345678"],shortCode:"BD"},Barbados:{name:t.t("Barbados"),code:"1246",examplePhoneNumbers:["(201) 555-5555"],shortCode:"BB"},Belarus:{name:t.t("Belarus"),code:"375",examplePhoneNumbers:["294911911"],shortCode:"BY"},Belgium:{name:t.t("Belgium"),code:"32",examplePhoneNumbers:["470123456"],shortCode:"BE"},Belize:{name:t.t("Belize"),code:"501",examplePhoneNumbers:["622-1234"],shortCode:"BZ"},Benin:{name:t.t("Benin"),code:"229",examplePhoneNumbers:["90 01 12 34"],shortCode:"BJ"},Bermuda:{name:t.t("Bermuda"),code:"1441",examplePhoneNumbers:["(201) 555-5555"],shortCode:"BM"},Bhutan:{name:t.t("Bhutan"),code:"975",examplePhoneNumbers:["17 12 23 56"],shortCode:"BT"},Bolivia:{name:t.t("Bolivia"),code:"591",examplePhoneNumbers:["71234567"],shortCode:"BO"},"Bonaire, Sint Eustatius and Saba":{name:t.t("Bonaire, Sint Eustatius and Saba"),code:"599",examplePhoneNumbers:["9 518 1234"],shortCode:"BQ"},"Bosnia and Herzegovina":{name:t.t("Bosnia and Herzegovina"),code:"387",examplePhoneNumbers:["61123456"],shortCode:"BA"},Botswana:{name:t.t("Botswana"),code:"267",examplePhoneNumbers:["71123456"],shortCode:"BW"},"Bouvet Island":{name:t.t("Bouvet Island"),code:"55",examplePhoneNumbers:["71123456"],shortCode:"BV"},Brazil:{name:t.t("Brazil"),code:"55",examplePhoneNumbers:["1196123-4567"],shortCode:"BR"},"British Virgin Islands":{name:t.t("British Virgin Islands"),code:"1284",examplePhoneNumbers:["(201) 555-5555"],shortCode:"VG"},Brunei:{name:t.t("Brunei"),code:"673",examplePhoneNumbers:["7123456"],shortCode:"BN"},Bulgaria:{name:t.t("Bulgaria"),code:"359",examplePhoneNumbers:["48123456"],shortCode:"BG"},"Burkina Faso":{name:t.t("Burkina Faso"),code:"226",examplePhoneNumbers:["70123456"],shortCode:"BF"},Burundi:{name:t.t("Burundi"),code:"257",examplePhoneNumbers:["79 56 12 34"],shortCode:"BI"},Cambodia:{name:t.t("Cambodia"),code:"855",examplePhoneNumbers:["91234567"],shortCode:"KH"},Cameroon:{name:t.t("Cameroon"),code:"237",examplePhoneNumbers:["6 71 23 45 67"],shortCode:"CM"},Canada:{name:t.t("Canada"),code:"1",examplePhoneNumbers:["(201) 555-5555"],shortCode:"CA"},"Cape Verde":{name:t.t("Cape Verde"),code:"238",examplePhoneNumbers:["991 12 34"],shortCode:"CV"},"Cayman Islands":{name:t.t("Cayman Islands"),code:"1345",examplePhoneNumbers:["(201) 555-5555"],shortCode:"KY"},"Central African Republic":{name:t.t("Central African Republic"),code:"236",examplePhoneNumbers:["70 01 23 45"],shortCode:"CF"},Chad:{name:t.t("Chad"),code:"235",examplePhoneNumbers:["63 01 23 45"],shortCode:"TD"},Chile:{name:t.t("Chile"),code:"56",examplePhoneNumbers:["961234567"],shortCode:"CL"},China:{name:t.t("China"),code:"86",examplePhoneNumbers:["131 2345 6789"],shortCode:"CN"},"Christmas Island":{name:t.t("Christmas Island"),code:"61",examplePhoneNumbers:["412345678"],shortCode:"CX"},"Cocos [Keeling] Islands":{name:t.t("Cocos [Keeling] Islands"),code:"61",examplePhoneNumbers:["412345678"],shortCode:"CC"},Colombia:{name:t.t("Colombia"),code:"57",examplePhoneNumbers:["321 1234567"],shortCode:"CO"},Comoros:{name:t.t("Comoros"),code:"269",examplePhoneNumbers:["321 23 45"],shortCode:"KM"},"Republic of the Congo":{name:t.t("Republic of the Congo"),code:"242",examplePhoneNumbers:["61234567"],shortCode:"CG"},"Democratic Republic of the Congo":{name:t.t("Democratic Republic of the Congo"),code:"243",examplePhoneNumbers:["991234567"],shortCode:"CD"},"Cook Islands":{name:t.t("Cook Islands"),code:"682",examplePhoneNumbers:["71 234"],shortCode:"CK"},"Costa Rica":{name:t.t("Costa Rica"),code:"506",examplePhoneNumbers:["8312 3456"],shortCode:"CR"},"C\xF4te d'Ivoire":{name:t.t("C\xF4te d'Ivoire"),code:"225",examplePhoneNumbers:["12 34 56 7"],shortCode:"CI"},Croatia:{name:t.t("Croatia"),code:"385",examplePhoneNumbers:["912345678"],shortCode:"HR"},Cura\u00E7ao:{name:t.t("Cura\xE7ao"),code:"5999",examplePhoneNumbers:["9 518 1234"],shortCode:"CW"},Cyprus:{name:t.t("Cyprus"),code:"357",examplePhoneNumbers:["96 123456"],shortCode:"CY"},"Czech Republic":{name:t.t("Czech Republic"),code:"420",examplePhoneNumbers:["601 123 456"],shortCode:"CZ"},Denmark:{name:t.t("Denmark"),code:"45",examplePhoneNumbers:["20 12 34 56"],shortCode:"DK"},Djibouti:{name:t.t("Djibouti"),code:"253",examplePhoneNumbers:["77 83 10 01"],shortCode:"DJ"},Dominica:{name:t.t("Dominica"),code:"1767",examplePhoneNumbers:["(201) 555-5555"],shortCode:"DM"},"Dominican Republic":{name:t.t("Dominican Republic"),code:"1",examplePhoneNumbers:["(201) 555-5555"],shortCode:"DO"},Ecuador:{name:t.t("Ecuador"),code:"593",examplePhoneNumbers:["991234567"],shortCode:"EC"},Egypt:{name:t.t("Egypt"),code:"20",examplePhoneNumbers:["1001234567"],shortCode:"EG"},"El Salvador":{name:t.t("El Salvador"),code:"503",examplePhoneNumbers:["7012 3456"],shortCode:"SV"},"Equatorial Guinea":{name:t.t("Equatorial Guinea"),code:"240",examplePhoneNumbers:["222 123 456"],shortCode:"GQ"},Eritrea:{name:t.t("Eritrea"),code:"291",examplePhoneNumbers:["7123456"],shortCode:"ER"},Estonia:{name:t.t("Estonia"),code:"372",examplePhoneNumbers:["512 3456","5123 4567"],shortCode:"EE"},Ethiopia:{name:t.t("Ethiopia"),code:"251",examplePhoneNumbers:["911234567"],shortCode:"ET"},"Falkland Islands":{name:t.t("Falkland Islands"),code:"500",examplePhoneNumbers:["51234"],shortCode:"FK"},"Faroe Islands":{name:t.t("Faroe Islands"),code:"298",examplePhoneNumbers:["211234"],shortCode:"FO"},Fiji:{name:t.t("Fiji"),code:"679",examplePhoneNumbers:["701 2345"],shortCode:"FJ"},Finland:{name:t.t("Finland"),code:"358",examplePhoneNumbers:["412345678"],shortCode:"FI"},France:{name:t.t("France"),code:"33",examplePhoneNumbers:["612345678"],shortCode:"FR"},"French Guiana":{name:t.t("French Guiana"),code:"594",examplePhoneNumbers:["694201234"],shortCode:"GF"},"French Polynesia":{name:t.t("French Polynesia"),code:"689",examplePhoneNumbers:["87 12 34 56"],shortCode:"PF"},Gabon:{name:t.t("Gabon"),code:"241",examplePhoneNumbers:["6 03 12 34"],shortCode:"GA"},Gambia:{name:t.t("Gambia"),code:"220",examplePhoneNumbers:["301 2345"],shortCode:"GM"},Georgia:{name:t.t("Georgia"),code:"995",examplePhoneNumbers:["550 12 34 56"],shortCode:"GE"},Germany:{name:t.t("Germany"),code:"49",examplePhoneNumbers:["15123456789"],shortCode:"DE"},Ghana:{name:t.t("Ghana"),code:"233",examplePhoneNumbers:["231234567"],shortCode:"GH"},Gibraltar:{name:t.t("Gibraltar"),code:"350",examplePhoneNumbers:["57123456"],shortCode:"GI"},Greece:{name:t.t("Greece"),code:"30",examplePhoneNumbers:["691 234 5678"],shortCode:"GR"},Greenland:{name:t.t("Greenland"),code:"299",examplePhoneNumbers:["22 12 34"],shortCode:"GL"},Grenada:{name:t.t("Grenada"),code:"1473",examplePhoneNumbers:["(201) 555-5555"],shortCode:"GD"},Guadeloupe:{name:t.t("Guadeloupe"),code:"590",examplePhoneNumbers:["690301234"],shortCode:"GP"},Guam:{name:t.t("Guam"),code:"1671",examplePhoneNumbers:["(201) 555-5555"],shortCode:"GU"},Guatemala:{name:t.t("Guatemala"),code:"502",examplePhoneNumbers:["5123 4567"],shortCode:"GT"},Guinea:{name:t.t("Guinea"),code:"224",examplePhoneNumbers:["601 12 34 56"],shortCode:"GN"},"Guinea-Bissau":{name:t.t("Guinea-Bissau"),code:"245",examplePhoneNumbers:["955 012 345"],shortCode:"GW"},Guyana:{name:t.t("Guyana"),code:"592",examplePhoneNumbers:["609 1234"],shortCode:"GY"},Haiti:{name:t.t("Haiti"),code:"509",examplePhoneNumbers:["34 10 1234"],shortCode:"HT"},Honduras:{name:t.t("Honduras"),code:"504",examplePhoneNumbers:["9123-4567"],shortCode:"HN"},"Hong Kong":{name:t.t("Hong Kong"),code:"852",examplePhoneNumbers:["5123 4567"],shortCode:"HK"},Hungary:{name:t.t("Hungary"),code:"36",examplePhoneNumbers:["20 123 4567"],shortCode:"HU"},Iceland:{name:t.t("Iceland"),code:"354",examplePhoneNumbers:["611 1234"],shortCode:"IS"},India:{name:t.t("India"),code:"91",examplePhoneNumbers:["91234 56789"],shortCode:"IN"},Indonesia:{name:t.t("Indonesia"),code:"62",examplePhoneNumbers:["812345678"],shortCode:"ID"},Iran:{name:t.t("Iran"),code:"98",examplePhoneNumbers:["9123456789"],shortCode:"IR"},Iraq:{name:t.t("Iraq"),code:"964",examplePhoneNumbers:["7912345678"],shortCode:"IQ"},Ireland:{name:t.t("Ireland"),code:"353",examplePhoneNumbers:["850123456"],shortCode:"IE"},"Isle of Man":{name:t.t("Isle of Man"),code:"44",examplePhoneNumbers:["7400123456"],shortCode:"IM"},Israel:{name:t.t("Israel"),code:"972",examplePhoneNumbers:["501234567"],shortCode:"IL"},Italy:{name:t.t("Italy"),code:"39",examplePhoneNumbers:["312 345 6789"],shortCode:"IT"},Jamaica:{name:t.t("Jamaica"),code:"1876",examplePhoneNumbers:["(201) 555-5555"],shortCode:"JM"},Japan:{name:t.t("Japan"),code:"81",examplePhoneNumbers:["9012345678"],shortCode:"JP"},Jersey:{name:t.t("Jersey"),code:"44",examplePhoneNumbers:["7400123456"],shortCode:"JE"},Jordan:{name:t.t("Jordan"),code:"962",examplePhoneNumbers:["790123456"],shortCode:"JO"},Kazakhstan:{name:t.t("Kazakhstan"),code:"7",examplePhoneNumbers:["912 345-67-89"],shortCode:"KZ"},Kenya:{name:t.t("Kenya"),code:"254",examplePhoneNumbers:["712123456"],shortCode:"KE"},Kiribati:{name:t.t("Kiribati"),code:"686",examplePhoneNumbers:["72012345"],shortCode:"KI"},Kosovo:{name:t.t("Kosovo"),code:"383",examplePhoneNumbers:["500 12345"],shortCode:"XK"},Kuwait:{name:t.t("Kuwait"),code:"965",examplePhoneNumbers:["500 12345"],shortCode:"KW"},Kyrgyzstan:{name:t.t("Kyrgyzstan"),code:"996",examplePhoneNumbers:["700123456"],shortCode:"KG"},"Lao People's Democratic Republic":{name:t.t("Lao People's Democratic Republic"),code:"856",examplePhoneNumbers:["2023123456"],shortCode:"LA"},Latvia:{name:t.t("Latvia"),code:"371",examplePhoneNumbers:["21 234 567"],shortCode:"LV"},Lebanon:{name:t.t("Lebanon"),code:"961",examplePhoneNumbers:["71 123 456"],shortCode:"LB"},Lesotho:{name:t.t("Lesotho"),code:"266",examplePhoneNumbers:["5012 3456"],shortCode:"LS"},Liberia:{name:t.t("Liberia"),code:"231",examplePhoneNumbers:["770123456"],shortCode:"LR"},Libya:{name:t.t("Libya"),code:"218",examplePhoneNumbers:["912345678"],shortCode:"LY"},Liechtenstein:{name:t.t("Liechtenstein"),code:"423",examplePhoneNumbers:["660 234 567"],shortCode:"LI"},Lithuania:{name:t.t("Lithuania"),code:"370",examplePhoneNumbers:["612 34567"],shortCode:"LT"},Luxembourg:{name:t.t("Luxembourg"),code:"352",examplePhoneNumbers:["628 123 456"],shortCode:"LU"},Macau:{name:t.t("Macau"),code:"853",examplePhoneNumbers:["66123456"],shortCode:"MO"},Macedonia:{name:t.t("Macedonia"),code:"389",examplePhoneNumbers:["72345678"],shortCode:"MK"},Madagascar:{name:t.t("Madagascar"),code:"261",examplePhoneNumbers:["321234567"],shortCode:"MG"},Malawi:{name:t.t("Malawi"),code:"265",examplePhoneNumbers:["991234567"],shortCode:"MW"},Malaysia:{name:t.t("Malaysia"),code:"60",examplePhoneNumbers:["123456789"],shortCode:"MY"},Maldives:{name:t.t("Maldives"),code:"960",examplePhoneNumbers:["771-2345"],shortCode:"MV"},Mali:{name:t.t("Mali"),code:"223",examplePhoneNumbers:["65 01 23 45"],shortCode:"ML"},Malta:{name:t.t("Malta"),code:"356",examplePhoneNumbers:["9696 1234"],shortCode:"MT"},"Marshall Islands":{name:t.t("Marshall Islands"),code:"692",examplePhoneNumbers:["235-1234"],shortCode:"MH"},Martinique:{name:t.t("Martinique"),code:"596",examplePhoneNumbers:["696201234"],shortCode:"MQ"},Mauritania:{name:t.t("Mauritania"),code:"222",examplePhoneNumbers:["22 12 34 56"],shortCode:"MR"},Mauritius:{name:t.t("Mauritius"),code:"230",examplePhoneNumbers:["5251 2345"],shortCode:"MU"},Mayotte:{name:t.t("Mayotte"),code:"262",examplePhoneNumbers:["692123456"],shortCode:"YT"},Mexico:{name:t.t("Mexico"),code:"52",examplePhoneNumbers:["12221234567"],shortCode:"MX"},Micronesia:{name:t.t("Micronesia"),code:"691",examplePhoneNumbers:["350 1234"],shortCode:"FM"},"Republic of Moldova":{name:t.t("Republic of Moldova"),code:"373",examplePhoneNumbers:["62112345"],shortCode:"MD"},Monaco:{name:t.t("Monaco"),code:"377",examplePhoneNumbers:["612345678"],shortCode:"MC"},Mongolia:{name:t.t("Mongolia"),code:"976",examplePhoneNumbers:["8812 3456"],shortCode:"MN"},Montenegro:{name:t.t("Montenegro"),code:"382",examplePhoneNumbers:["067 222 123"],shortCode:"ME"},Montserrat:{name:t.t("Montserrat"),code:"1664",examplePhoneNumbers:["(201) 555-5555"],shortCode:"MS"},Morocco:{name:t.t("Morocco"),code:"212",examplePhoneNumbers:["650123456"],shortCode:"MA"},Mozambique:{name:t.t("Mozambique"),code:"258",examplePhoneNumbers:["82 123 4567"],shortCode:"MZ"},Myanmar:{name:t.t("Myanmar"),code:"95",examplePhoneNumbers:["92123456"],shortCode:"MM"},Namibia:{name:t.t("Namibia"),code:"264",examplePhoneNumbers:["811234567"],shortCode:"NA"},Nauru:{name:t.t("Nauru"),code:"674",examplePhoneNumbers:["555 1234"],shortCode:"NR"},Nepal:{name:t.t("Nepal"),code:"977",examplePhoneNumbers:["984-1234567"],shortCode:"NP"},Netherlands:{name:t.t("Netherlands"),code:"31",examplePhoneNumbers:["612345678"],shortCode:"NL"},"New Caledonia":{name:t.t("New Caledonia"),code:"687",examplePhoneNumbers:["75.12.34"],shortCode:"NC"},"New Zealand":{name:t.t("New Zealand"),code:"64",examplePhoneNumbers:["211234567"],shortCode:"NZ"},Nicaragua:{name:t.t("Nicaragua"),code:"505",examplePhoneNumbers:["8123 4567"],shortCode:"NI"},Niger:{name:t.t("Niger"),code:"227",examplePhoneNumbers:["93 12 34 45"],shortCode:"NE"},Nigeria:{name:t.t("Nigeria"),code:"234",examplePhoneNumbers:["8021234567"],shortCode:"NG"},Niue:{name:t.t("Niue"),code:"683",examplePhoneNumbers:["1234"],shortCode:"NU"},"Norfolk Island":{name:t.t("Norfolk Island"),code:"672",examplePhoneNumbers:["3 81234"],shortCode:"NF"},"Northern Mariana Islands":{name:t.t("Northern Mariana Islands"),code:"1670",examplePhoneNumbers:["(201) 555-5555"],shortCode:"MP"},Norway:{name:t.t("Norway"),code:"47",examplePhoneNumbers:["406 12 345"],shortCode:"NO"},Oman:{name:t.t("Oman"),code:"968",examplePhoneNumbers:["9212 3456"],shortCode:"OM"},Pakistan:{name:t.t("Pakistan"),code:"92",examplePhoneNumbers:["3012345678"],shortCode:"PK"},Palau:{name:t.t("Palau"),code:"680",examplePhoneNumbers:["620 1234"],shortCode:"PW"},"State of Palestine":{name:t.t("State of Palestine"),code:"970",examplePhoneNumbers:["599123456"],shortCode:"PS"},Panama:{name:t.t("Panama"),code:"507",examplePhoneNumbers:["6001-2345"],shortCode:"PA"},"Papua New Guinea":{name:t.t("Papua New Guinea"),code:"675",examplePhoneNumbers:["681 2345"],shortCode:"PG"},Paraguay:{name:t.t("Paraguay"),code:"595",examplePhoneNumbers:["961345678"],shortCode:"PY"},Peru:{name:t.t("Peru"),code:"51",examplePhoneNumbers:["912 345 678"],shortCode:"PE"},Philippines:{name:t.t("Philippines"),code:"63",examplePhoneNumbers:["9051234567"],shortCode:"PH"},"Pitcairn Islands":{name:t.t("Pitcairn Islands"),code:"64",examplePhoneNumbers:["712345678"],shortCode:"PN"},Poland:{name:t.t("Poland"),code:"48",examplePhoneNumbers:["512 345 678"],shortCode:"PL"},Portugal:{name:t.t("Portugal"),code:"351",examplePhoneNumbers:["912 345 678"],shortCode:"PT"},"Puerto Rico":{name:t.t("Puerto Rico"),code:"1",examplePhoneNumbers:["(201) 555-5555"],shortCode:"PR"},Qatar:{name:t.t("Qatar"),code:"974",examplePhoneNumbers:["3312 3456"],shortCode:"QA"},R\u00E9union:{name:t.t("R\xE9union"),code:"974",examplePhoneNumbers:["692123456"],shortCode:"RE"},Romania:{name:t.t("Romania"),code:"40",examplePhoneNumbers:["712345678"],shortCode:"RO"},"Russian Federation":{name:t.t("Russian Federation"),code:"7",examplePhoneNumbers:["912 345-67-89"],shortCode:"RU"},Rwanda:{name:t.t("Rwanda"),code:"250",examplePhoneNumbers:["720123456"],shortCode:"RW"},"Saint Barth\xE9lemy":{name:t.t("Saint Barth\xE9lemy"),code:"590",examplePhoneNumbers:["690301234"],shortCode:"BL"},"Saint Helena":{name:t.t("Saint Helena"),code:"290",examplePhoneNumbers:["21234"],shortCode:"SH"},"Saint Kitts and Nevis":{name:t.t("Saint Kitts and Nevis"),code:"1869",examplePhoneNumbers:["(201) 555-5555"],shortCode:"KN"},"Saint Lucia":{name:t.t("Saint Lucia"),code:"1758",examplePhoneNumbers:["(201) 555-5555"],shortCode:"LC"},"Saint Martin":{name:t.t("Saint Martin"),code:"599",examplePhoneNumbers:["690301234"],shortCode:"MF"},"Saint Pierre and Miquelon":{name:t.t("Saint Pierre and Miquelon"),code:"508",examplePhoneNumbers:["551234"],shortCode:"PM"},"Saint Vincent and the Grenadines":{name:t.t("Saint Vincent and the Grenadines"),code:"1784",examplePhoneNumbers:["(201) 555-5555"],shortCode:"VC"},Samoa:{name:t.t("Samoa"),code:"685",examplePhoneNumbers:["601234"],shortCode:"WS"},"San Marino":{name:t.t("San Marino"),code:"378",examplePhoneNumbers:["66 66 12 12"],shortCode:"SM"},"S\xE3o Tom\xE9 and Pr\xEDncipe":{name:t.t("S\xE3o Tom\xE9 and Pr\xEDncipe"),code:"239",examplePhoneNumbers:["981 2345"],shortCode:"ST"},"Saudi Arabia":{name:t.t("Saudi Arabia"),code:"966",examplePhoneNumbers:["512345678"],shortCode:"SA"},Senegal:{name:t.t("Senegal"),code:"221",examplePhoneNumbers:["70 123 45 67"],shortCode:"SN"},Serbia:{name:t.t("Serbia"),code:"381",examplePhoneNumbers:["601234567"],shortCode:"RS"},Seychelles:{name:t.t("Seychelles"),code:"248",examplePhoneNumbers:["2 510 123"],shortCode:"SC"},"Sierra Leone":{name:t.t("Sierra Leone"),code:"232",examplePhoneNumbers:["25123456"],shortCode:"SL"},Singapore:{name:t.t("Singapore"),code:"65",examplePhoneNumbers:["8123 4567"],shortCode:"SG"},"Sint Maarten":{name:t.t("Sint Maarten"),code:"1721",examplePhoneNumbers:["(201) 555-5555"],shortCode:"SX"},Slovakia:{name:t.t("Slovakia"),code:"421",examplePhoneNumbers:["912123456"],shortCode:"SK"},Slovenia:{name:t.t("Slovenia"),code:"386",examplePhoneNumbers:["31234567"],shortCode:"SI"},"Solomon Islands":{name:t.t("Solomon Islands"),code:"386",examplePhoneNumbers:["74 21234"],shortCode:"SB"},Somalia:{name:t.t("Somalia"),code:"252",examplePhoneNumbers:["7 1123456"],shortCode:"SO"},"South Africa":{name:t.t("South Africa"),code:"27",examplePhoneNumbers:["711234567"],shortCode:"ZA"},"Republic of Korea":{name:t.t("Republic of Korea"),code:"82",examplePhoneNumbers:["1000000000"],shortCode:"KR"},"South Sudan":{name:t.t("South Sudan"),code:"211",examplePhoneNumbers:["977123456"],shortCode:"SS"},Spain:{name:t.t("Spain"),code:"34",examplePhoneNumbers:["612 34 56 78"],shortCode:"ES"},"Sri Lanka":{name:t.t("Sri Lanka"),code:"94",examplePhoneNumbers:["712345678"],shortCode:"LK"},Suriname:{name:t.t("Suriname"),code:"597",examplePhoneNumbers:["741-2345"],shortCode:"SR"},"Svalbard and Jan Mayen":{name:t.t("Svalbard and Jan Mayen"),code:"47",examplePhoneNumbers:["406 12 345"],shortCode:"SJ"},Swaziland:{name:t.t("Swaziland"),code:"268",examplePhoneNumbers:["7612 3456"],shortCode:"SZ"},Sweden:{name:t.t("Sweden"),code:"46",examplePhoneNumbers:["701234567"],shortCode:"SE"},Switzerland:{name:t.t("Switzerland"),code:"41",examplePhoneNumbers:["781234567"],shortCode:"CH"},Taiwan:{name:t.t("Taiwan"),code:"886",examplePhoneNumbers:["912345678"],shortCode:"TW"},Tajikistan:{name:t.t("Tajikistan"),code:"992",examplePhoneNumbers:["917 12 3456"],shortCode:"TJ"},Tanzania:{name:t.t("Tanzania"),code:"255",examplePhoneNumbers:["621234567"],shortCode:"TZ"},Thailand:{name:t.t("Thailand"),code:"66",examplePhoneNumbers:["812345678"],shortCode:"TH"},"Timor-Leste":{name:t.t("Timor-Leste"),code:"670",examplePhoneNumbers:["7721 2345"],shortCode:"TL"},Togo:{name:t.t("Togo"),code:"228",examplePhoneNumbers:["90 11 23 45"],shortCode:"TG"},Tokelau:{name:t.t("Tokelau"),code:"690",examplePhoneNumbers:["7290"],shortCode:"TK"},Tonga:{name:t.t("Tonga"),code:"676",examplePhoneNumbers:["771 5123"],shortCode:"TO"},"Trinidad and Tobago":{name:t.t("Trinidad and Tobago"),code:"1868",examplePhoneNumbers:["(201) 555-5555"],shortCode:"TT"},Tunisia:{name:t.t("Tunisia"),code:"216",examplePhoneNumbers:["20 123 456"],shortCode:"TN"},Turkey:{name:t.t("Turkey"),code:"90",examplePhoneNumbers:["501 234 5678"],shortCode:"TR"},Turkmenistan:{name:t.t("Turkmenistan"),code:"993",examplePhoneNumbers:["66123456"],shortCode:"TM"},"Turks and Caicos Islands":{name:t.t("Turks and Caicos Islands"),code:"1649",examplePhoneNumbers:["(201) 555-5555"],shortCode:"TC"},Tuvalu:{name:t.t("Tuvalu"),code:"688",examplePhoneNumbers:["901234"],shortCode:"TV"},"U.S. Virgin Islands":{name:t.t("U.S. Virgin Islands"),code:"1340",examplePhoneNumbers:["(201) 555-5555"],shortCode:"VI"},Uganda:{name:t.t("Uganda"),code:"256",examplePhoneNumbers:["712345678"],shortCode:"UG"},Ukraine:{name:t.t("Ukraine"),code:"380",examplePhoneNumbers:["391234567"],shortCode:"UA"},"United Arab Emirates":{name:t.t("United Arab Emirates"),code:"971",examplePhoneNumbers:["501234567"],shortCode:"AE"},"United Kingdom":{name:t.t("United Kingdom"),code:"44",examplePhoneNumbers:["7400123456"],shortCode:"GB"},"United States":{name:t.t("United States"),code:"1",examplePhoneNumbers:["(201) 555-5555"],shortCode:"US",rawName:"United States"},Uruguay:{name:t.t("Uruguay"),code:"598",examplePhoneNumbers:["94231234"],shortCode:"UY"},Uzbekistan:{name:t.t("Uzbekistan"),code:"998",examplePhoneNumbers:["912345678"],shortCode:"UZ"},Vanuatu:{name:t.t("Vanuatu"),code:"678",examplePhoneNumbers:["591 2345"],shortCode:"VU"},"Vatican City":{name:t.t("Vatican City"),code:"39",examplePhoneNumbers:["312 345 6789"],shortCode:"VA"},Venezuela:{name:t.t("Venezuela"),code:"58",examplePhoneNumbers:["4121234567"],shortCode:"VE"},Vietnam:{name:t.t("Vietnam"),code:"84",examplePhoneNumbers:["91 234 56 78"],shortCode:"VN"},"Wallis and Futuna":{name:t.t("Wallis and Futuna"),code:"681",examplePhoneNumbers:["50 12 34"],shortCode:"WF"},"Western Sahara":{name:t.t("Western Sahara"),code:"212",examplePhoneNumbers:["650123456"],shortCode:"EH"},Yemen:{name:t.t("Yemen"),code:"967",examplePhoneNumbers:["712345678"],shortCode:"YE"},Zambia:{name:t.t("Zambia"),code:"260",examplePhoneNumbers:["955123456"],shortCode:"ZM"},Zimbabwe:{name:t.t("Zimbabwe"),code:"263",examplePhoneNumbers:["711234567"],shortCode:"ZW"}},f=u["United States"]},"wE+N":function(k,m,e){"use strict";var n=e("q1tI"),t=e.n(n),u=e("Cfcg"),f=e("BHdc"),i=e("ifKl"),c=e("x/ke"),b=e("Wn1n"),M=e("Kmpi"),d=e("RWAF"),g=e("XZo2"),_=e("+KEP"),p=e("APZB"),l=e("+GhL"),C=e("5IZy"),R=e("G5NC"),L=e("nNoG"),A=e("7EGn"),ee=e("iUFw"),x=e("Tevt"),U=e("V/As");function G(X){let{appProfile:V}=X;if(!V)return null;const w=Object(U.b)(V.profile,512);return t.a.createElement("div",{className:"p-app_space_profile__side__avatar"},t.a.createElement("img",{className:"rounded",src:w,alt:"app avatar","data-qa":"app_profile_avatar"}))}o(G,"AppSpaceProfileSideAvatar"),G.displayName="AppSpaceProfileSideAvatar";var re=G,z=e("wKGu"),v=e("zxER"),j=e("ktUG");const I=new L.b("app_space");function B(X){let{appProfile:V,viewContextTeamId:w}=X;const ue=Object(z.a)(),xe=Object(v.c)(rt=>Object(l.K)(rt,V)),Ke=Object(v.c)(rt=>Object(l.v)(rt,V,w)),Ye=Object(n.useMemo)(()=>Object(l.f)(V),[V]),it=I.t("Configuration",{fallbackHash:"c7f73bb54d928922c3838bb789ee9fb8a5b1eb37",fallbackHashNs:"app_profile"}),Rt=I.t("App Homepage",{fallbackHash:"ee2dbe71c27837ecd0a10d866992e1b3ff0d9b2f",fallbackHashNs:"app_profile"}),Wt=Object(n.useCallback)(()=>{ue.track(j.EventId.APP_CLICK_LINK_APP_SETTINGS_IN_APP_SPACE_ABOUT_TAB,{contexts:{ui_context:{step:j.UiStep.APP_SPACE_ABOUT_TAB,action:j.UiAction.CLICK,ui_element:j.UiElement.LINK_APP_SETTINGS}}})},[ue]),Ae=Object(n.useCallback)(()=>{ue.track(j.EventId.APP_CLICK_LINK_APP_HOMEPAGE_IN_APP_SPACE_ABOUT_TAB,{contexts:{ui_context:{step:j.UiStep.APP_SPACE_ABOUT_TAB,action:j.UiAction.CLICK,ui_element:j.UiElement.LINK_APP_HOMEPAGE}}})},[ue]),$e=Object(n.useCallback)(()=>xe?t.a.createElement(ee.a,{type:"outline",size:"medium",href:Ke,"data-qa":"app_profile_settings_link",onClick:Wt,className:"p-app_space_profile__side_link",title:it},it):null,[it,xe,Ke,Wt]),K=Object(n.useCallback)(()=>Ye?t.a.createElement(ee.a,{type:"outline",size:"medium",href:Ye,"data-qa":"app_profile_homepage_link",className:"p-app_space_profile__side_link",title:Rt,onClick:Ae},Rt):null,[Rt,Ye,Ae]);return t.a.createElement("div",{className:"p-app_space_profile__side__links"},$e(),K())}o(B,"BaseAppSpaceProfileSideLinksFunction");var F=e("AwEi"),S=e("Owxj"),J=e("O86Y");const se=new L.b("app_space"),W={truncatedDescription:"",appDescription:""};function Y(X){let{appProfile:V,appDescription:w,truncatedDescription:ue}=X;const[xe,Ke]=Object(n.useState)(!1);if(!V||!w)return null;const Ye=Object(l.E)(V);return t.a.createElement("section",null,t.a.createElement("div",{className:"p-app_space_profile__description","data-qa":"app_profile_desc"},Ye?t.a.createElement(F.a,{text:w}):t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"p-app_space_profile__description__collapsed"},xe?t.a.createElement(F.a,{text:w}):t.a.createElement(F.a,{text:ue}))," ",t.a.createElement(x.a,{onClick:()=>Ke(!xe),"data-qa":"toggle-app-description-expansion"},xe?se.t("Show less"):se.t("Read more")))))}o(Y,"AppSpaceProfileDescription"),Y.displayName="AppSpaceProfileDescription",Y.defaultProps=W;const ve=o((X,V)=>{let{appProfile:w}=V;return{truncatedDescription:Object(S.a)(X,{messageText:Object(l.n)(w),teamId:Object(J.g)(X)}),appDescription:Object(S.a)(X,{messageText:Object(l.b)(w),teamId:Object(J.g)(X)})}},"mapStateToProps");var de=Object(u.a)(ve)(Y),_e=e("Pl1I");const Pe=new L.b("app_space"),ne={isApproved:!1,isDistributed:!1,appType:void 0,installedUserId:"",installerIsYou:!1,appName:"",appHomeTeamDisplayName:""};function Z(X){let{isApproved:V,isDistributed:w,appType:ue,installedUserId:xe,installerIsYou:Ke,appName:Ye,appHomeTeamDisplayName:it}=X;return V?null:t.a.createElement("section",null,t.a.createElement("div",{className:"p-app_space_profile__disclaimer","data-qa":"app_space_profile_disclaimer"},w?t.a.createElement(t.a.Fragment,null,Pe.t("This app is not approved by Slack.",{fallbackHash:"14a0f0dd6168d0ba20d5d59541d13a50eb535d7c"})," ",t.a.createElement(x.a,{href:"https://slack.com/blog/developers/slack-app-directory-review-process"},Pe.t("Learn more",{fallbackHash:"824d76b124e6289f372e2ff6bcba91e8939343bd"})),"."):t.a.createElement(_e.a,{isError:!1,appType:ue,memberId:xe,installerIsYou:Ke,appName:Ye,appHomeTeamDisplayName:it})))}o(Z,"BaseAppSpaceProfileDisclaimer"),Z.displayName="BaseAppSpaceProfileDisclaimer",Z.defaultProps=ne;function te(X,V){let{appProfile:w}=V;return{isApproved:Object(l.z)(w),isDistributed:Object(l.B)(w),appType:Object(l.o)(w),installedUserId:Object(l.s)(w),installerIsYou:Object(l.t)(X,w),appName:Object(l.h)(w),appHomeTeamDisplayName:Object(l.d)(X,w)}}o(te,"app_space_profile_disclaimer_mapStateToProps");var $=Object(u.a)(te)(Z),ye=e("xwCZ"),ge=e("Lts7"),je=e("YBXM"),pe=e("itAW"),Ve=e("CWPp"),Fe=e("Rthn");const Le=new L.b("app_space"),He={appName:"",isCustomIntegration:!1,manageUrl:"",viewContextTeamId:"",currentUserId:"",launchWorkflowBuilderLinkForApp:i.a,launchWorkflowBuilder:i.a,trigger:void 0,userCanLaunchWorkflowBuilder:!1};function Re(X){let{appProfile:V,appName:w,isCustomIntegration:ue,manageUrl:xe,viewContextTeamId:Ke,currentUserId:Ye,launchWorkflowBuilderLinkForApp:it,launchWorkflowBuilder:Rt,trigger:Wt,userCanLaunchWorkflowBuilder:Ae}=X;const $e=Object(n.useCallback)(()=>it({appId:V.app_id,source:"app-space-profile"}),[it,V.app_id]),K=Object(n.useCallback)(()=>Rt({source:"app-space-profile"}),[Rt]),rt=V==null?void 0:V.is_workflow_app,la=Object(A.a)(V,"legacy_app.owner_ids",[]),lt=Object(n.useMemo)(()=>new Set(la),[la]).has(Ye),Ue=Object(Ve.a)(Wt),Sa=lt&&Ue,$a=Ae&&rt&&Sa,wa=Ae&&rt&&!Sa;return t.a.createElement("div",{className:"p-app_space_profile__info"},t.a.createElement("div",{className:"p-app_space_profile__side"},t.a.createElement(re,{appProfile:V}),!rt&&t.a.createElement(B,{appProfile:V,viewContextTeamId:Ke}),$a&&t.a.createElement(ee.a,{type:"outline",size:"medium","data-qa":"app_profile_settings_link",onClick:$e,className:"p-app_space_profile__side_link"},Le.t("Open in Workflow Builder",{fallbackHash:"1fbd24acf21fb48b1ac19b039d6a0c25bbb801d5",fallbackHashNs:"app_card"})),wa&&t.a.createElement(t.a.Fragment,null,Le.rt("Created with <a>Workflow Builder</a>.",{fallbackHash:"bb97f973bc4adfcf27416393edf1e6ab9412ed2d",fallbackHashNs:"app_card"},Ma=>{let{text:Ia}=Ma;return t.a.createElement(x.a,{onClick:K},Ia)}))),t.a.createElement("div",{className:"p-app_space_profile__about"},!!w&&t.a.createElement("h2",{className:"p-app_space__header","data-qa":"app_profile_name"},w),t.a.createElement(de,{appProfile:V}),t.a.createElement($,{appProfile:V}),ue&&t.a.createElement(ee.a,{type:"outline",href:xe||void 0},Le.t("Manage"))))}o(Re,"AppSpaceProfileInfo"),Re.displayName="AppSpaceProfileInfo",Re.defaultProps=He;const ht=o((X,V)=>{let{appProfile:w}=V;return{appName:Object(l.h)(w),isCustomIntegration:Object(l.A)(w),manageUrl:Object(l.u)(X,w),currentUserId:Object(ye.c)(X).id,trigger:Object(pe.h)(X,{appId:w.app_id}),userCanLaunchWorkflowBuilder:Object(Fe.c)(X)}},"app_space_profile_info_mapStateToProps"),yt=o(X=>({launchWorkflowBuilderLinkForApp:V=>X(Object(je.a)(V)),launchWorkflowBuilder:V=>X(Object(ge.a)(V))}),"mapDispatchToProps");var gt=Object(u.a)(ht,yt)(Re),pt=e("/o10"),mt=e("qDEp"),Dt=e("oEDn");const Pt=new L.b("app_space");let Ot=o(class extends n.PureComponent{getImages(){const{appProfile:V}=this.props,w=Object(l.h)(V);return Object(l.i)(V).map(xe=>({title:w,image:{src:xe.image_1600,altText:w,thumbnailUrl:xe.image_440,height:1e3,width:1600}}))}getYoutube(){const{appProfile:V}=this.props,w=Object(l.h)(V),ue=Object(l.q)(V);return ue?{title:w,youtube:{src:ue}}:null}generateThumbnailUrl(V){const w=Object(l.x)(V);return w===""?!1:`https://i.ytimg.com/vi/${w}/hqdefault.jpg`}handleImageClick(V){const w=this.getYoutube(),ue=this.getImages();this.props.openFileViewer({...ue[V],images:w?[w,...ue]:ue})}handleYoutubeClick(){const V=this.getYoutube();if(!V)return;const w=this.getImages();this.props.openFileViewer({...V,images:[V,...w]})}renderScreenshots(){const{appProfile:V}=this.props,w=Object(l.i)(V),ue=Object(l.h)(V);if(!w||!w.length)return null;const xe=Pt.t("Screenshot of {appName}",{appName:ue});return w.map((Ke,Ye)=>t.a.createElement(mt.d,{key:Ke.id,onClick:()=>this.handleImageClick(Ye),className:"p-app_space_profile__screenshots_item","data-qa":"app_space_screenshot_button"},t.a.createElement("img",{src:Ke.image_440,alt:xe})))}renderYoutubeVideo(){const{appProfile:V}=this.props,w=Object(l.q)(V),ue=Object(l.h)(V);if(!w)return null;const xe=this.generateThumbnailUrl(w);if(!xe)return null;const Ke=Pt.t("Video of {appName}",{appName:ue});return t.a.createElement(mt.d,{onClick:this.handleYoutubeClick,className:"p-app_space_profile__screenshots_item","data-qa":"app_space_youtube_button"},t.a.createElement("img",{src:xe,alt:Ke,className:"p-app_space_profile__youtube_thumbnail"}),t.a.createElement("div",{className:"p-app_space_profile__youtube_play_button"},t.a.createElement(Dt.a,{type:"play",size:"inherit"})))}render(){const{appProfile:V}=this.props,w=Object(l.q)(V),ue=Object(l.i)(V);return(!ue||!ue.length)&&(!w||w==="")?null:t.a.createElement("div",{className:"p-app_space__screenshots"},t.a.createElement("h3",{className:"p-app_space__subheader"},Pt.t("Screenshots")),t.a.createElement("div",{className:"p-app_space_profile__screenshots","data-qa":"app_profile_screenshots"},this.renderYoutubeVideo(),this.renderScreenshots()))}constructor(V){super(V),this.handleYoutubeClick=this.handleYoutubeClick.bind(this),this.handleImageClick=this.handleImageClick.bind(this)}},"AppSpaceScreenshots");Ot.displayName="AppSpaceScreenshots",Ot.displayName="AppSpaceScreenshots",Ot.defaultProps={openFileViewer:i.a};const Kt=Ot,ea=o(X=>({openFileViewer:function(){for(var V=arguments.length,w=new Array(V),ue=0;ue<V;ue++)w[ue]=arguments[ue];return X(Object(pt.a)(...w))}}),"app_space_screenshots_mapDispatchToProps");var Nt=Object(u.a)(null,ea)(Kt),na=e("KPXh"),sa=e("bXjY");const ma=new L.b("app_space"),ua={autoFillSlashCommand:i.a,clogger:{track:i.a},appId:"",botId:"",disabled:!1};function ra(X){let{autoFillSlashCommand:V,clogger:w,appId:ue,botId:xe,command:Ke,disabled:Ye}=X;const it=Object(na.g)(Ke),Rt=Object(na.j)(Ke),Wt=Object(na.f)(Ke),Ae=Object(n.useCallback)(()=>{V({commandName:it}),w.track(j.EventId.APP_SPACE_ABOUT_SLASH_COMMAND_CLICK,{app_id:ue,bot_id:xe,contexts:{core:{app_id:ue,bot_id:xe}}})},[V,it,w,ue,xe]);return t.a.createElement("div",{className:"p-app_space_profile__slash_command","data-qa":"app_space_profile_slash_command"},t.a.createElement("div",null,t.a.createElement("div",null,t.a.createElement("strong",null,it),t.a.createElement("span",null,Rt)),t.a.createElement("div",{className:"p-app_space_profile__slash_command_desc"},Wt)),!Ye&&t.a.createElement("div",null,t.a.createElement(mt.f,{type:"outline","data-qa":it,onClick:Ae},ma.t("Start command"))))}o(ra,"AppSpaceSlashCommand"),ra.displayName="AppSpaceSlashCommand",ra.defaultProps=ua;const bt=o(X=>({clogger:Object(C.a)({state:X})}),"app_space_slash_command_mapStateToProps"),Ct=o(X=>({autoFillSlashCommand:function(){for(var V=arguments.length,w=new Array(V),ue=0;ue<V;ue++)w[ue]=arguments[ue];return X(Object(sa.a)(...w))}}),"app_space_slash_command_mapDispatchToProps");var Ga=Object(u.a)(bt,Ct)(ra);const oa=new L.b("app_space"),ia={disabled:!1};function dt(X){let{appProfile:V,disabled:w}=X;const ue=Object(l.a)(V),xe=Object(l.g)(V),Ke=Object(l.j)(V);return!ue||!ue.length?null:t.a.createElement(t.a.Fragment,null,t.a.createElement("h3",{className:"p-app_space__subheader"},t.a.createElement("span",null,oa.t("Commands")),t.a.createElement("span",{className:"p-app_space__subheader__helper"},oa.t("Use / to start commands in any conversation"))),t.a.createElement("div",{className:"p-app_space_profile__slash_commands"},t.a.createElement("section",null,ue.map(Ye=>t.a.createElement(Ga,{key:Ye.name,command:Ye,appId:xe,botId:Ke,disabled:w})))))}o(dt,"AppSpaceSlashCommands"),dt.displayName="AppSpaceSlashCommands",dt.defaultProps=ia;var vt=t.a.memo(dt),kt=e("BfA7"),ta=e("2VFn"),Je=e("fuYn");function ft(){return ft=Object.assign||function(X){for(var V=1;V<arguments.length;V++){var w=arguments[V];for(var ue in w)Object.prototype.hasOwnProperty.call(w,ue)&&(X[ue]=w[ue])}return X},ft.apply(this,arguments)}o(ft,"_extends");const nt=new L.b("app_space"),jt={clogger:{track:i.a},showSlashCommands:!1,shouldShowButDisableSlashCommands:!1,refToForward:void 0,hasKeyboardFocus:!1,onFocus:i.a,onBlur:i.a};function Bt(X){let{clogger:V,appProfile:w,showSlashCommands:ue,shouldShowButDisableSlashCommands:xe,refToForward:Ke,hasKeyboardFocus:Ye,onFocus:it,onBlur:Rt,tabIndex:Wt,role:Ae,viewContextTeamId:$e}=X;const K=Object(l.g)(w),rt=Object(l.j)(w),la=Object(n.useCallback)(()=>{V.track("APP_SPACE_ABOUT_OPEN",{app_id:K,bot_id:rt,contexts:{core:{app_id:K,bot_id:rt}}})},[V,K,rt]);if(Object(n.useEffect)(()=>{K&&rt&&la()},[K,rt,la]),!w||Object(M.e)(w))return null;const zt=Object(l.h)(w)||"",lt=nt.t("About {appName}",{appName:zt,fallbackHash:"f7f9e16e31e93cf02131b1e81ff028152a103a0a",fallbackHashNs:"app_card"}),Ue=Object(f.default)("p-app_space_profile",{"p-app_space_profile--focus":Ye});return t.a.createElement("div",{"aria-label":lt,ref:Ke,className:Ue,"data-qa":"app_space_profile",onFocus:it,onBlur:Rt,tabIndex:Wt,role:Ae},t.a.createElement(gt,{appProfile:w,viewContextTeamId:$e}),t.a.createElement(Nt,{appProfile:w}),ue?t.a.createElement(vt,{appProfile:w,disabled:xe}):null)}o(Bt,"BaseAppSpace"),Bt.displayName="BaseAppSpace",Bt.defaultProps=jt;const Ee=o((X,V)=>{var w;const{shouldUseNavigate:ue,getSiblingView:xe}=V,Ke=ue?(w=xe(X,{container:ta.i.Primary}))===null||w===void 0?void 0:w.id:Object(b.a)(X),Ye=V.channelId||Ke,it=Object(d.a)(X,Ye);if(!Object(R.a)()&&(!it||!Object(g.t)(X)))return{};const Rt=V.utaApp?V.appProfile:Object(c.b)(X,Ye),Wt=Object(l.L)(X,Rt),Ae=Wt&&Object(_.a)(X,Ye)&&Object(p.a)(X,Ye),$e=Object(Je.a)(X,{channelId:Ye});return{appProfile:Rt,showSlashCommands:Wt,shouldShowButDisableSlashCommands:Ae,clogger:Object(C.a)({state:X}),viewContextTeamId:$e}},"app_space_mapStateToProps"),Ge=Object(kt.a)(Object(u.a)(Ee)(Bt));var Oe=m.a=t.a.forwardRef((X,V)=>t.a.createElement(Ge,ft({},X,{refToForward:V})))},xXk5:function(k,m,e){"use strict";e.d(m,"a",function(){return c}),e.d(m,"c",function(){return b});var n=e("ivW5"),t=e("thso");const u=12096e5,f={persistenceEnabled:!0,persistImmediately:!0,storeKey:"recentlyJoinedChannels",afterReadTransform:M=>{const d=Date.now(),g=Object.entries(M).reduce((_,p)=>{let[l,C]=p;return d-C.dateJoined<u&&(_[l]=C),_},{});return Object(t.d)(g)}},{reducer:i,actions:c,selectors:b}=Object(n.a)(f,{transform:M=>{const{id:d,...g}=M;return{id:d,object:g}}});m.b=i},xtxb:function(k,m,e){k.exports=e.p+"external_connection_static-7bdb59f.png"},zjLW:function(k,m,e){"use strict";e.d(m,"a",function(){return d});var n=e("9oTK"),t=e.n(n),u=e("m8R6"),f=e("2XU3"),i=e("WCk1"),c=e("s4P+"),b=e("pjW8");const M={NotAllowed:"not_allowed",ChannelNotFound:"channel_not_found",NotOwner:"not_owner",Ratelimited:"ratelimited",MethodNotSupportedForChannelType:"method_not_supported_for_channel_type",InvalidArguments:"invalid_arguments"},d=Object(i.a)("instantSlack.endSession generated fetcher",function(){var g=Object(n.coroutine)(function*(_,p,l){try{const C=["reason"],R=Object(u.a)(l,C),L=Object(b.b)(R);return yield _(Object(f.apiCall)({method:"instantSlack.endSession",args:L,reason:l.reason}))}catch(C){throw Object(c.a)({getState:p}).error(`API call to instantSlack.endSession
				with reason ${l.reason} failed, initiated by generated fetcher`),C}});return function(_,p,l){return g.apply(this,arguments)}}());d.meta={name:"createFetcher",key:"createFetcherinstantSlackEndSessionFetcher",description:"instantSlack.endSession generated fetcher"}}}]);})();
